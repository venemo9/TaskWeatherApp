"use strict";(self.webpackChunkTaskWeatherApp=self.webpackChunkTaskWeatherApp||[]).push([[179],{58:(ms,Kn,We)=>{We.d(Kn,{BH:()=>Vt,G6:()=>Gi,L:()=>ct,LL:()=>H,Pz:()=>Dt,Sg:()=>Mr,UG:()=>J,ZB:()=>Te,ZR:()=>te,aH:()=>Gt,b$:()=>Pn,eu:()=>B,hl:()=>V,jU:()=>sn,m9:()=>ma,ne:()=>_s,pd:()=>Sc,r3:()=>vr,ru:()=>Wt,tV:()=>ee,uI:()=>Bn,vZ:()=>gs,w1:()=>qi,xO:()=>Dc,xb:()=>Zr,z$:()=>Je,zd:()=>Di});const Ve=function(D){const C=[];let S=0;for(let K=0;K<D.length;K++){let N=D.charCodeAt(K);N<128?C[S++]=N:N<2048?(C[S++]=N>>6|192,C[S++]=63&N|128):55296==(64512&N)&&K+1<D.length&&56320==(64512&D.charCodeAt(K+1))?(N=65536+((1023&N)<<10)+(1023&D.charCodeAt(++K)),C[S++]=N>>18|240,C[S++]=N>>12&63|128,C[S++]=N>>6&63|128,C[S++]=63&N|128):(C[S++]=N>>12|224,C[S++]=N>>6&63|128,C[S++]=63&N|128)}return C},rn={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(D,C){if(!Array.isArray(D))throw Error("encodeByteArray takes an array as a parameter");this.init_();const S=C?this.byteToCharMapWebSafe_:this.byteToCharMap_,K=[];for(let N=0;N<D.length;N+=3){const q=D[N],Ue=N+1<D.length,et=Ue?D[N+1]:0,It=N+2<D.length,Zt=It?D[N+2]:0;let Jn=(15&et)<<2|Zt>>6,Ot=63&Zt;It||(Ot=64,Ue||(Jn=64)),K.push(S[q>>2],S[(3&q)<<4|et>>4],S[Jn],S[Ot])}return K.join("")},encodeString(D,C){return this.HAS_NATIVE_SUPPORT&&!C?btoa(D):this.encodeByteArray(Ve(D),C)},decodeString(D,C){return this.HAS_NATIVE_SUPPORT&&!C?atob(D):function(D){const C=[];let S=0,K=0;for(;S<D.length;){const N=D[S++];if(N<128)C[K++]=String.fromCharCode(N);else if(N>191&&N<224){const q=D[S++];C[K++]=String.fromCharCode((31&N)<<6|63&q)}else if(N>239&&N<365){const It=((7&N)<<18|(63&D[S++])<<12|(63&D[S++])<<6|63&D[S++])-65536;C[K++]=String.fromCharCode(55296+(It>>10)),C[K++]=String.fromCharCode(56320+(1023&It))}else{const q=D[S++],Ue=D[S++];C[K++]=String.fromCharCode((15&N)<<12|(63&q)<<6|63&Ue)}}return C.join("")}(this.decodeStringToByteArray(D,C))},decodeStringToByteArray(D,C){this.init_();const S=C?this.charToByteMapWebSafe_:this.charToByteMap_,K=[];for(let N=0;N<D.length;){const q=S[D.charAt(N++)],et=N<D.length?S[D.charAt(N)]:0;++N;const Zt=N<D.length?S[D.charAt(N)]:64;++N;const Ee=N<D.length?S[D.charAt(N)]:64;if(++N,null==q||null==et||null==Zt||null==Ee)throw new hn;K.push(q<<2|et>>4),64!==Zt&&(K.push(et<<4&240|Zt>>2),64!==Ee&&K.push(Zt<<6&192|Ee))}return K},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let D=0;D<this.ENCODED_VALS.length;D++)this.byteToCharMap_[D]=this.ENCODED_VALS.charAt(D),this.charToByteMap_[this.byteToCharMap_[D]]=D,this.byteToCharMapWebSafe_[D]=this.ENCODED_VALS_WEBSAFE.charAt(D),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[D]]=D,D>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(D)]=D,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(D)]=D)}}};class hn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ct=function(D){return function(D){const C=Ve(D);return rn.encodeByteArray(C,!0)}(D).replace(/\./g,"")},ee=function(D){try{return rn.decodeString(D,!0)}catch(C){console.error("base64Decode failed: ",C)}return null};function Te(D,C){if(!(C instanceof Object))return C;switch(C.constructor){case Date:return new Date(C.getTime());case Object:void 0===D&&(D={});break;case Array:D=[];break;default:return C}for(const S in C)!C.hasOwnProperty(S)||!ot(S)||(D[S]=Te(D[S],C[S]));return D}function ot(D){return"__proto__"!==D}const Xe=()=>{try{return function Et(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const D=process.env.__FIREBASE_DEFAULTS__;return D?JSON.parse(D):void 0})()||(()=>{if(typeof document>"u")return;let D;try{D=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const C=D&&ee(D[1]);return C&&JSON.parse(C)})()}catch(D){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${D}`)}},Gt=()=>{var D;return null===(D=Xe())||void 0===D?void 0:D.config},Dt=D=>{var C;return null===(C=Xe())||void 0===C?void 0:C[`_${D}`]};class Vt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((C,S)=>{this.resolve=C,this.reject=S})}wrapCallback(C){return(S,K)=>{S?this.reject(S):this.resolve(K),"function"==typeof C&&(this.promise.catch(()=>{}),1===C.length?C(S):C(S,K))}}}function Mr(D,C){if(D.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const K=C||"demo-project",N=D.iat||0,q=D.sub||D.user_id;if(!q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ue=Object.assign({iss:`https://securetoken.google.com/${K}`,aud:K,iat:N,exp:N+3600,auth_time:N,sub:q,user_id:q,firebase:{sign_in_provider:"custom",identities:{}}},D);return[ct(JSON.stringify({alg:"none",type:"JWT"})),ct(JSON.stringify(Ue)),""].join(".")}function Je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Bn(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function J(){var D;const C=null===(D=Xe())||void 0===D?void 0:D.forceEnvironment;if("node"===C)return!0;if("browser"===C)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function sn(){return"object"==typeof self&&self.self===self}function Wt(){const D="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof D&&void 0!==D.id}function Pn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qi(){const D=Je();return D.indexOf("MSIE ")>=0||D.indexOf("Trident/")>=0}function Gi(){return!J()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function V(){try{return"object"==typeof indexedDB}catch{return!1}}function B(){return new Promise((D,C)=>{try{let S=!0;const K="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(K);N.onsuccess=()=>{N.result.close(),S||self.indexedDB.deleteDatabase(K),D(!0)},N.onupgradeneeded=()=>{S=!1},N.onerror=()=>{var q;C((null===(q=N.error)||void 0===q?void 0:q.message)||"")}}catch(S){C(S)}})}class te extends Error{constructor(C,S,K){super(S),this.code=C,this.customData=K,this.name="FirebaseError",Object.setPrototypeOf(this,te.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H.prototype.create)}}class H{constructor(C,S,K){this.service=C,this.serviceName=S,this.errors=K}create(C,...S){const K=S[0]||{},N=`${this.service}/${C}`,q=this.errors[C],Ue=q?function ge(D,C){return D.replace(mt,(S,K)=>{const N=C[K];return null!=N?String(N):`<${K}?>`})}(q,K):"Error";return new te(N,`${this.serviceName}: ${Ue} (${N}).`,K)}}const mt=/\{\$([^}]+)}/g;function vr(D,C){return Object.prototype.hasOwnProperty.call(D,C)}function Zr(D){for(const C in D)if(Object.prototype.hasOwnProperty.call(D,C))return!1;return!0}function gs(D,C){if(D===C)return!0;const S=Object.keys(D),K=Object.keys(C);for(const N of S){if(!K.includes(N))return!1;const q=D[N],Ue=C[N];if(Nn(q)&&Nn(Ue)){if(!gs(q,Ue))return!1}else if(q!==Ue)return!1}for(const N of K)if(!S.includes(N))return!1;return!0}function Nn(D){return null!==D&&"object"==typeof D}function Dc(D){const C=[];for(const[S,K]of Object.entries(D))Array.isArray(K)?K.forEach(N=>{C.push(encodeURIComponent(S)+"="+encodeURIComponent(N))}):C.push(encodeURIComponent(S)+"="+encodeURIComponent(K));return C.length?"&"+C.join("&"):""}function Di(D){const C={};return D.replace(/^\?/,"").split("&").forEach(K=>{if(K){const[N,q]=K.split("=");C[decodeURIComponent(N)]=decodeURIComponent(q)}}),C}function Sc(D){const C=D.indexOf("?");if(!C)return"";const S=D.indexOf("#",C);return D.substring(C,S>0?S:void 0)}function _s(D,C){const S=new Vs(D,C);return S.subscribe.bind(S)}class Vs{constructor(C,S){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=S,this.task.then(()=>{C(this)}).catch(K=>{this.error(K)})}next(C){this.forEachObserver(S=>{S.next(C)})}error(C){this.forEachObserver(S=>{S.error(C)}),this.close(C)}complete(){this.forEachObserver(C=>{C.complete()}),this.close()}subscribe(C,S,K){let N;if(void 0===C&&void 0===S&&void 0===K)throw new Error("Missing Observer.");N=function Ro(D,C){if("object"!=typeof D||null===D)return!1;for(const S of C)if(S in D&&"function"==typeof D[S])return!0;return!1}(C,["next","error","complete"])?C:{next:C,error:S,complete:K},void 0===N.next&&(N.next=Kt),void 0===N.error&&(N.error=Kt),void 0===N.complete&&(N.complete=Kt);const q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),q}unsubscribeOne(C){void 0===this.observers||void 0===this.observers[C]||(delete this.observers[C],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(C){if(!this.finalized)for(let S=0;S<this.observers.length;S++)this.sendOne(S,C)}sendOne(C,S){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[C])try{S(this.observers[C])}catch(K){typeof console<"u"&&console.error&&console.error(K)}})}close(C){this.finalized||(this.finalized=!0,void 0!==C&&(this.finalError=C),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Kt(){}function ma(D){return D&&D._delegate?D._delegate:D}},113:(ms,Kn,We)=>{function I(n){return"function"==typeof n}function Le(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const $=Le(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Ve(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class bt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(I(r))try{r()}catch(s){e=s instanceof $?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Zn(s)}catch(o){e=e??[],o instanceof $?e=[...e,...o.errors]:e.push(o)}}if(e)throw new $(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Zn(e);else{if(e instanceof bt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ve(t,e)}remove(e){const{_finalizers:t}=this;t&&Ve(t,e),e instanceof bt&&e._removeParent(this)}}bt.EMPTY=(()=>{const n=new bt;return n.closed=!0,n})();const rn=bt.EMPTY;function hn(n){return n instanceof bt||n&&"closed"in n&&I(n.remove)&&I(n.add)&&I(n.unsubscribe)}function Zn(n){I(n)?n():n.unsubscribe()}const ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},ee={setTimeout(n,e,...t){const{delegate:r}=ee;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=ee;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ae(n){ee.setTimeout(()=>{const{onUnhandledError:e}=ct;if(!e)throw n;e(n)})}function Te(){}const ot=At("C",void 0,void 0);function At(n,e,t){return{kind:n,value:e,error:t}}let $e=null;function Xe(n){if(ct.useDeprecatedSynchronousErrorHandling){const e=!$e;if(e&&($e={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=$e;if($e=null,t)throw r}}else n()}class Xn extends bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,hn(e)&&e.add(this)):this.destination=sn}static create(e,t,r){return new Mr(e,t,r)}next(e){this.isStopped?J(function Qn(n){return At("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?J(function Et(n){return At("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?J(ot,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Gt=Function.prototype.bind;function Dt(n,e){return Gt.call(n,e)}class Vt{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Je(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Je(r)}else Je(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Je(t)}}}class Mr extends Xn{constructor(e,t,r){let i;if(super(),I(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&ct.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Dt(e.next,s),error:e.error&&Dt(e.error,s),complete:e.complete&&Dt(e.complete,s)}):i=e}this.destination=new Vt(i)}}function Je(n){ct.useDeprecatedSynchronousErrorHandling?function Yn(n){ct.useDeprecatedSynchronousErrorHandling&&$e&&($e.errorThrown=!0,$e.error=n)}(n):ae(n)}function J(n,e){const{onStoppedNotification:t}=ct;t&&ee.setTimeout(()=>t(n,e))}const sn={closed:!0,next:Te,error:function Bn(n){throw n},complete:Te},Wt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Pn(n){return n}function qi(n){return 0===n.length?Pn:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let dt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function V(n){return n&&n instanceof Xn||function Gi(n){return n&&I(n.next)&&I(n.error)&&I(n.complete)}(n)&&hn(n)}(t)?t:new Mr(t,r,i);return Xe(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=xo(r))((i,s)=>{const o=new Mr({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Wt](){return this}pipe(...t){return qi(t)(this)}toPromise(t){return new(t=xo(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function xo(n){var e;return null!==(e=n??ct.Promise)&&void 0!==e?e:Promise}const B=Le(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let j=(()=>{class n extends dt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new G(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new B}next(t){Xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Xe(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?rn:(this.currentObservers=null,s.push(t),new bt(()=>{this.currentObservers=null,Ve(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new dt;return t.source=this,t}}return n.create=(e,t)=>new G(e,t),n})();class G extends j{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:rn}}function te(n){return I(n?.lift)}function H(n){return e=>{if(te(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ge(n,e,t,r,i){return new mt(n,e,t,r,i)}class mt extends Xn{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function be(n,e){return H((t,r)=>{let i=0;t.subscribe(ge(r,s=>{r.next(n.call(e,s,i++))}))})}var Ae=We(582);const yt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function on(n){return I(n?.then)}function Ht(n){return I(n[Wt])}function ur(n){return Symbol.asyncIterator&&I(n?.[Symbol.asyncIterator])}function jn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Pr=function vr(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Zr(n){return I(n?.[Pr])}function Ac(n){return(0,Ae.FC)(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield(0,Ae.qq)(t.read());if(i)return yield(0,Ae.qq)(void 0);yield yield(0,Ae.qq)(r)}}finally{t.releaseLock()}})}function gs(n){return I(n?.getReader)}function Nn(n){if(n instanceof dt)return n;if(null!=n){if(Ht(n))return function ua(n){return new dt(e=>{const t=n[Wt]();if(I(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(yt(n))return function Dc(n){return new dt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(on(n))return function Di(n){return new dt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ae)})}(n);if(ur(n))return Nr(n);if(Zr(n))return function Sc(n){return new dt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(gs(n))return function _s(n){return Nr(Ac(n))}(n)}throw jn(n)}function Nr(n){return new dt(e=>{(function Vs(n,e){var t,r,i,s;return(0,Ae.mG)(this,void 0,void 0,function*(){try{for(t=(0,Ae.KL)(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function dr(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function Kt(n,e,t=1/0){return I(e)?Kt((r,i)=>be((s,o)=>e(r,s,i,o))(Nn(n(r,i))),t):("number"==typeof e&&(t=e),H((r,i)=>function Ro(n,e,t,r,i,s,o,a){const c=[];let u=0,h=0,m=!1;const g=()=>{m&&!c.length&&!u&&e.complete()},y=E=>u<r?b(E):c.push(E),b=E=>{s&&e.next(E),u++;let w=!1;Nn(t(E,h++)).subscribe(ge(e,M=>{i?.(M),s?y(M):e.next(M)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<r;){const M=c.shift();o?dr(e,o,()=>b(M)):b(M)}g()}catch(M){e.error(M)}}))};return n.subscribe(ge(e,y,()=>{m=!0,g()})),()=>{a?.()}}(r,i,n,t)))}function Si(n=1/0){return Kt(Pn,n)}const Hn=new dt(n=>n.complete());function Us(n){return n[n.length-1]}function ha(n){return I(Us(n))?n.pop():void 0}function Bs(n){return function gi(n){return n&&I(n.schedule)}(Us(n))?n.pop():void 0}function br(n,e=0){return H((t,r)=>{t.subscribe(ge(r,i=>dr(r,n,()=>r.next(i),e),()=>dr(r,n,()=>r.complete(),e),i=>dr(r,n,()=>r.error(i),e)))})}function Or(n,e=0){return H((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ma(n,e){if(!n)throw new Error("Iterable cannot be null");return new dt(t=>{dr(t,e,()=>{const r=n[Symbol.asyncIterator]();dr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function S(n,e){return e?function C(n,e){if(null!=n){if(Ht(n))return function js(n,e){return Nn(n).pipe(Or(e),br(e))}(n,e);if(yt(n))return function du(n,e){return new dt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(on(n))return function pa(n,e){return Nn(n).pipe(Or(e),br(e))}(n,e);if(ur(n))return ma(n,e);if(Zr(n))return function xc(n,e){return new dt(t=>{let r;return dr(t,e,()=>{r=n[Pr](),dr(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>I(r?.return)&&r.return()})}(n,e);if(gs(n))return function D(n,e){return ma(Ac(n),e)}(n,e)}throw jn(n)}(n,e):Nn(n)}function K(...n){const e=Bs(n),t=function fa(n,e){return"number"==typeof Us(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?Nn(r[0]):Si(t)(S(r,e)):Hn}class N extends j{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function q(...n){return S(n,Bs(n))}function Ue(n={}){const{connector:e=(()=>new j),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,u=0,h=!1,m=!1;const g=()=>{a?.unsubscribe(),a=void 0},y=()=>{g(),o=c=void 0,h=m=!1},b=()=>{const E=o;y(),E?.unsubscribe()};return H((E,w)=>{u++,!m&&!h&&g();const M=c=c??e();w.add(()=>{u--,0===u&&!m&&!h&&(a=et(b,i))}),M.subscribe(w),!o&&u>0&&(o=new Mr({next:x=>M.next(x),error:x=>{m=!0,g(),a=et(y,t,x),M.error(x)},complete:()=>{h=!0,g(),a=et(y,r),M.complete()}}),Nn(E).subscribe(o))})(s)}}function et(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Mr({next:()=>{r.unsubscribe(),n()}});return Nn(e(...t)).subscribe(r)}function It(n,e){return H((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(ge(r,c=>{i?.unsubscribe();let u=0;const h=s++;Nn(n(c,h)).subscribe(i=ge(r,m=>r.next(e?e(c,m,h,u++):m),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Zt(n,e=Pn){return n=n??$n,H((t,r)=>{let i,s=!0;t.subscribe(ge(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function $n(n,e){return n===e}function Ee(n){for(let e in n)if(n[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function Jn(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Ot(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ot).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Wi(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const hu=Ee({__forward_ref__:Ee});function L(n){return n.__forward_ref__=L,n.toString=function(){return Ot(this())},n}function R(n){return ie(n)?n():n}function ie(n){return"function"==typeof n&&n.hasOwnProperty(hu)&&n.__forward_ref__===L}function xe(n){return n&&!!n.\u0275providers}const it="https://g.co/ng/security#xss";class O extends Error{constructor(e,t){super(function Dn(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function we(n){return"string"==typeof n?n:null==n?"":String(n)}function Rc(n,e){throw new O(-201,!1)}function kr(n,e){null==n&&function Oe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function me(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Yt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Mc(n){return Kh(n,Pc)||Kh(n,Gg)}function Kh(n,e){return n.hasOwnProperty(e)?n[e]:null}function ys(n){return n&&(n.hasOwnProperty(Nc)||n.hasOwnProperty(Zh))?n[Nc]:null}const Pc=Ee({\u0275prov:Ee}),Nc=Ee({\u0275inj:Ee}),Gg=Ee({ngInjectableDef:Ee}),Zh=Ee({ngInjectorDef:Ee});var ut=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ut||{});let Oc;function hr(n){const e=Oc;return Oc=n,e}function Kg(n,e,t){const r=Mc(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ut.Optional?null:void 0!==e?e:void Rc(Ot(n))}const xt=globalThis;class oe{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=me({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Yr={},Vc="__NG_DI_FLAG__",pu="ngTempTokenPath",yE=/\n/gm,e_="__source";let $s;function Zi(n){const e=$s;return $s=n,e}function bE(n,e=ut.Default){if(void 0===$s)throw new O(-203,!1);return null===$s?Kg(n,void 0,e):$s.get(n,e&ut.Optional?null:void 0,e)}function Y(n,e=ut.Default){return(function Wg(){return Oc}()||bE)(R(n),e)}function ce(n,e=ut.Default){return Y(n,gu(e))}function gu(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Xh(n){const e=[];for(let t=0;t<n.length;t++){const r=R(n[t]);if(Array.isArray(r)){if(0===r.length)throw new O(900,!1);let i,s=ut.Default;for(let o=0;o<r.length;o++){const a=r[o],c=Ox(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(Y(i,s))}else e.push(Y(r))}return e}function vs(n,e){return n[Vc]=e,n.prototype[Vc]=e,n}function Ox(n){return n[Vc]}function Fr(n){return{toString:n}.toString()}var Es=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Es||{}),Xr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Xr||{});const xi={},vt=[],_u=Ee({\u0275cmp:Ee}),zs=Ee({\u0275dir:Ee}),ef=Ee({\u0275pipe:Ee}),Uc=Ee({\u0275mod:Ee}),Qi=Ee({\u0275fac:Ee}),_a=Ee({__NG_ELEMENT_ID__:Ee}),yu=Ee({__NG_ENV_ID__:Ee});function Jr(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function vu(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];bu(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function t_(n){return 3===n||4===n||6===n}function bu(n){return 64===n.charCodeAt(0)}function qs(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||tf(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function tf(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const nf="ng-template";function EE(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==Jr(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function Eu(n){return 4===n.type&&n.value!==nf}function rf(n,e,t){return e===(4!==n.type||t?n.value:nf)}function sf(n,e,t){let r=4;const i=n.attrs||[],s=function n_(n){for(let e=0;e<n.length;e++)if(t_(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!rf(n,c,t)||""===c&&1===e.length){if(Lr(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!EE(n.attrs,u,t)){if(Lr(r))return!1;o=!0}continue}const m=af(8&r?"class":c,i,Eu(n),t);if(-1===m){if(Lr(r))return!1;o=!0;continue}if(""!==u){let g;g=m>s?"":i[m+1].toLowerCase();const y=8&r?g:null;if(y&&-1!==Jr(y,u,0)||2&r&&u!==g){if(Lr(r))return!1;o=!0}}}}else{if(!o&&!Lr(r)&&!Lr(c))return!1;if(o&&Lr(c))continue;o=!1,r=c|1&r}}return Lr(r)||o}function Lr(n){return 0==(1&n)}function af(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function uf(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function cf(n,e,t=!1){for(let r=0;r<e.length;r++)if(sf(n,e[r],t))return!0;return!1}function Iu(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function wu(n,e){return n?":not("+e.trim()+")":e}function r_(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!Lr(o)&&(e+=wu(s,i),i=""),r=o,s=s||!Lr(r);t++}return""!==i&&(e+=wu(s,i)),e}function En(n){return Fr(()=>{const e=Cu(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Es.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Xr.Emulated,styles:n.styles||vt,_:null,schemas:n.schemas||null,tView:null,id:""};s_(t);const r=n.dependencies;return t.directiveDefs=ya(r,!1),t.pipeDefs=ya(r,!0),t.id=function ff(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function hf(n){return ht(n)||On(n)}function wE(n){return null!==n}function Xt(n){return Fr(()=>({type:n.type,bootstrap:n.bootstrap||vt,declarations:n.declarations||vt,imports:n.imports||vt,exports:n.exports||vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Tu(n,e){if(null==n)return xi;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function Ne(n){return Fr(()=>{const e=Cu(n);return s_(e),e})}function er(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function ht(n){return n[_u]||null}function On(n){return n[zs]||null}function Er(n){return n[ef]||null}function ei(n,e){const t=n[Uc]||null;if(!t&&!0===e)throw new Error(`Type ${Ot(n)} does not have '\u0275mod' property.`);return t}function Cu(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||xi,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||vt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Tu(n.inputs,e),outputs:Tu(n.outputs)}}function s_(n){n.features?.forEach(e=>e(n))}function ya(n,e){if(!n)return null;const t=e?Er:hf;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(wE)}const fn=0,pe=1,Ke=2,Ut=3,Ri=4,jc=5,zn=6,va=7,In=8,Yi=9,ba=10,Be=11,Hc=12,Au=13,Ea=14,an=15,$c=16,Ws=17,Xi=18,Mo=19,a_=20,Ji=21,Is=22,zc=23,Ia=24,st=25,Ks=1,pf=2,es=7,wa=9,tr=11;function ti(n){return Array.isArray(n)&&"object"==typeof n[Ks]}function Vr(n){return Array.isArray(n)&&!0===n[Ks]}function Gc(n){return 0!=(4&n.flags)}function Po(n){return n.componentOffset>-1}function Su(n){return 1==(1&n.flags)}function ts(n){return!!n.template}function c_(n){return 0!=(512&n[Ke])}function ns(n,e){return n.hasOwnProperty(Qi)?n[Qi]:null}let nr=null,Zs=!1;function _i(n){const e=nr;return nr=n,e}const wn={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function xu(n){if(!Ys(n)||n.dirty){if(!n.producerMustRecompute(n)&&!g_(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function m_(n){n.dirty=!0,function p_(n){if(void 0===n.liveConsumerNode)return;const e=Zs;Zs=!0;try{for(const t of n.liveConsumerNode)t.dirty||m_(t)}finally{Zs=e}}(n),n.consumerMarkedDirty?.(n)}function yf(n){return n&&(n.nextProducerIndex=0),_i(n)}function Ru(n,e){if(_i(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Ys(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Qs(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function g_(n){Ca(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(xu(t),r!==t.version))return!0}return!1}function Kc(n){if(Ca(n),Ys(n))for(let e=0;e<n.producerNode.length;e++)Qs(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Qs(n,e){if(function Mu(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),Ca(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Qs(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ca(i),i.producerIndexOfThis[r]=e}}function Ys(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ca(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let v_=null;const I_=()=>{},RE=(()=>({...wn,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:I_}))();class ME{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function ni(){return w_}function w_(n){return n.type.prototype.ngOnChanges&&(n.setInput=NE),PE}function PE(){const n=T_(this),e=n?.current;if(e){const t=n.previous;if(t===xi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function NE(n,e,t,r){const i=this.declaredInputs[t],s=T_(n)||function If(n,e){return n[Nu]=e}(n,{previous:xi,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new ME(c&&c.currentValue,e,a===xi),n[r]=e}ni.ngInherit=!0;const Nu="__ngSimpleChanges__";function T_(n){return n[Nu]||null}const rs=function(n,e,t){},Ou="svg";function Nt(n){for(;Array.isArray(n);)n=n[fn];return n}function Da(n,e){return Nt(e[n])}function qn(n,e){return Nt(e[n.index])}function ku(n,e){return n.data[e]}function Sa(n,e){return n[e]}function ri(n,e){const t=e[n];return ti(t)?t:t[fn]}function Xs(n,e){return null==e?null:n[e]}function A_(n){n[Ws]=0}function Df(n){1024&n[Ke]||(n[Ke]|=1024,Fu(n,1))}function D_(n){1024&n[Ke]&&(n[Ke]&=-1025,Fu(n,-1))}function Fu(n,e){let t=n[Ut];if(null===t)return;t[jc]+=e;let r=t;for(t=t[Ut];null!==t&&(1===e&&1===r[jc]||-1===e&&0===r[jc]);)t[jc]+=e,r=t,t=t[Ut]}const Fe={lFrame:O_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vu(){return Fe.bindingsEnabled}function Js(){return null!==Fe.skipHydrationRootTNode}function ne(){return Fe.lFrame.lView}function ft(){return Fe.lFrame.tView}function ws(n){return Fe.lFrame.contextLView=n,n[In]}function Ts(n){return Fe.lFrame.contextLView=null,n}function kn(){let n=P_();for(;null!==n&&64===n.type;)n=n.parent;return n}function P_(){return Fe.lFrame.currentTNode}function yi(n,e){const t=Fe.lFrame;t.currentTNode=n,t.isParent=e}function Mf(){return Fe.lFrame.isParent}function Xc(){Fe.lFrame.isParent=!1}function rr(){const n=Fe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Fo(){return Fe.lFrame.bindingIndex++}function is(n){const e=Fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function kf(n,e){const t=Fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,Ff(e)}function Ff(n){Fe.lFrame.currentDirectiveIndex=n}function Bu(){return Fe.lFrame.currentQueryIndex}function Vf(n){Fe.lFrame.currentQueryIndex=n}function jE(n){const e=n[pe];return 2===e.type?e.declTNode:1===e.type?n[zn]:null}function Uf(n,e,t){if(t&ut.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&ut.Host||(i=jE(s),null===i||(s=s[Ea],10&i.type))););if(null===i)return!1;e=i,n=s}const r=Fe.lFrame=Jc();return r.currentTNode=e,r.lView=n,!0}function Bf(n){const e=Jc(),t=n[pe];Fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Jc(){const n=Fe.lFrame,e=null===n?null:n.child;return null===e?O_(n):e}function O_(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function k_(){const n=Fe.lFrame;return Fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const F_=k_;function jf(){const n=k_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ir(){return Fe.lFrame.selectedIndex}function Lo(n){Fe.lFrame.selectedIndex=n}function $t(){const n=Fe.lFrame;return ku(n.tView,n.selectedIndex)}function eo(){Fe.lFrame.currentNamespace=Ou}let Hf=!0;function ju(){return Hf}function to(n){Hf=n}function Hu(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=h&&(n.destroyHooks??=[]).push(t,h)}}function $u(n,e,t){U_(n,e,3,t)}function xa(n,e,t,r){(3&n[Ke])===t&&U_(n,e,t,r)}function el(n,e){let t=n[Ke];(3&t)===e&&(t&=8191,t+=1,n[Ke]=t)}function U_(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[Ws]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[Ws]+=65536),(a<s||-1==s)&&(WE(n,t,e,c),n[Ws]=(4294901760&n[Ws])+c+2),c++}function zu(n,e){rs(4,n,e);const t=_i(null);try{e.call(n)}finally{_i(t),rs(5,n,e)}}function WE(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[Ke]>>13<n[Ws]>>16&&(3&n[Ke])===e&&(n[Ke]+=8192,zu(a,s)):zu(a,s)}const Vo=-1;class tl{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function zf(n){return n!==Vo}function nl(n){return 32767&n}function rl(n,e){let t=function QE(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ea],t--;return r}let qf=!0;function il(n){const e=qf;return qf=n,e}const YE=255,no=5;let XE=0;const ss={};function Gu(n,e){const t=$_(n,e);if(-1!==t)return t;const r=e[pe];r.firstCreatePass&&(n.injectorIndex=e.length,sl(r.data,n),sl(e,null),sl(r.blueprint,null));const i=Wu(n,e),s=n.injectorIndex;if(zf(i)){const o=nl(i),a=rl(i,e),c=a[pe].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function sl(n,e){n.push(0,0,0,0,0,0,0,0,e)}function $_(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Wu(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Z_(i),null===r)return Vo;if(t++,i=i[Ea],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Vo}function ol(n,e,t){!function Gf(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(_a)&&(r=t[_a]),null==r&&(r=t[_a]=XE++);const i=r&YE;e.data[n+(i>>no)]|=1<<i}(n,e,t)}function z_(n,e,t){if(t&ut.Optional||void 0!==n)return n;Rc()}function Ku(n,e,t,r){if(t&ut.Optional&&void 0===r&&(r=null),!(t&(ut.Self|ut.Host))){const i=n[Yi],s=hr(void 0);try{return i?i.get(e,r,t&ut.Optional):Kg(e,r,t&ut.Optional)}finally{hr(s)}}return z_(r,0,t)}function q_(n,e,t,r=ut.Default,i){if(null!==n){if(2048&e[Ke]&&!(r&ut.Self)){const o=function nI(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[Ke]&&!(512&o[Ke]);){const a=G_(s,o,t,r|ut.Self,ss);if(a!==ss)return a;let c=s.parent;if(!c){const u=o[a_];if(u){const h=u.get(t,ss,r);if(h!==ss)return h}c=Z_(o),o=o[Ea]}s=c}return i}(n,e,t,r,ss);if(o!==ss)return o}const s=G_(n,e,t,r,ss);if(s!==ss)return s}return Ku(e,t,r,i)}function G_(n,e,t,r,i){const s=function W_(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(_a)?n[_a]:void 0;return"number"==typeof e?e>=0?e&YE:tI:e}(t);if("function"==typeof s){if(!Uf(e,n,r))return r&ut.Host?z_(i,0,r):Ku(e,t,r,i);try{let o;if(o=s(r),null!=o||r&ut.Optional)return o;Rc()}finally{F_()}}else if("number"==typeof s){let o=null,a=$_(n,e),c=Vo,u=r&ut.Host?e[an][zn]:null;for((-1===a||r&ut.SkipSelf)&&(c=-1===a?Wu(n,e):e[a+8],c!==Vo&&K_(r,!1)?(o=e[pe],a=nl(c),e=rl(c,e)):a=-1);-1!==a;){const h=e[pe];if(Qu(s,a,h.data)){const m=eI(a,e,t,o,r,u);if(m!==ss)return m}c=e[a+8],c!==Vo&&K_(r,e[pe].data[a+8]===u)&&Qu(s,a,e)?(o=h,a=nl(c),e=rl(c,e)):a=-1}}return i}function eI(n,e,t,r,i,s){const o=e[pe],a=o.data[n+8],h=Zu(a,o,t,null==r?Po(a)&&qf:r!=o&&0!=(3&a.type),i&ut.Host&&s===a);return null!==h?Uo(e,o,h,a):ss}function Zu(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,h=s>>20,g=i?a+h:n.directiveEnd;for(let y=r?a:a+h;y<g;y++){const b=o[y];if(y<c&&t===b||y>=c&&b.type===t)return y}if(i){const y=o[c];if(y&&ts(y)&&y.type===t)return c}return null}function Uo(n,e,t,r){let i=n[t];const s=e.data;if(function $f(n){return n instanceof tl}(i)){const o=i;o.resolving&&function ga(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new O(-200,`Circular dependency in DI detected for ${n}${t}`)}(function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():we(n)}(s[t]));const a=il(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?hr(o.injectImpl):null;Uf(n,r,ut.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function GE(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=w_(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==u&&hr(u),il(a),o.resolving=!1,F_()}}return i}function Qu(n,e,t){return!!(t[e+(n>>no)]&1<<n)}function K_(n,e){return!(n&ut.Self||n&ut.Host&&e)}class ir{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return q_(this._tNode,this._lView,e,gu(r),t)}}function tI(){return new ir(kn(),ne())}function pn(n){return Fr(()=>{const e=n.prototype.constructor,t=e[Qi]||Ra(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[Qi]||Ra(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Ra(n){return ie(n)?()=>{const e=Ra(R(n));return e&&e()}:ns(n)}function Z_(n){const e=n[pe],t=e.type;return 2===t?e.declTNode:1===t?n[zn]:null}const Ma="__parameters__";function os(n,e,t){return Fr(()=>{const r=function Kf(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,h){const m=c.hasOwnProperty(Ma)?c[Ma]:Object.defineProperty(c,Ma,{value:[]})[Ma];for(;m.length<=h;)m.push(null);return(m[h]=m[h]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Na(n,e){n.forEach(t=>Array.isArray(t)?Na(t,e):e(t))}function Xu(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Oa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ll(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function si(n,e,t){let r=ka(n,e);return r>=0?n[1|r]=t:(r=~r,function io(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Zf(n,e){const t=ka(n,e);if(t>=0)return n[1|t]}function ka(n,e){return function wr(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const dl=vs(os("Optional"),8),td=vs(os("SkipSelf"),4);function cy(n){return 128==(128&n.flags)}var La=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(La||{});const k5=/^>|^->|<!--|-->|--!>|<!-$/g,F5=/(<|>)/g,L5="\u200b$1\u200b";const pI=new Map;let V5=0;const gI="__ngContext__";function Ur(n,e){ti(e)?(n[gI]=e[Mo],function B5(n){pI.set(n[Mo],n)}(e)):n[gI]=e}let _I;function yI(n,e){return _I(n,e)}function np(n){const e=n[Ut];return Vr(e)?e[Ut]:e}function I1(n){return T1(n[Hc])}function w1(n){return T1(n[Ri])}function T1(n){for(;null!==n&&!Vr(n);)n=n[Ri];return n}function sd(n,e,t,r,i){if(null!=r){let s,o=!1;Vr(r)?s=r:ti(r)&&(o=!0,r=r[fn]);const a=Nt(r);0===n&&null!==t?null==i?S1(e,t,a):fl(e,t,a,i||null,!0):1===n&&null!==t?fl(e,t,a,i||null,!0):2===n?function my(n,e,t){const r=fy(n,e);r&&function sj(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function cj(n,e,t,r,i){const s=t[es];s!==Nt(t)&&sd(e,n,r,s,i);for(let a=tr;a<t.length;a++){const c=t[a];ip(c[pe],c,n,e,r,s)}}(e,n,s,t,i)}}function vI(n,e){return n.createComment(function p1(n){return n.replace(k5,e=>e.replace(F5,L5))}(e))}function dy(n,e,t){return n.createElement(e,t)}function A1(n,e){const t=n[wa],r=t.indexOf(e);D_(e),t.splice(r,1)}function hy(n,e){if(n.length<=tr)return;const t=tr+e,r=n[t];if(r){const i=r[$c];null!==i&&i!==n&&A1(i,r),e>0&&(n[t-1][Ri]=r[Ri]);const s=Oa(n,tr+e);!function Y5(n,e){ip(n,e,e[Be],2,null,null),e[fn]=null,e[zn]=null}(r[pe],r);const o=s[Xi];null!==o&&o.detachView(s[pe]),r[Ut]=null,r[Ri]=null,r[Ke]&=-129}return r}function bI(n,e){if(!(256&e[Ke])){const t=e[Be];e[zc]&&Kc(e[zc]),e[Ia]&&Kc(e[Ia]),t.destroyNode&&ip(n,e,t,3,null,null),function ej(n){let e=n[Hc];if(!e)return EI(n[pe],n);for(;e;){let t=null;if(ti(e))t=e[Hc];else{const r=e[tr];r&&(t=r)}if(!t){for(;e&&!e[Ri]&&e!==n;)ti(e)&&EI(e[pe],e),e=e[Ut];null===e&&(e=n),ti(e)&&EI(e[pe],e),t=e&&e[Ri]}e=t}}(e)}}function EI(n,e){if(!(256&e[Ke])){e[Ke]&=-129,e[Ke]|=256,function ij(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof tl)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];rs(4,a,c);try{c.call(a)}finally{rs(5,a,c)}}else{rs(4,i,s);try{s.call(i)}finally{rs(5,i,s)}}}}}(n,e),function rj(n,e){const t=n.cleanup,r=e[va];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[va]=null);const i=e[Ji];if(null!==i){e[Ji]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[pe].type&&e[Be].destroy();const t=e[$c];if(null!==t&&Vr(e[Ut])){t!==e[Ut]&&A1(t,e);const r=e[Xi];null!==r&&r.detachView(n)}!function j5(n){pI.delete(n[Mo])}(e)}}function II(n,e,t){return function D1(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[fn];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===Xr.None||s===Xr.Emulated)return null}return qn(r,t)}}(n,e.parent,t)}function fl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function S1(n,e,t){n.appendChild(e,t)}function x1(n,e,t,r,i){null!==r?fl(n,e,t,r,i):S1(n,e,t)}function fy(n,e){return n.parentNode(e)}function R1(n,e,t){return P1(n,e,t)}let wI,DI,_y,P1=function M1(n,e,t){return 40&n.type?qn(n,t):null};function py(n,e,t,r){const i=II(n,r,e),s=e[Be],a=R1(r.parent||e[zn],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)x1(s,i,t[c],a,!1);else x1(s,i,t,a,!1);void 0!==wI&&wI(s,r,e,t,i)}function rp(n,e){if(null!==e){const t=e.type;if(3&t)return qn(e,n);if(4&t)return TI(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return rp(n,r);{const i=n[e.index];return Vr(i)?TI(-1,i):Nt(i)}}if(32&t)return yI(e,n)()||Nt(n[e.index]);{const r=O1(n,e);return null!==r?Array.isArray(r)?r[0]:rp(np(n[an]),r):rp(n,e.next)}}return null}function O1(n,e){return null!==e?n[an][zn].projection[e.projection]:null}function TI(n,e){const t=tr+n+1;if(t<e.length){const r=e[t],i=r[pe].firstChild;if(null!==i)return rp(r,i)}return e[es]}function CI(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&Ur(Nt(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)CI(n,e,t.child,r,i,s,!1),sd(e,n,i,a,s);else if(32&c){const u=yI(t,r);let h;for(;h=u();)sd(e,n,i,h,s);sd(e,n,i,a,s)}else 16&c?F1(n,e,r,t,i,s):sd(e,n,i,a,s);t=o?t.projectionNext:t.next}}function ip(n,e,t,r,i,s){CI(t,r,n.firstChild,e,i,s,!1)}function F1(n,e,t,r,i,s){const o=t[an],c=o[zn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)sd(e,n,i,c[u],s);else{let u=c;const h=o[Ut];cy(r)&&(u.flags|=128),CI(n,e,u,h,i,s,!0)}}function L1(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function V1(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&vu(n,e,r),null!==i&&L1(n,e,i),null!==s&&function uj(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function j1(n){return function SI(){if(void 0===_y&&(_y=null,xt.trustedTypes))try{_y=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return _y}()?.createScriptURL(n)||n}class H1{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${it})`}}function Va(n){return n instanceof H1?n.changingThisBreaksApplicationSecurity:n}function sp(n,e){const t=function bj(n){return n instanceof H1&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${it})`)}return t===e}const Tj=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var cd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(cd||{});function Z1(n){const e=ap();return e?e.sanitize(cd.URL,n)||"":sp(n,"URL")?Va(n):function xI(n){return(n=String(n)).match(Tj)?n:"unsafe:"+n}(we(n))}function Q1(n){const e=ap();if(e)return j1(e.sanitize(cd.RESOURCE_URL,n)||"");if(sp(n,"ResourceURL"))return j1(Va(n));throw new O(904,!1)}function ap(){const n=ne();return n&&n[ba].sanitizer}const cp=new oe("ENVIRONMENT_INITIALIZER"),X1=new oe("INJECTOR",-1),J1=new oe("INJECTOR_DEF_TYPES");class NI{get(e,t=Yr){if(t===Yr){const r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return t}}function Lj(...n){return{\u0275providers:eR(0,n),\u0275fromNgModule:!0}}function eR(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return Na(e,o=>{const a=o;vy(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&tR(i,s),t}function tR(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];kI(i,s=>{e(s,r)})}}function vy(n,e,t,r){if(!(n=R(n)))return!1;let i=null,s=ys(n);const o=!s&&ht(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=ys(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)vy(u,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{Na(s.imports,h=>{vy(h,e,t,r)&&(u||=[],u.push(h))})}finally{}void 0!==u&&tR(u,e)}if(!a){const u=ns(i)||(()=>new i);e({provide:i,useFactory:u,deps:vt},i),e({provide:J1,useValue:i,multi:!0},i),e({provide:cp,useValue:()=>Y(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=n;kI(c,h=>{e(h,u)})}}}return i!==n&&void 0!==n.providers}function kI(n,e){for(let t of n)xe(t)&&(t=t.\u0275providers),Array.isArray(t)?kI(t,e):e(t)}const Vj=Ee({provide:String,useValue:Ee});function FI(n){return null!==n&&"object"==typeof n&&Vj in n}function pl(n){return"function"==typeof n}const LI=new oe("Set Injector scope."),by={},Bj={};let VI;function Ey(){return void 0===VI&&(VI=new NI),VI}class Pi{}class ld extends Pi{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,BI(e,o=>this.processProvider(o)),this.records.set(X1,ud(void 0,this)),i.has("environment")&&this.records.set(Pi,ud(void 0,this));const s=this.records.get(LI);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(J1.multi,vt,ut.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Zi(this),r=hr(void 0);try{return e()}finally{Zi(t),hr(r)}}get(e,t=Yr,r=ut.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yu))return e[yu](this);r=gu(r);const s=Zi(this),o=hr(void 0);try{if(!(r&ut.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function qj(n){return"function"==typeof n||"object"==typeof n&&n instanceof oe}(e)&&Mc(e);c=u&&this.injectableDefInScope(u)?ud(UI(e),by):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&ut.Self?Ey():this.parent).get(e,t=r&ut.Optional&&t===Yr?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[pu]=a[pu]||[]).unshift(Ot(e)),s)throw a;return function Jh(n,e,t,r){const i=n[pu];throw e[e_]&&i.unshift(e[e_]),n.message=function bs(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Ot(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(yE,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[pu]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{hr(o),Zi(s)}}resolveInjectorInitializers(){const e=Zi(this),t=hr(void 0);try{const i=this.get(cp.multi,vt,ut.Self);for(const s of i)s()}finally{Zi(e),hr(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){let t=pl(e=R(e))?e:R(e&&e.provide);const r=function Hj(n){return FI(n)?ud(void 0,n.useValue):ud(iR(n),by)}(e);if(pl(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=ud(void 0,by,!0),i.factory=()=>Xh(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===by&&(t.value=Bj,t.value=t.factory()),"object"==typeof t.value&&t.value&&function zj(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=R(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function UI(n){const e=Mc(n),t=null!==e?e.factory:ns(n);if(null!==t)return t;if(n instanceof oe)throw new O(204,!1);if(n instanceof Function)return function jj(n){const e=n.length;if(e>0)throw ll(e,"?"),new O(204,!1);const t=function gE(n){return n&&(n[Pc]||n[Gg])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new O(204,!1)}function iR(n,e,t){let r;if(pl(n)){const i=R(n);return ns(i)||UI(i)}if(FI(n))r=()=>R(n.useValue);else if(function rR(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Xh(n.deps||[]));else if(function nR(n){return!(!n||!n.useExisting)}(n))r=()=>Y(R(n.useExisting));else{const i=R(n&&(n.useClass||n.provide));if(!function $j(n){return!!n.deps}(n))return ns(i)||UI(i);r=()=>new i(...Xh(n.deps))}return r}function ud(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function BI(n,e){for(const t of n)Array.isArray(t)?BI(t,e):t&&xe(t)?BI(t.\u0275providers,e):e(t)}const Iy=new oe("AppId",{providedIn:"root",factory:()=>Gj}),Gj="ng",sR=new oe("Platform Initializer"),as=new oe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),lp=new oe("AnimationModuleType"),jI=new oe("CSP nonce",{providedIn:"root",factory:()=>function ad(){if(void 0!==DI)return DI;if(typeof document<"u")return document;throw new O(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let oR=(n,e,t)=>null;function ZI(n,e,t=!1){return oR(n,e,t)}class n9{}class lR{}class i9{resolveComponentFactory(e){throw function r9(n){const e=Error(`No component factory found for ${Ot(n)}.`);return e.ngComponent=n,e}(e)}}let Sy=(()=>{class n{static#e=this.NULL=new i9}return n})();function s9(){return fd(kn(),ne())}function fd(n,e){return new or(qn(n,e))}let or=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=s9}return n})();function o9(n){return n instanceof or?n.nativeElement:n}class hp{}let Ds=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function a9(){const n=ne(),t=ri(kn().index,n);return(ti(t)?t:n)[Be]}()}return n})(),c9=(()=>{class n{static#e=this.\u0275prov=me({token:n,providedIn:"root",factory:()=>null})}return n})();class Ua{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const dR=new Ua("16.2.12"),XI={};function mR(n,e=null,t=null,r){const i=gR(n,e,t,r);return i.resolveInjectorInitializers(),i}function gR(n,e=null,t=null,r,i=new Set){const s=[t||vt,Lj(n)];return r=r||("object"==typeof n?void 0:Ot(n)),new ld(s,e||Ey(),r||null,i)}let Ni=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Yr;static#t=this.NULL=new NI;static create(t,r){if(Array.isArray(t))return mR({name:""},r,t,"");{const i=t.name??"";return mR({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=me({token:n,providedIn:"any",factory:()=>Y(X1)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function ew(n){return n.ngOriginalError}class Ho{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&ew(e);for(;t&&ew(t);)t=ew(t);return t||null}}function nw(n){return e=>{setTimeout(n,void 0,e)}}const gn=class m9 extends j{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=nw(s),i&&(i=nw(i)),o&&(o=nw(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof bt&&e.add(a),a}};function yR(...n){}class at{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new gn(!1),this.onMicrotaskEmpty=new gn(!1),this.onStable=new gn(!1),this.onError=new gn(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function g9(){const n="function"==typeof xt.requestAnimationFrame;let e=xt[n?"requestAnimationFrame":"setTimeout"],t=xt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function v9(n){const e=()=>{!function y9(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(xt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,iw(n),n.isCheckStableRunning=!0,rw(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),iw(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function E9(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return vR(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),bR(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return vR(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),bR(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,iw(n),rw(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!at.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(at.isInAngularZone())throw new O(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_9,yR,yR);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const _9={};function rw(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function iw(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function vR(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function bR(n){n._nesting--,rw(n)}class b9{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new gn,this.onMicrotaskEmpty=new gn,this.onStable=new gn,this.onError=new gn}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const ER=new oe("",{providedIn:"root",factory:IR});function IR(){const n=ce(at);let e=!0;return K(new dt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new dt(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{at.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{at.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(Ue()))}function $o(n){return n instanceof Function?n():n}let sw=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=me({token:n,providedIn:"root",factory:()=>new n})}return n})();function fp(n){for(;n;){n[Ke]|=64;const e=np(n);if(c_(n)&&!e)return n;n=e}return null}const DR=new oe("",{providedIn:"root",factory:()=>!1});let Ry=null;function MR(n,e){return n[e]??OR()}function PR(n,e){const t=OR();t.producerNode?.length&&(n[e]=Ry,t.lView=n,Ry=NR())}const M9={...wn,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{fp(n.lView)},lView:null};function NR(){return Object.create(M9)}function OR(){return Ry??=NR(),Ry}const Qe={};function Pe(n){kR(ft(),ne(),Ir()+n,!1)}function kR(n,e,t,r){if(!r)if(3==(3&e[Ke])){const s=n.preOrderCheckHooks;null!==s&&$u(e,s,t)}else{const s=n.preOrderHooks;null!==s&&xa(e,s,0,t)}Lo(t)}function z(n,e=ut.Default){const t=ne();return null===t?Y(n,e):q_(kn(),t,R(n),e)}function My(){throw new Error("invalid")}function Py(n,e,t,r,i,s,o,a,c,u,h){const m=e.blueprint.slice();return m[fn]=i,m[Ke]=140|r,(null!==u||n&&2048&n[Ke])&&(m[Ke]|=2048),A_(m),m[Ut]=m[Ea]=n,m[In]=t,m[ba]=o||n&&n[ba],m[Be]=a||n&&n[Be],m[Yi]=c||n&&n[Yi]||null,m[zn]=s,m[Mo]=function U5(){return V5++}(),m[Is]=h,m[a_]=u,m[an]=2==e.type?n[an]:m,m}function gd(n,e,t,r,i){let s=n.data[e];if(null===s)s=function ow(n,e,t,r,i){const s=P_(),o=Mf(),c=n.data[e]=function U9(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return Js()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,r,i),function UE(){return Fe.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function Yc(){const n=Fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return yi(s,!0),s}function pp(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function FR(n,e,t,r,i){const s=MR(e,zc),o=Ir(),a=2&r;try{Lo(-1),a&&e.length>st&&kR(n,e,st,!1),rs(a?2:0,i);const u=a?s:null,h=yf(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{Ru(u,h)}}finally{a&&null===e[zc]&&PR(e,zc),Lo(o),rs(a?3:1,i)}}function aw(n,e,t){if(Gc(e)){const r=_i(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{_i(r)}}}function cw(n,e,t){Vu()&&(function G9(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Po(t)&&function J9(n,e,t){const r=qn(e,n),i=LR(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Ny(n,Py(n,i,null,o,r,e,null,n[ba].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Gu(t,e),Ur(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],u=Uo(e,n,a,t);Ur(u,e),null!==o&&e6(0,a-i,u,c,0,o),ts(c)&&(ri(t.index,e)[In]=Uo(e,n,a,t))}}(n,e,t,qn(t,e)),64==(64&t.flags)&&HR(n,e,t))}function lw(n,e,t=qn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function LR(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=uw(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function uw(n,e,t,r,i,s,o,a,c,u,h){const m=st+r,g=m+i,y=function N9(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:Qe);return t}(m,g),b="function"==typeof u?u():u;return y[pe]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:b,incompleteFirstPass:!1,ssrId:h}}let VR=n=>null;function UR(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?BR(t,e,i,s):r.hasOwnProperty(i)&&BR(t,e,r[i],s)}return t}function BR(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function dw(n,e,t,r){if(Vu()){const i=null===r?null:{"":-1},s=function K9(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(cf(e,o.selectors,!1))if(r||(r=[]),ts(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),hw(n,e,a.length)}else r.unshift(o),hw(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&jR(n,e,t,o,i,a),i&&function Z9(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new O(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=qs(t.mergedAttrs,t.attrs)}function jR(n,e,t,r,i,s){for(let u=0;u<r.length;u++)ol(Gu(t,e),n,r[u].type);!function Y9(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const h=r[u];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,c=pp(n,e,r.length,null);for(let u=0;u<r.length;u++){const h=r[u];t.mergedAttrs=qs(t.mergedAttrs,h.hostAttrs),X9(n,t,e,c,h),Q9(c,h,i),null!==h.contentQueries&&(t.flags|=4),(null!==h.hostBindings||null!==h.hostAttrs||0!==h.hostVars)&&(t.flags|=64);const m=h.type.prototype;!o&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function B9(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,u=null;for(let h=e.directiveStart;h<i;h++){const m=s[h],g=t?t.get(m):null,b=g?g.outputs:null;c=UR(m.inputs,h,c,g?g.inputs:null),u=UR(m.outputs,h,u,b);const E=null===c||null===o||Eu(e)?null:t6(c,h,o);a.push(E)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,s)}function HR(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function BE(){return Fe.lFrame.currentDirectiveIndex}();try{Lo(s);for(let a=r;a<i;a++){const c=n.data[a],u=e[a];Ff(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&W9(c,u)}}finally{Lo(-1),Ff(o)}}function W9(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function hw(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Q9(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;ts(e)&&(t[""]=n)}}function X9(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=ns(i.type)),o=new tl(s,ts(i),z);n.blueprint[r]=o,t[r]=o,function z9(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function q9(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,pp(n,t,i.hostVars,Qe),i)}function so(n,e,t,r,i,s){const o=qn(n,e);!function fw(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?we(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[Be],o,s,n.value,t,r,i)}function e6(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)$R(r,t,o[a++],o[a++],o[a++])}function $R(n,e,t,r,i){const s=_i(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{_i(s)}}function t6(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function zR(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function qR(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];Vf(t[r]),o.contentQueries(2,e[s],s)}}}function Ny(n,e){return n[Hc]?n[Au][Ri]=e:n[Hc]=e,n[Au]=e,e}function pw(n,e,t){Vf(0);const r=_i(null);try{e(n,t)}finally{_i(r)}}function GR(n){return n[va]||(n[va]=[])}function WR(n){return n.cleanup||(n.cleanup=[])}function ZR(n,e){const t=n[Yi],r=t?t.get(Ho,null):null;r&&r.handleError(e)}function mw(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];$R(n.data[o],e[o],r,a,i)}}function n6(n,e){const t=ri(e,n),r=t[pe];!function r6(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[fn];null!==i&&null===t[Is]&&(t[Is]=ZI(i,t[Yi])),gw(r,t,t[In])}function gw(n,e,t){Bf(e);try{const r=n.viewQuery;null!==r&&pw(1,r,t);const i=n.template;null!==i&&FR(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qR(n,e),n.staticViewQueries&&pw(2,n.viewQuery,t);const s=n.components;null!==s&&function i6(n,e){for(let t=0;t<e.length;t++)n6(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Ke]&=-5,jf()}}let QR=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function xE(n,e,t){const r=Object.create(RE);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>m_(r),run:()=>{if(r.dirty=!1,r.hasRun&&!g_(r))return;r.hasRun=!0;const o=yf(r);try{r.cleanupFn(),r.cleanupFn=I_,r.fn(i)}finally{Ru(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=me({token:n,providedIn:"root",factory:()=>new n})}return n})();function Oy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Wi(i,a):2==s&&(r=Wi(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function mp(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Nt(s)),Vr(s)&&YR(s,r);const o=t.type;if(8&o)mp(n,e,t.child,r);else if(32&o){const a=yI(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=O1(e,t);if(Array.isArray(a))r.push(...a);else{const c=np(e[an]);mp(c[pe],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function YR(n,e){for(let t=tr;t<n.length;t++){const r=n[t],i=r[pe].firstChild;null!==i&&mp(r[pe],r,i,e)}n[es]!==n[fn]&&e.push(n[es])}function ky(n,e,t,r=!0){const i=e[ba],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{XR(n,e,n.template,t)}catch(c){throw r&&ZR(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function XR(n,e,t,r){const i=e[Ke];if(256!=(256&i)){e[ba].effectManager?.flush(),Bf(e);try{A_(e),function Nf(n){return Fe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&FR(n,e,t,2,r);const o=3==(3&i);if(o){const u=n.preOrderCheckHooks;null!==u&&$u(e,u,null)}else{const u=n.preOrderHooks;null!==u&&xa(e,u,0,null),el(e,0)}if(function a6(n){for(let e=I1(n);null!==e;e=w1(e)){if(!e[pf])continue;const t=e[wa];for(let r=0;r<t.length;r++){Df(t[r])}}}(e),JR(e,2),null!==n.contentQueries&&qR(n,e),o){const u=n.contentCheckHooks;null!==u&&$u(e,u)}else{const u=n.contentHooks;null!==u&&xa(e,u,1),el(e,1)}!function P9(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=MR(e,Ia);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)Lo(~s);else{const o=s,a=t[++i],c=t[++i];kf(a,o),r.dirty=!1;const u=yf(r);try{c(2,e[o])}finally{Ru(r,u)}}}}finally{null===e[Ia]&&PR(e,Ia),Lo(-1)}}(n,e);const a=n.components;null!==a&&tM(e,a,0);const c=n.viewQuery;if(null!==c&&pw(2,c,r),o){const u=n.viewCheckHooks;null!==u&&$u(e,u)}else{const u=n.viewHooks;null!==u&&xa(e,u,2),el(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Ke]&=-73,D_(e)}finally{jf()}}}function JR(n,e){for(let t=I1(n);null!==t;t=w1(t))for(let r=tr;r<t.length;r++)eM(t[r],e)}function c6(n,e,t){eM(ri(e,n),t)}function eM(n,e){if(!function Af(n){return 128==(128&n[Ke])}(n))return;const t=n[pe],r=n[Ke];if(80&r&&0===e||1024&r||2===e)XR(t,n,t.template,n[In]);else if(n[jc]>0){JR(n,1);const i=t.components;null!==i&&tM(n,i,1)}}function tM(n,e,t){for(let r=0;r<e.length;r++)c6(n,e[r],t)}class gp{get rootNodes(){const e=this._lView,t=e[pe];return mp(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[In]}set context(e){this._lView[In]=e}get destroyed(){return 256==(256&this._lView[Ke])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ut];if(Vr(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(hy(e,r),Oa(t,r))}this._attachedToViewContainer=!1}bI(this._lView[pe],this._lView)}onDestroy(e){!function S_(n,e){if(256==(256&n[Ke]))throw new O(911,!1);null===n[Ji]&&(n[Ji]=[]),n[Ji].push(e)}(this._lView,e)}markForCheck(){fp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ke]&=-129}reattach(){this._lView[Ke]|=128}detectChanges(){ky(this._lView[pe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function J5(n,e){ip(n,e,e[Be],2,null,null)}(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e}}class l6 extends gp{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;ky(e[pe],e,e[In],!1)}checkNoChanges(){}get context(){return null}}class nM extends Sy{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ht(e);return new _p(t,this.ngModule)}}function rM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class d6{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=gu(r);const i=this.injector.get(e,XI,r);return i!==XI||t===XI?i:this.parentInjector.get(e,t,r)}}class _p extends lR{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=rM(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return rM(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function df(n){return n.map(r_).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Pi?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new d6(e,s):e,a=o.get(hp,null);if(null===a)throw new O(407,!1);const m={rendererFactory:a,sanitizer:o.get(c9,null),effectManager:o.get(QR,null),afterRenderEventManager:o.get(sw,null)},g=a.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=r?function O9(n,e,t,r){const s=r.get(DR,!1)||t===Xr.ShadowDom,o=n.selectRootElement(e,s);return function k9(n){VR(n)}(o),o}(g,r,this.componentDef.encapsulation,o):dy(g,y,function u6(n){const e=n.toLowerCase();return"svg"===e?Ou:"math"===e?"math":null}(y)),M=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let x=null;null!==b&&(x=ZI(b,o,!0));const F=uw(0,null,null,1,0,null,null,null,null,null,null),Q=Py(null,F,null,M,null,null,m,g,o,null,x);let le,De;Bf(Q);try{const qe=this.componentDef;let jt,pi=null;qe.findHostDirectiveDefs?(jt=[],pi=new Map,qe.findHostDirectiveDefs(qe,jt,pi),jt.push(qe)):jt=[qe];const Ai=function f6(n,e){const t=n[pe],r=st;return n[r]=e,gd(t,r,2,"#host",null)}(Q,b),cE=function p6(n,e,t,r,i,s,o){const a=i[pe];!function m6(n,e,t,r){for(const i of n)e.mergedAttrs=qs(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Oy(e,e.mergedAttrs,!0),null!==t&&V1(r,t,e))}(r,n,e,o);let c=null;null!==e&&(c=ZI(e,i[Yi]));const u=s.rendererFactory.createRenderer(e,t);let h=16;t.signals?h=4096:t.onPush&&(h=64);const m=Py(i,LR(t),null,h,i[n.index],n,s,u,null,null,c);return a.firstCreatePass&&hw(a,n,r.length-1),Ny(i,m),i[n.index]=m}(Ai,b,qe,jt,Q,m,g);De=ku(F,st),b&&function _6(n,e,t,r){if(r)vu(n,t,["ng-version",dR.full]);else{const{attrs:i,classes:s}=function i_(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!Lr(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&vu(n,t,i),s&&s.length>0&&L1(n,t,s.join(" "))}}(g,qe,b,r),void 0!==t&&function y6(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(De,this.ngContentSelectors,t),le=function g6(n,e,t,r,i,s){const o=kn(),a=i[pe],c=qn(o,i);jR(a,i,o,t,null,r);for(let h=0;h<t.length;h++)Ur(Uo(i,a,o.directiveStart+h,o),i);HR(a,i,o),c&&Ur(c,i);const u=Uo(i,a,o.directiveStart+o.componentOffset,o);if(n[In]=i[In]=u,null!==s)for(const h of s)h(u,e);return aw(a,o,n),u}(cE,qe,jt,pi,Q,[v6]),gw(F,Q,null)}finally{jf()}return new h6(this.componentType,le,fd(De,Q),Q,De)}}class h6 extends n9{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new l6(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;mw(s[pe],s,i,e,t),this.previousInputValues.set(e,t),fp(ri(this._tNode.index,s))}}get injector(){return new ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function v6(){const n=kn();Hu(ne()[pe],n)}function pt(n){let e=function iM(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(ts(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Fy(n.inputs),o.inputTransforms=Fy(n.inputTransforms),o.declaredInputs=Fy(n.declaredInputs),o.outputs=Fy(n.outputs);const a=i.hostBindings;a&&w6(n,a);const c=i.viewQuery,u=i.contentQueries;if(c&&E6(n,c),u&&I6(n,u),Jn(n.inputs,i.inputs),Jn(n.declaredInputs,i.declaredInputs),Jn(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),Jn(o.inputTransforms,i.inputTransforms)),ts(i)&&i.data.animation){const h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===pt&&(t=!1)}}e=Object.getPrototypeOf(e)}!function b6(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qs(i.hostAttrs,t=qs(t,i.hostAttrs))}}(r)}function Fy(n){return n===xi?{}:n===vt?[]:n}function E6(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function I6(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function w6(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function cM(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Ly(n){return!!_w(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function _w(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function oo(n,e,t){return n[e]=t}function Br(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function ml(n,e,t,r){const i=Br(n,e,t);return Br(n,e+1,r)||i}function Rt(n,e,t,r){const i=ne();return Br(i,Fo(),e)&&(ft(),so($t(),i,n,e,t,r)),Rt}function wt(n,e,t,r,i,s,o,a){const c=ne(),u=ft(),h=n+st,m=u.firstCreatePass?function K6(n,e,t,r,i,s,o,a,c){const u=e.consts,h=gd(e,n,4,o||null,Xs(u,a));dw(e,t,h,Xs(u,c)),Hu(e,h);const m=h.tView=uw(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,h),m.queries=e.queries.embeddedTView(h)),h}(h,u,c,e,t,r,i,s,o):u.data[h];yi(m,!1);const g=EM(u,c,m,n);ju()&&py(u,c,g,m),Ur(g,c),Ny(c,c[h]=zR(g,c,g,m)),Su(m)&&cw(u,c,m),null!=o&&lw(c,m,a)}let EM=function IM(n,e,t,r){return to(!0),e[Be].createComment("")};function je(n,e,t){const r=ne();return Br(r,Fo(),e)&&function Oi(n,e,t,r,i,s,o,a){const c=qn(e,t);let h,u=e.inputs;!a&&null!=u&&(h=u[r])?(mw(n,t,h,r,i),Po(e)&&function H9(n,e){const t=ri(e,n);16&t[Ke]||(t[Ke]|=64)}(t,e.index)):3&e.type&&(r=function j9(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}(ft(),$t(),r,n,e,r[Be],t,!1),je}function ww(n,e,t,r,i){const o=i?"class":"style";mw(n,t,e.inputs[o],o,r)}function ue(n,e,t,r){const i=ne(),s=ft(),o=st+n,a=i[Be],c=s.firstCreatePass?function X6(n,e,t,r,i,s){const o=e.consts,c=gd(e,n,2,r,Xs(o,i));return dw(e,t,c,Xs(o,s)),null!==c.attrs&&Oy(c,c.attrs,!1),null!==c.mergedAttrs&&Oy(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],u=TM(s,i,c,a,e,n);i[o]=u;const h=Su(c);return yi(c,!0),V1(a,u,c),32!=(32&c.flags)&&ju()&&py(s,i,u,c),0===function kE(){return Fe.lFrame.elementDepthCount}()&&Ur(u,i),function FE(){Fe.lFrame.elementDepthCount++}(),h&&(cw(s,i,c),aw(s,c,i)),null!==r&&lw(i,c),ue}function Ce(){let n=kn();Mf()?Xc():(n=n.parent,yi(n,!1));const e=n;(function LE(n){return Fe.skipHydrationRootTNode===n})(e)&&function VE(){Fe.skipHydrationRootTNode=null}(),function xf(){Fe.lFrame.elementDepthCount--}();const t=ft();return t.firstCreatePass&&(Hu(t,n),Gc(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function H_(n){return 0!=(8&n.flags)}(e)&&ww(t,e,ne(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function qu(n){return 0!=(16&n.flags)}(e)&&ww(t,e,ne(),e.stylesWithoutHost,!1),Ce}function Ye(n,e,t,r){return ue(n,e,t,r),Ce(),Ye}let TM=(n,e,t,r,i,s)=>(to(!0),dy(r,i,function V_(){return Fe.lFrame.currentNamespace}()));function Ip(n,e,t){const r=ne(),i=ft(),s=n+st,o=i.firstCreatePass?function t8(n,e,t,r,i){const s=e.consts,o=Xs(s,r),a=gd(e,n,8,"ng-container",o);return null!==o&&Oy(a,o,!0),dw(e,t,a,Xs(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];yi(o,!0);const a=CM(i,r,o,n);return r[s]=a,ju()&&py(i,r,a,o),Ur(a,r),Su(o)&&(cw(i,r,o),aw(i,o,r)),null!=t&&lw(r,o),Ip}function wp(){let n=kn();const e=ft();return Mf()?Xc():(n=n.parent,yi(n,!1)),e.firstCreatePass&&(Hu(e,n),Gc(n)&&e.queries.elementEnd(n)),wp}function Tw(n,e,t){return Ip(n,e,t),wp(),Tw}let CM=(n,e,t,r)=>(to(!0),vI(e[Be],""));function Tp(){return ne()}function Cp(n){return!!n&&"function"==typeof n.then}function AM(n){return!!n&&"function"==typeof n.subscribe}function Cn(n,e,t,r){const i=ne(),s=ft(),o=kn();return function SM(n,e,t,r,i,s,o){const a=Su(r),u=n.firstCreatePass&&WR(n),h=e[In],m=GR(e);let g=!0;if(3&r.type||o){const E=qn(r,e),w=o?o(E):E,M=m.length,x=o?Q=>o(Nt(Q[r.index])):r.index;let F=null;if(!o&&a&&(F=function i8(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[va],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==F)(F.__ngLastListenerFn__||F).__ngNextListenerFn__=s,F.__ngLastListenerFn__=s,g=!1;else{s=RM(r,e,h,s,!1);const Q=t.listen(w,i,s);m.push(s,Q),u&&u.push(i,x,M,M+1)}}else s=RM(r,e,h,s,!1);const y=r.outputs;let b;if(g&&null!==y&&(b=y[i])){const E=b.length;if(E)for(let w=0;w<E;w+=2){const le=e[b[w]][b[w+1]].subscribe(s),De=m.length;m.push(s,le),u&&u.push(i,r.index,De,-(De+1))}}}(s,i,i[Be],o,n,e,r),Cn}function xM(n,e,t,r){try{return rs(6,e,t),!1!==t(r)}catch(i){return ZR(n,i),!1}finally{rs(7,e,t)}}function RM(n,e,t,r,i){return function s(o){if(o===Function)return r;fp(n.componentOffset>-1?ri(n.index,e):e);let c=xM(e,t,r,o),u=s.__ngNextListenerFn__;for(;u;)c=xM(e,t,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Fn(n=1){return function HE(n){return(Fe.lFrame.contextLView=function $E(n,e){for(;n>0;)e=e[Ea],n--;return e}(n,Fe.lFrame.contextLView))[In]}(n)}function s8(n,e){let t=null;const r=function lf(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?cf(n,s,!0):Iu(r,s))return i}else t=i}return t}function Hy(n){const e=ne()[an][zn];if(!e.projection){const r=e.projection=ll(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?s8(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function gl(n,e=0,t){const r=ne(),i=ft(),s=gd(i,st+n,16,null,t||null);null===s.projection&&(s.projection=e),Xc(),(!r[Is]||Js())&&32!=(32&s.flags)&&function aj(n,e,t){F1(e[Be],0,e,t,II(n,t,e),R1(t.parent||e[zn],t,e))}(i,r,s)}function $y(n,e){return n<<17|e<<2}function Ba(n){return n>>17&32767}function Aw(n){return 2|n}function _l(n){return(131068&n)>>2}function Dw(n,e){return-131069&n|e<<2}function Sw(n){return 1|n}function BM(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?Ba(s):_l(s),c=!1;for(;0!==a&&(!1===c||o);){const h=n[a+1];d8(n[a],e)&&(c=!0,n[a+1]=r?Sw(h):Aw(h)),a=r?Ba(h):_l(h)}c&&(n[t+1]=r?Aw(s):Sw(s))}function d8(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&ka(n,e)>=0}const ar={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jM(n){return n.substring(ar.key,ar.keyEnd)}function HM(n,e){const t=ar.textEnd;return t===e?-1:(e=ar.keyEnd=function m8(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,ar.key=e,t),Ad(n,e,t))}function Ad(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ja(n,e){return function Ss(n,e,t,r){const i=ne(),s=ft(),o=is(2);s.firstUpdatePass&&ZM(s,n,o,r),e!==Qe&&Br(i,o,e)&&YM(s,s.data[Ir()],i,i[Be],n,i[o+1]=function A8(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Ot(Va(n)))),n}(e,t),r,o)}(n,e,null,!0),ja}function co(n){!function xs(n,e,t,r){const i=ft(),s=is(2);i.firstUpdatePass&&ZM(i,null,s,r);const o=ne();if(t!==Qe&&Br(o,s,t)){const a=i.data[Ir()];if(JM(a,r)&&!KM(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Wi(c,t||"")),ww(i,a,o,t,r)}else!function C8(n,e,t,r,i,s,o,a){i===Qe&&(i=vt);let c=0,u=0,h=0<i.length?i[0]:null,m=0<s.length?s[0]:null;for(;null!==h||null!==m;){const g=c<i.length?i[c+1]:void 0,y=u<s.length?s[u+1]:void 0;let E,b=null;h===m?(c+=2,u+=2,g!==y&&(b=m,E=y)):null===m||null!==h&&h<m?(c+=2,b=h):(u+=2,b=m,E=y),null!==b&&YM(n,e,t,r,b,E,o,a),h=c<i.length?i[c]:null,m=u<s.length?s[u]:null}}(i,a,o,o[Be],o[s+1],o[s+1]=function w8(n,e,t){if(null==t||""===t)return vt;const r=[],i=Va(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(T8,lo,n,!0)}function lo(n,e){for(let t=function f8(n){return function zM(n){ar.key=0,ar.keyEnd=0,ar.value=0,ar.valueEnd=0,ar.textEnd=n.length}(n),HM(n,Ad(n,0,ar.textEnd))}(e);t>=0;t=HM(e,t))si(n,jM(e),!0)}function KM(n,e){return e>=n.expandoStartIndex}function ZM(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[Ir()],o=KM(n,t);JM(s,r)&&null===e&&!o&&(e=!1),e=function v8(n,e,t,r){const i=function Lf(n){const e=Fe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=Ap(t=xw(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=xw(i,n,e,t,r),null===s){let c=function b8(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==_l(r))return n[Ba(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=xw(null,n,e,c[1],r),c=Ap(c,e.attrs,r),function E8(n,e,t,r){n[Ba(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function I8(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Ap(r,n[s].hostAttrs,t);return Ap(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function l8(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Ba(o),c=_l(o);n[r]=t;let h,u=!1;if(Array.isArray(t)?(h=t[1],(null===h||ka(t,h)>0)&&(u=!0)):h=t,i)if(0!==c){const g=Ba(n[a+1]);n[r+1]=$y(g,a),0!==g&&(n[g+1]=Dw(n[g+1],r)),n[a+1]=function a8(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=$y(a,0),0!==a&&(n[a+1]=Dw(n[a+1],r)),a=r;else n[r+1]=$y(c,0),0===a?a=r:n[c+1]=Dw(n[c+1],r),c=r;u&&(n[r+1]=Aw(n[r+1])),BM(n,h,r,!0),BM(n,h,r,!1),function u8(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&ka(s,e)>=0&&(t[r+1]=Sw(t[r+1]))}(e,h,n,r,s),o=$y(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function xw(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=Ap(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function Ap(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),si(n,o,!!t||e[++s]))}return void 0===n?null:n}function T8(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&si(n,r,t)}function YM(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],h=function c8(n){return 1==(1&n)}(u)?XM(c,e,t,i,_l(u),o):void 0;zy(h)||(zy(s)||function o8(n){return 2==(2&n)}(u)&&(s=XM(c,null,t,i,a,o)),function lj(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:La.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=La.Important),n.setStyle(t,r,i,s))}}(r,o,Da(Ir(),t),i,s))}function XM(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],u=Array.isArray(c),h=u?c[1]:c,m=null===h;let g=t[i+1];g===Qe&&(g=m?vt:void 0);let y=m?Zf(g,r):h===r?g:void 0;if(u&&!zy(y)&&(y=Zf(c,r)),zy(y)&&(a=y,o))return a;const b=n[i+1];i=o?Ba(b):_l(b)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=Zf(c,r))}return a}function zy(n){return void 0!==n}function JM(n,e){return 0!=(n.flags&(e?8:16))}function tt(n,e=""){const t=ne(),r=ft(),i=n+st,s=r.firstCreatePass?gd(r,i,1,e,null):r.data[i],o=eP(r,t,s,e,n);t[i]=o,ju()&&py(r,t,o,s),yi(s,!1)}let eP=(n,e,t,r,i)=>(to(!0),function uy(n,e){return n.createText(e)}(e[Be],r));function Dp(n){return qo("",n,""),Dp}function qo(n,e,t){const r=ne(),i=function yd(n,e,t,r){return Br(n,Fo(),t)?e+we(t)+r:Qe}(r,n,e,t);return i!==Qe&&function zo(n,e,t){const r=Da(e,n);!function C1(n,e,t){n.setValue(e,t)}(n[Be],r,t)}(r,Ir(),i),qo}const yl=void 0;var K8=["en",[["a","p"],["AM","PM"],yl],[["AM","PM"],yl,yl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yl,"{1} 'at' {0}",yl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function W8(n){const t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===r?1:5}];let Dd={};function oi(n){const e=function Z8(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=EP(e);if(t)return t;const r=e.split("-")[0];if(t=EP(r),t)return t;if("en"===r)return K8;throw new O(701,!1)}function EP(n){return n in Dd||(Dd[n]=xt.ng&&xt.ng.common&&xt.ng.common.locales&&xt.ng.common.locales[n]),Dd[n]}var Jt=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Jt||{});const Sd="en-US";let IP=Sd;function Pw(n,e,t,r,i){if(n=R(n),Array.isArray(n))for(let s=0;s<n.length;s++)Pw(n[s],e,t,r,i);else{const s=ft(),o=ne(),a=kn();let c=pl(n)?n:R(n.provide);const u=iR(n),h=1048575&a.providerIndexes,m=a.directiveStart,g=a.providerIndexes>>20;if(pl(n)||!n.multi){const y=new tl(u,i,z),b=Ow(c,e,i?h:h+g,m);-1===b?(ol(Gu(a,o),s,c),Nw(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[b]=y,o[b]=y)}else{const y=Ow(c,e,h+g,m),b=Ow(c,e,h,h+g),w=b>=0&&t[b];if(i&&!w||!i&&!(y>=0&&t[y])){ol(Gu(a,o),s,c);const M=function WH(n,e,t,r,i){const s=new tl(n,t,z);return s.multi=[],s.index=e,s.componentProviders=0,WP(s,i,r&&!t),s}(i?GH:qH,t.length,i,r,u);!i&&w&&(t[b].providerFactory=M),Nw(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(M),o.push(M)}else Nw(s,n,y>-1?y:b,WP(t[i?b:y],u,!i&&r));!i&&r&&w&&t[b].componentProviders++}}}function Nw(n,e,t,r){const i=pl(e),s=function Uj(n){return!!n.useClass}(e);if(i||s){const c=(s?R(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const h=u.indexOf(t);-1===h?u.push(t,[r,c]):u[h+1].push(r,c)}else u.push(t,c)}}}function WP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ow(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function qH(n,e,t,r){return kw(this.multi,[])}function GH(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Uo(t,t[pe],this.providerFactory.index,r);s=a.slice(0,o),kw(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],kw(i,s);return s}function kw(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function _n(n,e=[]){return t=>{t.providersResolver=(r,i)=>function zH(n,e,t){const r=ft();if(r.firstCreatePass){const i=ts(n);Pw(t,r.data,r.blueprint,i,!0),Pw(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class vl{}class KP{}class Fw extends vl{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nM(this);const i=ei(e);this._bootstrapComponents=$o(i.bootstrap),this._r3Injector=gR(e,t,[{provide:vl,useValue:this},{provide:Sy,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Lw extends KP{constructor(e){super(),this.moduleType=e}create(e){return new Fw(this.moduleType,e,[])}}class ZP extends vl{constructor(e){super(),this.componentFactoryResolver=new nM(this),this.instance=null;const t=new ld([...e.providers,{provide:vl,useValue:this},{provide:Sy,useValue:this.componentFactoryResolver}],e.parent||Ey(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Vw(n,e,t=null){return new ZP({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let QH=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=eR(0,t.type),i=r.length>0?Vw([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=me({token:n,providedIn:"environment",factory:()=>new n(Y(Pi))})}return n})();function Ha(n){n.getStandaloneInjector=e=>e.get(QH).getOrCreateStandaloneInjector(n)}function Zy(n,e,t,r){return function rN(n,e,t,r,i,s){const o=e+t;return Br(n,o,i)?oo(n,o+1,s?r.call(s,i):r(i)):Np(n,o+1)}(ne(),rr(),n,e,t,r)}function nN(n,e,t,r,i,s,o){return function oN(n,e,t,r,i,s,o,a,c){const u=e+t;return function cs(n,e,t,r,i,s){const o=ml(n,e,t,r);return ml(n,e+2,i,s)||o}(n,u,i,s,o,a)?oo(n,u+4,c?r.call(c,i,s,o,a):r(i,s,o,a)):Np(n,u+4)}(ne(),rr(),n,e,t,r,i,s,o)}function Np(n,e){const t=n[e];return t===Qe?void 0:t}function Qy(n,e){const t=ft();let r;const i=n+st;t.firstCreatePass?(r=function f$(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const s=r.factory||(r.factory=ns(r.type)),a=hr(z);try{const c=il(!1),u=s();return il(c),function Y6(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,ne(),i,u),u}finally{hr(a)}}function Yy(n,e,t,r){const i=n+st,s=ne(),o=Sa(s,i);return function Op(n,e){return n[pe].data[e].pure}(s,i)?function iN(n,e,t,r,i,s,o){const a=e+t;return ml(n,a,i,s)?oo(n,a+2,o?r.call(o,i,s):r(i,s)):Np(n,a+2)}(s,rr(),e,o.transform,t,r,o):o.transform(t,r)}function y$(){return this._results[Symbol.iterator]()}class Bw{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new gn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Bw.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=y$)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function ii(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function cl(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function b$(n,e,t,r=!0){const i=e[pe];if(function tj(n,e,t,r){const i=tr+r,s=t.length;r>0&&(t[i-1][Ri]=e),r<s-tr?(e[Ri]=t[i],Xu(t,tr+r,e)):(t.push(e),e[Ri]=null),e[Ut]=t;const o=e[$c];null!==o&&t!==o&&function nj(n,e){const t=n[wa];e[an]!==e[Ut][Ut][an]&&(n[pf]=!0),null===t?n[wa]=[e]:t.push(e)}(o,e);const a=e[Xi];null!==a&&a.insertView(n),e[Ke]|=128}(i,e,n,t),r){const s=TI(t,n),o=e[Be],a=fy(o,n[es]);null!==a&&function X5(n,e,t,r,i,s){r[fn]=i,r[zn]=e,ip(n,r,t,1,i,s)}(i,n[zn],o,e,a,s)}}let uo=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=w$}return n})();const E$=uo,I$=class extends E${constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function v$(n,e,t,r){const i=e.tView,a=Py(n,i,t,4096&n[Ke]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[$c]=n[e.index];const u=n[Xi];return null!==u&&(a[Xi]=u.createEmbeddedView(i)),gw(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new gp(i)}};function w$(){return Xy(kn(),ne())}function Xy(n,e){return 4&n.type?new I$(e,n,fd(n,e)):null}let Rs=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=x$}return n})();function x$(){return pN(kn(),ne())}const R$=Rs,hN=class extends R${constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return fd(this._hostTNode,this._hostLView)}get injector(){return new ir(this._hostTNode,this._hostLView)}get parentInjector(){const e=Wu(this._hostTNode,this._hostLView);if(zf(e)){const t=rl(e,this._hostLView),r=nl(e);return new ir(t[pe].data[r+8],t)}return new ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=fN(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-tr}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function sr(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const E=t||{};a=E.index,r=E.injector,i=E.projectableNodes,s=E.environmentInjector||E.ngModuleRef}const c=o?e:new _p(ht(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const w=(o?u:this.parentInjector).get(Pi,null);w&&(s=w)}ht(c.componentType??{});const y=c.create(u,i,null,s);return this.insertImpl(y.hostView,a,false),y}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function C_(n){return Vr(n[Ut])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[Ut],h=new hN(u,u[zn],u[Ut]);h.detach(h.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return b$(a,i,o,!r),e.attachToViewContainerRef(),Xu(jw(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=fN(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=hy(this._lContainer,t);r&&(Oa(jw(this._lContainer),t),bI(r[pe],r))}detach(e){const t=this._adjustIndex(e,-1),r=hy(this._lContainer,t);return r&&null!=Oa(jw(this._lContainer),t)?new gp(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function fN(n){return n[8]}function jw(n){return n[8]||(n[8]=[])}function pN(n,e){let t;const r=e[n.index];return Vr(r)?t=r:(t=zR(r,e,null,n),e[n.index]=t,Ny(e,t)),mN(t,e,n,r),new hN(t,n,e)}let mN=function gN(n,e,t,r){if(n[es])return;let i;i=8&t.type?Nt(r):function M$(n,e){const t=n[Be],r=t.createComment(""),i=qn(e,n);return fl(t,fy(t,i),r,function oj(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[es]=i};class Hw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Hw(this.queryList)}setDirty(){this.queryList.setDirty()}}class $w{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new $w(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==EN(e,t).matches&&this.queries[t].setDirty()}}class _N{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class zw{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new zw(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class qw{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new qw(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,O$(t,s)),this.matchTNodeWithReadOption(e,t,Zu(t,e,s,!1,!1))}else r===uo?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Zu(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===or||i===Rs||i===uo&&4&t.type)this.addMatch(t.index,-2);else{const s=Zu(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function O$(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function F$(n,e,t,r){return-1===t?function k$(n,e){return 11&n.type?fd(n,e):4&n.type?Xy(n,e):null}(e,n):-2===t?function L$(n,e,t){return t===or?fd(e,n):t===uo?Xy(e,n):t===Rs?pN(e,n):void 0}(n,e,r):Uo(n,n[pe],t,e)}function yN(n,e,t,r){const i=e[Xi].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const u=o[c];a.push(u<0?null:F$(e,s[u],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function Gw(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=yN(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const u=s[a+1],h=e[-c];for(let m=tr;m<h.length;m++){const g=h[m];g[$c]===g[Ut]&&Gw(g[pe],g,u,r)}if(null!==h[wa]){const m=h[wa];for(let g=0;g<m.length;g++){const y=m[g];Gw(y[pe],y,u,r)}}}}}return r}function xd(n){const e=ne(),t=ft(),r=Bu();Vf(r+1);const i=EN(t,r);if(n.dirty&&function OE(n){return 4==(4&n[Ke])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Gw(t,e,r,[]):yN(t,e,i,r);n.reset(s,o9),n.notifyOnChanges()}return!0}return!1}function Ww(n,e,t){const r=ft();r.firstCreatePass&&(bN(r,new _N(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),vN(r,ne(),e)}function ev(n,e,t,r){const i=ft();if(i.firstCreatePass){const s=kn();bN(i,new _N(e,t,r),s.index),function U$(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(i,n),2==(2&t)&&(i.staticContentQueries=!0)}vN(i,ne(),t)}function Rd(){return function V$(n,e){return n[Xi].queries[e].queryList}(ne(),Bu())}function vN(n,e,t){const r=new Bw(4==(4&t));(function V9(n,e,t,r){const i=GR(e);i.push(t),n.firstCreatePass&&WR(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[Xi]&&(e[Xi]=new $w),e[Xi].queries.push(new Hw(r))}function bN(n,e,t){null===n.queries&&(n.queries=new zw),n.queries.track(new qw(e,t))}function EN(n,e){return n.queries.getByIndex(e)}const Jw=new oe("Application Initializer");let eT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=ce(Jw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Cp(s))t.push(s);else if(AM(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VN=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ho=new oe("LocaleId",{providedIn:"root",factory:()=>ce(ho,ut.Optional|ut.SkipSelf)||function az(){return typeof $localize<"u"&&$localize.locale||Sd}()});let nv=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new N(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class uz{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let UN=(()=>{class n{compileModuleSync(t){return new Lw(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=$o(ei(t).declarations).reduce((o,a)=>{const c=ht(a);return c&&o.push(new _p(c)),o},[]);return new uz(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $N=new oe(""),iv=new oe("");let sT,rT=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sT||(function Pz(n){sT=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{at.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(Y(at),Y(iT),Y(iv))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),iT=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return sT?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),$a=null;const zN=new oe("AllowMultipleToken"),oT=new oe("PlatformDestroyListeners"),aT=new oe("appBootstrapListener");class GN{constructor(e,t){this.name=e,this.token=t}}function KN(n,e,t=[]){const r=`Platform: ${e}`,i=new oe(r);return(s=[])=>{let o=cT();if(!o||o.injector.get(zN,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function kz(n){if($a&&!$a.get(zN,!1))throw new O(400,!1);(function qN(){!function Aa(n){v_=n}(()=>{throw new O(600,!1)})})(),$a=n;const e=n.get(QN);(function WN(n){n.get(sR,null)?.forEach(t=>t())})(n)}(function ZN(n=[],e){return Ni.create({name:e,providers:[{provide:LI,useValue:"platform"},{provide:oT,useValue:new Set([()=>$a=null])},...n]})}(a,r))}return function Lz(n){const e=cT();if(!e)throw new O(401,!1);return e}()}}function cT(){return $a?.get(QN)??null}let QN=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function Vz(n="zone.js",e){return"noop"===n?new b9:"zone.js"===n?new at(e):n}(r?.ngZone,function YN(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function ZH(n,e,t){return new Fw(n,e,t)}(t.moduleType,this.injector,function nO(n){return[{provide:at,useFactory:n},{provide:cp,multi:!0,useFactory:()=>{const e=ce(Bz,{optional:!0});return()=>e.initialize()}},{provide:tO,useFactory:Uz},{provide:ER,useFactory:IR}]}(()=>i)),o=s.injector.get(Ho,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{sv(this._modules,s),a.unsubscribe()})}),function XN(n,e,t){try{const r=t();return Cp(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(eT);return a.runInitializers(),a.donePromise.then(()=>(function wP(n){kr(n,"Expected localeId to be defined"),"string"==typeof n&&(IP=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ho,Sd)||Sd),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=JN({},r);return function Nz(n,e,t){const r=new Lw(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(bl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new O(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(oT,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Ni))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function JN(n,e){return Array.isArray(e)?e.reduce(JN,n):{...n,...e}}let bl=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ce(tO),this.zoneIsStable=ce(ER),this.componentTypes=[],this.components=[],this.isStable=ce(nv).hasPendingTasks.pipe(It(t=>t?q(!1):this.zoneIsStable),Zt(),Ue()),this._injector=ce(Pi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof lR;if(!this._injector.get(eT).done)throw!i&&function Gs(n){const e=ht(n)||On(n)||Er(n);return null!==e&&e.standalone}(t),new O(405,!1);let o;o=i?t:this._injector.get(Sy).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function Oz(n){return n.isBoundToModule}(o)?void 0:this._injector.get(vl),u=o.create(Ni.NULL,[],r||o.selector,a),h=u.location.nativeElement,m=u.injector.get($N,null);return m?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),sv(this.components,u),m?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;sv(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(aT,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new O(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const tO=new oe("",{providedIn:"root",factory:()=>ce(Ho).handleError.bind(void 0)});function Uz(){const n=ce(at),e=ce(Ho);return t=>n.runOutsideAngular(()=>e.handleError(t))}let Bz=(()=>{class n{constructor(){this.zone=ce(at),this.applicationRef=ce(bl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let Lp=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Hz}return n})();function Hz(n){return function $z(n,e,t){if(Po(n)&&!t){const r=ri(n.index,e);return new gp(r,r)}return 47&n.type?new gp(e[an],e):null}(kn(),ne(),16==(16&n))}class aO{constructor(){}supports(e){return Ly(e)}create(e){return new Zz(e)}}const Kz=(n,e)=>e;class Zz{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Kz}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<lO(r,i,s)?t:r,a=lO(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,h=c-i;if(u!=h){for(let g=0;g<u;g++){const y=g<s.length?s[g]:s[g]=0,b=y+g;h<=b&&b<u&&(s[g]=y+1)}s[o.previousIndex]=h-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Ly(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function R6(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Qz(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new cO),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cO),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Qz{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Yz{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class cO{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new Yz,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lO(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class uO{constructor(){}supports(e){return e instanceof Map||_w(e)}create(){return new Xz}}class Xz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||_w(e)))throw new O(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Jz(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Jz{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function dO(){return new cv([new aO])}let cv=(()=>{class n{static#e=this.\u0275prov=me({token:n,providedIn:"root",factory:dO});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||dO()),deps:[[n,new td,new dl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new O(901,!1)}}return n})();function hO(){return new Vp([new uO])}let Vp=(()=>{class n{static#e=this.\u0275prov=me({token:n,providedIn:"root",factory:hO});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||hO()),deps:[[n,new td,new dl]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new O(901,!1)}}return n})();const n7=KN(null,"core",[]);let r7=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(Y(bl))};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({})}return n})();function Nd(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let pT=null;function za(){return pT}class _7{}const yn=new oe("DocumentToken");let mT=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:function(){return ce(v7)},providedIn:"platform"})}return n})();const y7=new oe("Location Initialized");let v7=(()=>{class n extends mT{constructor(){super(),this._doc=ce(yn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return za().getBaseHref(this._doc)}onPopState(t){const r=za().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=za().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function gT(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function EO(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Go(n){return n&&"?"!==n[0]?"?"+n:n}let Il=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:function(){return ce(wO)},providedIn:"root"})}return n})();const IO=new oe("appBaseHref");let wO=(()=>{class n extends Il{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ce(yn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gT(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Go(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+Go(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+Go(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(mT),Y(IO,8))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),b7=(()=>{class n extends Il{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=gT(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Go(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Go(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(mT),Y(IO,8))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),_T=(()=>{class n{constructor(t){this._subject=new gn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function w7(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(EO(TO(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Go(r))}normalize(t){return n.stripTrailingSlash(function I7(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,TO(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Go(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Go(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=Go;static#t=this.joinWithSlash=gT;static#n=this.stripTrailingSlash=EO;static#r=this.\u0275fac=function(r){return new(r||n)(Y(Il))};static#i=this.\u0275prov=me({token:n,factory:function(){return function E7(){return new _T(Y(Il))}()},providedIn:"root"})}return n})();function TO(n){return n.replace(/\/index.html$/,"")}var uv=function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n}(uv||{}),Ln=function(n){return n[n.Decimal=0]="Decimal",n[n.Group=1]="Group",n[n.List=2]="List",n[n.PercentSign=3]="PercentSign",n[n.PlusSign=4]="PlusSign",n[n.MinusSign=5]="MinusSign",n[n.Exponential=6]="Exponential",n[n.SuperscriptingExponent=7]="SuperscriptingExponent",n[n.PerMille=8]="PerMille",n[n.Infinity=9]="Infinity",n[n.NaN=10]="NaN",n[n.TimeSeparator=11]="TimeSeparator",n[n.CurrencyDecimal=12]="CurrencyDecimal",n[n.CurrencyGroup=13]="CurrencyGroup",n}(Ln||{});function ls(n,e){const t=oi(n),r=t[Jt.NumberSymbols][e];if(typeof r>"u"){if(e===Ln.CurrencyDecimal)return t[Jt.NumberSymbols][Ln.Decimal];if(e===Ln.CurrencyGroup)return t[Jt.NumberSymbols][Ln.Group]}return r}const Q7=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function CT(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function NO(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}const DT=/\s+/,OO=[];let bv=(()=>{class n{constructor(t,r,i,s){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=s,this.initialClasses=OO,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(DT):OO}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(DT):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(DT).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(z(cv),z(Vp),z(or),z(Ds))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class cq{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ST=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new cq(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),FO(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{FO(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(z(Rs),z(uo),z(cv))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function FO(n,e){n.context.$implicit=e.item}let kd=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new lq,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){LO("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){LO("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(z(Rs),z(uo))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class lq{constructor(){this.$implicit=null,this.ngIf=null}}function LO(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Ot(e)}'.`)}let UO=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:La.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static#e=this.\u0275fac=function(r){return new(r||n)(z(or),z(Vp),z(Ds))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),BO=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(r){return new(r||n)(z(Rs))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ni]})}return n})();let HO=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function MT(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function nq(n,e,t){return function wT(n,e,t,r,i,s,o=!1){let a="",c=!1;if(isFinite(n)){let u=function iq(n){let r,i,s,o,a,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;"0"===e.charAt(s);s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;"0"===e.charAt(a);)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);o&&(u=function rq(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(u));let h=e.minInt,m=e.minFrac,g=e.maxFrac;if(s){const x=s.match(Q7);if(null===x)throw new Error(`${s} is not a valid digit info`);const F=x[1],Q=x[3],le=x[5];null!=F&&(h=CT(F)),null!=Q&&(m=CT(Q)),null!=le?g=CT(le):null!=Q&&m>g&&(g=m)}!function sq(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const s=Math.min(Math.max(e,i),t);let o=s+n.integerLen,a=r[o];if(o>0){r.splice(Math.max(n.integerLen,o));for(let m=o;m<r.length;m++)r[m]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let m=1;m<o;m++)r[m]=0}if(a>=5)if(o-1<0){for(let m=0;m>o;m--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let c=0!==s;const u=e+n.integerLen,h=r.reduceRight(function(m,g,y,b){return b[y]=(g+=m)<10?g:g-10,c&&(0===b[y]&&y>=u?b.pop():c=!1),g>=10?1:0},0);h&&(r.unshift(h),n.integerLen++)}(u,m,g);let y=u.digits,b=u.integerLen;const E=u.exponent;let w=[];for(c=y.every(x=>!x);b<h;b++)y.unshift(0);for(;b<0;b++)y.unshift(0);b>0?w=y.splice(b,y.length):(w=y,y=[0]);const M=[];for(y.length>=e.lgSize&&M.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)M.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&M.unshift(y.join("")),a=M.join(ls(t,r)),w.length&&(a+=ls(t,i)+w.join("")),E&&(a+=ls(t,Ln.Exponential)+"+"+E)}else a=ls(t,Ln.Infinity);return a=n<0&&!c?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(n,function TT(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],c=o[1]||"";t.posPre=a.substring(0,a.indexOf("#"));for(let h=0;h<c.length;h++){const m=c.charAt(h);"0"===m?t.minFrac=t.maxFrac=h+1:"#"===m?t.maxFrac=h+1:t.posSuf+=m}const u=a.split(",");if(t.gSize=u[1]?u[1].length:0,t.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,s){const h=i.length-t.posPre.length-t.posSuf.length,m=s.indexOf("#");t.negPre=s.substring(0,m).replace(/'/g,""),t.negSuf=s.slice(m+h).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function yT(n,e){return oi(n)[Jt.NumberFormats][e]}(e,uv.Decimal),ls(e,Ln.MinusSign)),e,Ln.Group,Ln.Decimal,t)}(function PT(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(s){throw function Ps(n,e){return new O(2100,!1)}()}}static#e=this.\u0275fac=function(r){return new(r||n)(z(ho,16))};static#t=this.\u0275pipe=er({name:"number",type:n,pure:!0,standalone:!0})}return n})();let jp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({})}return n})();const $O="browser";function zO(n){return n===$O}function Ev(n){return"server"===n}let Lq=(()=>{class n{static#e=this.\u0275prov=me({token:n,providedIn:"root",factory:()=>new Vq(Y(yn),window)})}return n})();class Vq{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Uq(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class qO{}class cG extends _7{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class kT extends cG{static makeCurrent(){!function g7(n){pT||(pT=n)}(new kT)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function lG(){return $p=$p||document.querySelector("base"),$p?$p.getAttribute("href"):null}();return null==t?null:function uG(n){Tv=Tv||document.createElement("a"),Tv.setAttribute("href",n);const e=Tv.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){$p=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return NO(document.cookie,e)}}let Tv,$p=null,hG=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();const FT=new oe("EventManagerPlugins");let QO=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new O(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(Y(FT),Y(at))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();class YO{constructor(e){this._doc=e}}const LT="ng-app-id";let XO=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ev(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${LT}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(LT),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(LT,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(yn),Y(Iy),Y(jI,8),Y(as))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();const VT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},UT=/%COMP%/g,gG=new oe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ek(n,e){return e.map(t=>t.replace(UT,n))}let BT=(()=>{class n{constructor(t,r,i,s,o,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ev(a),this.defaultRenderer=new jT(t,o,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Xr.ShadowDom&&(r={...r,encapsulation:Xr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof nk?i.applyToHost(t):i instanceof HT&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case Xr.Emulated:s=new nk(c,u,r,this.appId,h,o,a,m);break;case Xr.ShadowDom:return new bG(c,u,t,r,o,a,this.nonce,m);default:s=new HT(c,u,r,h,o,a,m)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(QO),Y(XO),Y(Iy),Y(gG),Y(yn),Y(as),Y(at),Y(jI))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();class jT{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(VT[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(tk(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(tk(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=VT[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=VT[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(La.DashCase|La.Important)?e.style.setProperty(t,r,i&La.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&La.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=za().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function tk(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class bG extends jT{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=ek(i.id,i.styles);for(const h of u){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=h,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class HT extends jT{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?ek(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class nk extends HT{constructor(e,t,r,i,s,o,a,c){const u=i+"-"+r.id;super(e,t,r,s,o,a,c,u),this.contentAttr=function _G(n){return"_ngcontent-%COMP%".replace(UT,n)}(u),this.hostAttr=function yG(n){return"_nghost-%COMP%".replace(UT,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let EG=(()=>{class n extends YO{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(yn))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();const rk=["alt","control","meta","shift"],IG={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},wG={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let TG=(()=>{class n extends YO{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>za().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),rk.forEach(u=>{const h=r.indexOf(u);h>-1&&(r.splice(h,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=IG[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),rk.forEach(o=>{o!==i&&(0,wG[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(Y(yn))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();const sk=[{provide:as,useValue:$O},{provide:sR,useValue:function CG(){kT.makeCurrent()},multi:!0},{provide:yn,useFactory:function DG(){return function pj(n){DI=n}(document),document},deps:[]}],SG=KN(n7,"browser",sk),xG=new oe(""),ok=[{provide:iv,useClass:class dG{addToWindow(e){xt.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new O(5103,!1);return s},xt.getAllAngularTestabilities=()=>e.getAllTestabilities(),xt.getAllAngularRootElements=()=>e.getAllRootElements(),xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(r=>{const i=xt.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?za().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:$N,useClass:rT,deps:[at,iT,iv]},{provide:rT,useClass:rT,deps:[at,iT,iv]}],ak=[{provide:LI,useValue:"root"},{provide:Ho,useFactory:function AG(){return new Ho},deps:[]},{provide:FT,useClass:EG,multi:!0,deps:[yn,at,as]},{provide:FT,useClass:TG,multi:!0,deps:[yn]},BT,XO,QO,{provide:hp,useExisting:BT},{provide:qO,useClass:hG,deps:[]},[]];let ck=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Iy,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Y(xG,12))};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({providers:[...ak,...ok],imports:[jp,r7]})}return n})(),lk=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(Y(yn))};static#t=this.\u0275prov=me({token:n,factory:function(r){let i=null;return i=r?new r:function MG(){return new lk(Y(yn))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;var Fd=We(534);(0,Fd.registerVersion)("firebase","10.6.0","app");class VG extends bt{constructor(e,t){super()}schedule(e,t=0){return this}}const Cv={setInterval(n,e,...t){const{delegate:r}=Cv;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Cv;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class fk extends VG{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Cv.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Cv.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ve(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const zT={now:()=>(zT.delegate||Date).now(),delegate:void 0};class zp{constructor(e,t=zp.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}zp.now=zT.now;class pk extends zp{constructor(e,t=zp.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const jG=new class BG extends pk{}(class UG extends fk{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),qT=new pk(fk);function Tr(n,e,t){const r=I(n)||e||t?{next:n,error:e,complete:t}:n;return r?H((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ge(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):Pn}const mk=new Ua("ANGULARFIRE2_VERSION");class gk{constructor(){return((n,e)=>{const t=(0,Fd.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r})($G)}}const $G="app-check";function Ld(){}class _k{zone;delegate;constructor(e,t=jG){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class zG{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ld,{},Ld,Ld)),t.pipe(Tr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let yk=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new _k(Zone.current)),this.insideAngular=t.run(()=>new _k(Zone.current,qT)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(Y(at))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Fi(n){return function GG(n){return function(t){return(t=t.lift(new zG(n.ngZone))).pipe(Or(n.outsideAngular),br(n.insideAngular))}}(function Vd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}())(n)}var Tl=We(106);Tl.Z.registerVersion("firebase","10.6.0","app-compat");const QG=["ngOnDestroy"];class vk{constructor(e){return e}}const Av=new oe("angularfire2.app.options"),Dv=new oe("angularfire2.app.name");function GT(n,e,t){const i="object"==typeof t&&t||{};i.name=i.name||"string"==typeof t&&t||"[DEFAULT]";const o=Tl.Z.apps.filter(a=>a&&a.name===i.name)[0]||e.runOutsideAngular(()=>Tl.Z.initializeApp(n,i));try{if(JSON.stringify(n)!==JSON.stringify(o.options)){const a=!!module.hot;JG("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new vk(o)}const JG=(n,...e)=>{},eW={provide:vk,useFactory:GT,deps:[Av,at,[new dl,Dv]]};let tW=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Av,useValue:t},{provide:Dv,useValue:r}]}}constructor(t){Tl.Z.registerVersion("angularfire",mk.full,"core"),Tl.Z.registerVersion("angularfire",mk.full,"app-compat"),Tl.Z.registerVersion("angular",dR.full,t.toString())}static \u0275fac=function(r){return new(r||n)(Y(as))};static \u0275mod=Xt({type:n});static \u0275inj=Yt({providers:[eW]})}return n})();function bk(n,e,t,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(s)return function nW(n,e){try{return n.toString()===e.toString()}catch{return n===e}}(i,o)||(Ek("error",`${e} was already initialized on the ${t} Firebase App with different settings.${rW?" You may need to reload as Firebase is not HMR aware.":""}`),Ek("warn",{is:i,was:o})),s;{const a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,i]),a}}const rW=typeof module<"u"&&!!module.hot,Ek=(n,...e)=>{};let WT;globalThis.\u0275AngularfireInstanceCache||=[];try{WT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{WT=!1}let qp,KT,Ga=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?zO(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!WT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(r){return new(r||n)(Y(as))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Sv(n){return function iW(){if(null==qp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>qp=!0}))}finally{qp=qp||!1}return qp}()?n:!!n.capture}function Bd(n){return n.composedPath?n.composedPath()[0]:n.target}function Li(n,e){return H((t,r)=>{let i=0;t.subscribe(ge(r,s=>n.call(e,s,i++)&&r.next(s)))})}function wk(n){return Li((e,t)=>n<=t)}function ZT(n){return H((e,t)=>{Nn(n).subscribe(ge(t,()=>t.complete(),Te)),!t.closed&&e.subscribe(t)})}function Rv(n){return null!=n&&"false"!=`${n}`}function Tk(n){return Array.isArray(n)?n:[n]}function Gp(n){return n instanceof or?n.nativeElement:n}const{isArray:pW}=Array,{getPrototypeOf:mW,prototype:gW,keys:_W}=Object;function Ck(n){if(1===n.length){const e=n[0];if(pW(e))return{args:e,keys:null};if(function yW(n){return n&&"object"==typeof n&&mW(n)===gW}(e)){const t=_W(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:vW}=Array;function Ak(n){return be(e=>function bW(n,e){return vW(e)?n(...e):n(e)}(n,e))}function Dk(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Mv(...n){const e=Bs(n),t=ha(n),{args:r,keys:i}=Ck(n);if(0===r.length)return S([],e);const s=new dt(function EW(n,e,t=Pn){return r=>{Sk(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)Sk(e,()=>{const u=S(n[c],e);let h=!1;u.subscribe(ge(r,m=>{s[c]=m,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Dk(i,o):Pn));return t?s.pipe(Ak(t)):s}function Sk(n,e,t){n?dr(t,n,e):e()}function Pv(...n){return function IW(){return Si(1)}()(S(n,Bs(n)))}function Al(n){return n<=0?()=>Hn:H((e,t)=>{let r=0;e.subscribe(ge(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Wp(...n){const e=Bs(n);return H((t,r)=>{(e?Pv(n,t,e):Pv(n,t)).subscribe(r)})}const xk=new Set;let Dl,TW=(()=>{class n{constructor(t,r){this._platform=t,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):AW}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function CW(n,e){if(!xk.has(n))try{Dl||(Dl=document.createElement("style"),e&&(Dl.nonce=e),Dl.setAttribute("type","text/css"),document.head.appendChild(Dl)),Dl.sheet&&(Dl.sheet.insertRule(`@media ${n} {body{ }}`,0),xk.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Ga),Y(jI,8))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function AW(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let DW=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new j}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Rk(Tk(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let s=Mv(Rk(Tk(t)).map(o=>this._registerQuery(o).observable));return s=Pv(s.pipe(Al(1)),s.pipe(wk(1),function wW(n,e=qT){return H((t,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const u=s;s=null,r.next(u)}};function c(){const u=o+n,h=e.now();if(h<u)return i=this.schedule(void 0,u-h),void r.add(i);a()}t.subscribe(ge(r,u=>{s=u,o=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),s.pipe(be(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),s={observable:new dt(o=>{const a=c=>this._zone.run(()=>o.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Wp(r),be(({matches:o})=>({query:t,matches:o})),ZT(this._destroySubject)),mql:r};return this._queries.set(t,s),s}static#e=this.\u0275fac=function(r){return new(r||n)(Y(TW),Y(at))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Rk(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Ok(n){return 0===n.buttons||0===n.detail}function kk(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const kW=new oe("cdk-input-modality-detector-options"),FW={ignoreKeys:[18,17,224,91,16]},jd=Sv({passive:!0,capture:!0});let LW=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,r,i,s){this._platform=t,this._mostRecentTarget=null,this._modality=new N(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(a=>a===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Bd(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Ok(o)?"keyboard":"mouse"),this._mostRecentTarget=Bd(o))},this._onTouchstart=o=>{kk(o)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Bd(o))},this._options={...FW,...s},this.modalityDetected=this._modality.pipe(wk(1)),this.modalityChanged=this.modalityDetected.pipe(Zt()),t.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,jd),i.addEventListener("mousedown",this._onMousedown,jd),i.addEventListener("touchstart",this._onTouchstart,jd)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,jd),document.removeEventListener("mousedown",this._onMousedown,jd),document.removeEventListener("touchstart",this._onTouchstart,jd))}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Ga),Y(at),Y(yn),Y(kW,8))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const UW=new oe("cdk-focus-monitor-default-options"),Nv=Sv({passive:!0,capture:!0});let BW=(()=>{class n{constructor(t,r,i,s,o){this._ngZone=t,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new j,this._rootNodeFocusAndBlurListener=a=>{for(let u=Bd(a);u;u=u.parentElement)"focus"===a.type?this._onFocus(a,u):this._onBlur(a,u)},this._document=s,this._detectionMode=o?.detectionMode||0}monitor(t,r=!1){const i=Gp(t);if(!this._platform.isBrowser||1!==i.nodeType)return q();const s=function oW(n){if(function sW(){if(null==KT){const n=typeof document<"u"?document.head:null;KT=!(!n||!n.createShadowRoot&&!n.attachShadow)}return KT}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(i)||this._getDocument(),o=this._elementInfo.get(i);if(o)return r&&(o.checkChildren=!0),o.subject;const a={checkChildren:r,subject:new j,rootNode:s};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const r=Gp(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){const s=Gp(t);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),"function"==typeof s.focus&&s.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused","touch"===r),t.classList.toggle("cdk-keyboard-focused","keyboard"===r),t.classList.toggle("cdk-mouse-focused","mouse"===r),t.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,r){const i=this._elementInfo.get(r),s=Bd(t);!i||!i.checkChildren&&r!==s||this._originChanged(r,this._getFocusOrigin(s),i)}_onBlur(t,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Nv),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Nv)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ZT(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(t){const r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Nv),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Nv),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){const r=[];return this._elementInfo.forEach((i,s)=>{(s===t||i.checkChildren&&s.contains(t))&&r.push([s,i])}),r}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if("mouse"!==i||!r||r===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const s=t.labels;if(s)for(let o=0;o<s.length;o++)if(s[o].contains(r))return!0;return!1}static#e=this.\u0275fac=function(r){return new(r||n)(Y(at),Y(Ga),Y(LW),Y(yn,8),Y(UW,8))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Lk="cdk-high-contrast-black-on-white",Vk="cdk-high-contrast-white-on-black",QT="cdk-high-contrast-active";let jW=(()=>{class n{constructor(t,r){this._platform=t,this._document=r,this._breakpointSubscription=ce(DW).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,s=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(QT,Lk,Vk),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?t.add(QT,Lk):2===r&&t.add(QT,Vk)}}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Ga),Y(yn))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Uk=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({})}return n})();const qW=new oe("mat-sanity-checks",{providedIn:"root",factory:function zW(){return!0}});let Hd=(()=>{class n{constructor(t,r,i){this._sanityChecks=r,this._document=i,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!function aW(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(r){return new(r||n)(Y(jW),Y(qW,8),Y(yn))};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({imports:[Uk,Uk]})}return n})();function GW(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=Rv(e)}constructor(...e){super(...e),this._disabled=!1}}}function Hk(n,e){return class extends n{get color(){return this._color}set color(t){const r=t||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function WW(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Rv(e)}constructor(...e){super(...e),this._disableRipple=!1}}}class ZW{constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const $k=Sv({passive:!0,capture:!0});class QW{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Bd(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,t,r,i){const s=this._events.get(t);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,$k)})}removeHandler(e,t,r){const i=this._events.get(e);if(!i)return;const s=i.get(t);s&&(s.delete(r),0===s.size&&i.delete(t),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,$k)))}}const zk={enterDuration:225,exitDuration:150},qk=Sv({passive:!0,capture:!0}),Gk=["mousedown","touchstart"],Wk=["mouseup","mouseleave","touchend","touchcancel"];class Ov{static#e=this._eventManager=new QW;constructor(e,t,r,i){this._target=e,this._ngZone=t,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=Gp(r))}fadeInRipple(e,t,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...zk,...r.animation};r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=r.radius||function XW(n,e,t){const r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}(e,t,i),a=e-i.left,c=t-i.top,u=s.enterDuration,h=document.createElement("div");h.classList.add("mat-ripple-element"),h.style.left=a-o+"px",h.style.top=c-o+"px",h.style.height=2*o+"px",h.style.width=2*o+"px",null!=r.color&&(h.style.backgroundColor=r.color),h.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(h);const m=window.getComputedStyle(h),y=m.transitionDuration,b="none"===m.transitionProperty||"0s"===y||"0s, 0s"===y||0===i.width&&0===i.height,E=new ZW(this,h,r,b);h.style.transform="scale3d(1, 1, 1)",E.state=0,r.persistent||(this._mostRecentTransientRipple=E);let w=null;return!b&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const M=()=>this._finishRippleTransition(E),x=()=>this._destroyRipple(E);h.addEventListener("transitionend",M),h.addEventListener("transitioncancel",x),w={onTransitionEnd:M,onTransitionCancel:x}}),this._activeRipples.set(E,w),(b||!u)&&this._finishRippleTransition(E),E}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,r={...zk,...e.config.animation};t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Gp(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,Gk.forEach(r=>{Ov._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Wk.forEach(t=>{this._triggerElement.addEventListener(t,this,qk)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Ok(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!kk(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(Gk.forEach(t=>Ov._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&Wk.forEach(t=>e.removeEventListener(t,this,qk)))}}const Kk=new oe("mat-ripple-global-options");let JW=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,r,i,s,o){this._elementRef=t,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Ov(this,r,t,i)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,r,{...this.rippleConfig,...i}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(r){return new(r||n)(z(or),z(at),z(Ga),z(Kk,8),z(lp,8))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){2&r&&ja("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),eK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({imports:[Hd,Hd]})}return n})();const Zk={capture:!0},Qk=["focus","click","mouseenter","touchstart"],YT="mat-ripple-loader-uninitialized",XT="mat-ripple-loader-class-name",Yk="mat-ripple-loader-centered",kv="mat-ripple-loader-disabled";let tK=(()=>{class n{constructor(){this._document=ce(yn,{optional:!0}),this._animationMode=ce(lp,{optional:!0}),this._globalRippleOptions=ce(Kk,{optional:!0}),this._platform=ce(Ga),this._ngZone=ce(at),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const i=t.target.closest(`[${YT}]`);i&&this.createRipple(i)},this._ngZone.runOutsideAngular(()=>{for(const t of Qk)this._document?.addEventListener(t,this._onInteraction,Zk)})}ngOnDestroy(){for(const t of Qk)this._document?.removeEventListener(t,this._onInteraction,Zk)}configureRipple(t,r){t.setAttribute(YT,""),(r.className||!t.hasAttribute(XT))&&t.setAttribute(XT,r.className||""),r.centered&&t.setAttribute(Yk,""),r.disabled&&t.setAttribute(kv,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,r){const i=t.matRipple;i?i.disabled=r:r?t.setAttribute(kv,""):t.removeAttribute(kv)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(XT)),t.append(r);const i=new JW(new or(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return i._isInitialized=!0,i.trigger=t,i.centered=t.hasAttribute(Yk),i.disabled=t.hasAttribute(kv),this.attachRipple(t,i),i}attachRipple(t,r){t.removeAttribute(YT),t.matRipple=r}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const nK=["*",[["mat-toolbar-row"]]],rK=["*","mat-toolbar-row"],iK=Hk(class{constructor(n){this._elementRef=n}});let sK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Ne({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),oK=(()=>{class n extends iK{constructor(t,r,i){super(t),this._platform=r,this._document=i}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(r){return new(r||n)(z(or),z(Ga),z(yn))};static#t=this.\u0275cmp=En({type:n,selectors:[["mat-toolbar"]],contentQueries:function(r,i,s){if(1&r&&ev(s,sK,5),2&r){let o;xd(o=Rd())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(r,i){2&r&&ja("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[pt],ngContentSelectors:rK,decls:2,vars:0,template:function(r,i){1&r&&(Hy(nK),gl(0),gl(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),aK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({imports:[Hd,Hd]})}return n})();const cK=["mat-button",""],lK=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],uK=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],fK=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],pK=Hk(GW(WW(class{constructor(n){this._elementRef=n}})));let mK=(()=>{class n extends pK{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Rv(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=Rv(t),this._updateRippleDisabled()}constructor(t,r,i,s){super(t),this._platform=r,this._ngZone=i,this._animationMode=s,this._focusMonitor=ce(BW),this._rippleLoader=ce(tK),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const o=t.nativeElement.classList;for(const a of fK)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(c=>{o.add(c)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...t){return t.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(r){My()};static#t=this.\u0275dir=Ne({type:n,features:[pt]})}return n})(),_K=(()=>{class n extends mK{constructor(t,r,i,s){super(t,r,i,s),this._haltDisabledEvents=o=>{this.disabled&&(o.preventDefault(),o.stopImmediatePropagation())}}ngOnInit(){this._ngZone.runOutsideAngular(()=>{this._elementRef.nativeElement.addEventListener("click",this._haltDisabledEvents)})}ngOnDestroy(){super.ngOnDestroy(),this._elementRef.nativeElement.removeEventListener("click",this._haltDisabledEvents)}static#e=this.\u0275fac=function(r){My()};static#t=this.\u0275dir=Ne({type:n,features:[pt]})}return n})(),yK=(()=>{class n extends _K{constructor(t,r,i,s){super(t,r,i,s)}static#e=this.\u0275fac=function(r){return new(r||n)(z(or),z(Ga),z(at),z(lp,8))};static#t=this.\u0275cmp=En({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-flat-button",""],["a","mat-stroked-button",""]],hostVars:9,hostBindings:function(r,i){2&r&&(Rt("disabled",i.disabled||null)("tabindex",i.disabled?-1:i.tabIndex)("aria-disabled",i.disabled.toString()),ja("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[pt],attrs:cK,ngContentSelectors:uK,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){1&r&&(Hy(lK),Ye(0,"span",0),gl(1),ue(2,"span",1),gl(3,1),Ce(),gl(4,2),Ye(5,"span",2)(6,"span",3)),2&r&&ja("mdc-button__ripple",!i._isFab)("mdc-fab__ripple",i._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})(),bK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({imports:[Hd,eK,Hd]})}return n})();const Fv=Le(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Xk(n){return new dt(e=>{Nn(n()).subscribe(e)})}function Zp(n,e){const t=I(n)?n:()=>n,r=i=>i.error(t());return new dt(e?i=>e.schedule(r,0,i):r)}function JT(){return H((n,e)=>{let t=null;n._refCount++;const r=ge(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Jk extends dt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,te(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new bt;const t=this.getSubject();e.add(this.source.subscribe(ge(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=bt.EMPTY)}return e}refCount(){return JT()(this)}}function Lv(n){return H((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function eF(n=IK){return H((e,t)=>{let r=!1;e.subscribe(ge(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function IK(){return new Fv}function Wa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Li((i,s)=>n(i,s,r)):Pn,Al(1),t?Lv(e):eF(()=>new Fv))}function $d(n,e){return I(e)?Kt(n,e,1):Kt(n,1)}function Sl(n){return H((e,t)=>{let s,r=null,i=!1;r=e.subscribe(ge(t,void 0,void 0,o=>{s=Nn(n(o,Sl(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function Vv(n,e){return H(function wK(n,e,t,r,i){return(s,o)=>{let a=t,c=e,u=0;s.subscribe(ge(o,h=>{const m=u++;c=a?n(c,h,m):(a=!0,h),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}function eC(n){return n<=0?()=>Hn:H((e,t)=>{let r=[];e.subscribe(ge(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Qp(n){return H((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const nt="primary",Yp=Symbol("RouteTitle");class AK{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function zd(n){return new AK(n)}function DK(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fo(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!tF(n[i],e[i]))return!1;return!0}function tF(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function nF(n){return n.length>0?n[n.length-1]:null}function Ka(n){return function EK(n){return!!n&&(n instanceof dt||I(n.lift)&&I(n.subscribe))}(n)?n:Cp(n)?S(Promise.resolve(n)):q(n)}const xK={exact:function sF(n,e,t){if(!xl(n.segments,e.segments)||!Uv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!sF(n.children[r],e.children[r],t))return!1;return!0},subset:oF},rF={exact:function RK(n,e){return fo(n,e)},subset:function MK(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>tF(n[t],e[t]))},ignored:()=>!0};function iF(n,e,t){return xK[t.paths](n.root,e.root,t.matrixParams)&&rF[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function oF(n,e,t){return aF(n,e,e.segments,t)}function aF(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!xl(i,t)||e.hasChildren()||!Uv(i,t,r))}if(n.segments.length===t.length){if(!xl(n.segments,t)||!Uv(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!oF(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(xl(n.segments,i)&&Uv(n.segments,i,r)&&n.children[nt])&&aF(n.children[nt],e,s,r)}}function Uv(n,e,t){return e.every((r,i)=>rF[t](n[i].parameters,r.parameters))}class qd{constructor(e=new kt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zd(this.queryParams)),this._queryParamMap}toString(){return OK.serialize(this)}}class kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bv(this)}}class Xp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=zd(this.parameters)),this._parameterMap}toString(){return uF(this)}}function xl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Jp=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:function(){return new tC},providedIn:"root"})}return n})();class tC{parse(e){const t=new qK(e);return new qd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${em(e.root,!0)}`,r=function LK(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${jv(t)}=${jv(i)}`).join("&"):`${jv(t)}=${jv(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function kK(n){return encodeURI(n)}(e.fragment)}`:""}`}}const OK=new tC;function Bv(n){return n.segments.map(e=>uF(e)).join("/")}function em(n,e){if(!n.hasChildren())return Bv(n);if(e){const t=n.children[nt]?em(n.children[nt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==nt&&r.push(`${i}:${em(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function NK(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===nt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==nt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===nt?[em(n.children[nt],!1)]:[`${i}:${em(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[nt]?`${Bv(n)}/${t[0]}`:`${Bv(n)}/(${t.join("//")})`}}function cF(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jv(n){return cF(n).replace(/%3B/gi,";")}function nC(n){return cF(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Hv(n){return decodeURIComponent(n)}function lF(n){return Hv(n.replace(/\+/g,"%20"))}function uF(n){return`${nC(n.path)}${function FK(n){return Object.keys(n).map(e=>`;${nC(e)}=${nC(n[e])}`).join("")}(n.parameters)}`}const VK=/^[^\/()?;#]+/;function rC(n){const e=n.match(VK);return e?e[0]:""}const UK=/^[^\/()?;=#]+/,jK=/^[^=?&#]+/,$K=/^[^&#]+/;class qK{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[nt]=new kt(e,t)),r}parseSegment(){const e=rC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new Xp(Hv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function BK(n){const e=n.match(UK);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=rC(this.remaining);i&&(r=i,this.capture(r))}e[Hv(t)]=Hv(r)}parseQueryParam(e){const t=function HK(n){const e=n.match(jK);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function zK(n){const e=n.match($K);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=lF(t),s=lF(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=rC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new O(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=nt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[nt]:new kt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}}function dF(n){return n.segments.length>0?new kt([],{[nt]:n}):n}function hF(n){const e={};for(const r of Object.keys(n.children)){const s=hF(n.children[r]);if(r===nt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function GK(n){if(1===n.numberOfChildren&&n.children[nt]){const e=n.children[nt];return new kt(n.segments.concat(e.segments),e.children)}return n}(new kt(n.segments,e))}function Rl(n){return n instanceof qd}function fF(n){let e;const i=dF(function t(s){const o={};for(const c of s.children){const u=t(c);o[c.outlet]=u}const a=new kt(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function pF(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return iC(i,i,i,t,r);const s=function KK(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gF(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new gF(t,e,r)}(e);if(s.toRoot())return iC(i,i,new kt([],{}),t,r);const o=function ZK(n,e,t){if(n.isAbsolute)return new zv(e,!0,0);if(!t)return new zv(e,!1,NaN);if(null===t.parent)return new zv(t,!0,0);const r=$v(n.commands[0])?0:1;return function QK(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new zv(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?nm(o.segmentGroup,o.index,s.commands):_F(o.segmentGroup,o.index,s.commands);return iC(i,o.segmentGroup,a,t,r)}function $v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tm(n){return"object"==typeof n&&null!=n&&n.outlets}function iC(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`}),o=n===e?t:mF(n,e,t);const a=dF(hF(o));return new qd(a,s,i)}function mF(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:mF(s,e,t)}),new kt(n.segments,r)}class gF{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&$v(r[0]))throw new O(4003,!1);const i=r.find(tm);if(i&&i!==nF(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zv{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function _F(n,e,t){if(n||(n=new kt([],{})),0===n.segments.length&&n.hasChildren())return nm(n,e,t);const r=function XK(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(tm(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!vF(c,u,o))return s;r+=2}else{if(!vF(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new kt(n.segments.slice(0,r.pathIndex),{});return s.children[nt]=new kt(n.segments.slice(r.pathIndex),n.children),nm(s,0,i)}return r.match&&0===i.length?new kt(n.segments,{}):r.match&&!n.hasChildren()?sC(n,e,t):r.match?nm(n,0,i):sC(n,e,t)}function nm(n,e,t){if(0===t.length)return new kt(n.segments,{});{const r=function YK(n){return tm(n[0])?n[0].outlets:{[nt]:n}}(t),i={};if(Object.keys(r).some(s=>s!==nt)&&n.children[nt]&&1===n.numberOfChildren&&0===n.children[nt].segments.length){const s=nm(n.children[nt],e,t);return new kt(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=_F(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new kt(n.segments,i)}}function sC(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(tm(s)){const c=JK(s.outlets);return new kt(r,c)}if(0===i&&$v(t[0])){r.push(new Xp(n.segments[e].path,yF(t[0]))),i++;continue}const o=tm(s)?s.outlets[nt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&$v(a)?(r.push(new Xp(o,yF(a))),i+=2):(r.push(new Xp(o,{})),i++)}return new kt(r,{})}function JK(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=sC(new kt([],{}),0,r))}),e}function yF(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function vF(n,e,t){return n==t.path&&fo(e,t.parameters)}const rm="imperative";class po{constructor(e,t){this.id=e,this.url=t}}class qv extends po{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Za extends po{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class im extends po{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Gd extends po{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Gv extends po{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class bF extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eZ extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tZ extends po{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nZ extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rZ extends po{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EF{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class oC{}class aC{constructor(e){this.url=e}}class uZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new sm,this.attachRef=null}}let sm=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uZ,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class IF{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=cC(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=cC(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=lC(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return lC(e,this._root).map(t=>t.value)}}function cC(n,e){if(n===e.value)return e;for(const t of e.children){const r=cC(n,t);if(r)return r}return null}function lC(n,e){if(n===e.value)return[e];for(const t of e.children){const r=lC(n,t);if(r.length)return r.unshift(e),r}return[]}class Zo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Wd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class wF extends IF{constructor(e,t){super(e),this.snapshot=t,uC(this,e)}toString(){return this.snapshot.toString()}}function TF(n,e){const t=function dZ(n,e){const o=new Wv([],{},{},"",{},nt,e,null,{});return new AF("",new Zo(o,[]))}(0,e),r=new N([new Xp("",{})]),i=new N({}),s=new N({}),o=new N({}),a=new N(""),c=new Kd(r,i,o,a,s,nt,e,t.root);return c.snapshot=t.root,new wF(new Zo(c,[]),t)}class Kd{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(be(u=>u[Yp]))??q(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(be(e=>zd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(be(e=>zd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function CF(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function hZ(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Wv{get title(){return this.data?.[Yp]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class AF extends IF{constructor(e,t){super(t),this.url=e,uC(this,t)}toString(){return DF(this._root)}}function uC(n,e){e.value._routerState=n,e.children.forEach(t=>uC(n,t))}function DF(n){const e=n.children.length>0?` { ${n.children.map(DF).join(", ")} } `:"";return`${n.value}${e}`}function dC(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),fo(e.params,t.params)||n.paramsSubject.next(t.params),function SK(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),fo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function hC(n,e){const t=fo(n.params,e.params)&&function PK(n,e){return xl(n,e)&&n.every((t,r)=>fo(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||hC(n.parent,e.parent))}let fC=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=nt,this.activateEvents=new gn,this.deactivateEvents=new gn,this.attachEvents=new gn,this.detachEvents=new gn,this.parentContexts=ce(sm),this.location=ce(Rs),this.changeDetector=ce(Lp),this.environmentInjector=ce(Pi),this.inputBinder=ce(Kv,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new fZ(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Ne({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ni]})}return n})();class fZ{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Kd?this.route:e===sm?this.childContexts:this.parent.get(e,t)}}const Kv=new oe("");let SF=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Mv([r.queryParams,r.params,r.data]).pipe(It(([s,o,a],c)=>(a={...s,...o,...a},0===c?q(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function m7(n){const e=ht(n);if(!e)return null;const t=new _p(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function om(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function mZ(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return om(n,r,i);return om(n,r)})}(n,e,t);return new Zo(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>om(n,a)),o}}const r=function gZ(n){return new Kd(new N(n.url),new N(n.params),new N(n.queryParams),new N(n.fragment),new N(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>om(n,s));return new Zo(r,i)}}const pC="ngNavigationCancelingError";function xF(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Rl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RF(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function RF(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[pC]=!0,r.cancellationCode=e,t&&(r.url=t),r}function MF(n){return n&&n[pC]}let PF=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=En({type:n,selectors:[["ng-component"]],standalone:!0,features:[Ha],decls:1,vars:0,template:function(r,i){1&r&&Ye(0,"router-outlet")},dependencies:[fC],encapsulation:2})}return n})();function mC(n){const e=n.children&&n.children.map(mC),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==nt&&(t.component=PF),t}function Ns(n){return n.outlet||nt}function am(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class TZ{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dC(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Wd(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Wd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Wd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Wd(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new lZ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new aZ(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(dC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=am(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class NF{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Zv{constructor(e,t){this.component=e,this.route=t}}function CZ(n,e,t){const r=n._root;return cm(r,e?e._root:null,t,[r.value])}function Zd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function mE(n){return null!==Mc(n)}(n)?e.get(n):n:r}function cm(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Wd(e);return n.children.forEach(o=>{(function DZ(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function SZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!xl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!xl(n.url,e.url)||!fo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hC(n,e)||!fo(n.queryParams,e.queryParams);default:return!hC(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new NF(r)):(s.data=o.data,s._resolvedData=o._resolvedData),cm(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Zv(a.outlet.component,o))}else o&&lm(e,a,i),i.canActivateChecks.push(new NF(r)),cm(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>lm(a,t.getContext(o),i)),i}function lm(n,e,t){const r=Wd(n),i=n.value;Object.entries(r).forEach(([s,o])=>{lm(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Zv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function um(n){return"function"==typeof n}function OF(n){return n instanceof Fv||"EmptyError"===n?.name}const Qv=Symbol("INITIAL_VALUE");function Qd(){return It(n=>Mv(n.map(e=>e.pipe(Al(1),Wp(Qv)))).pipe(be(e=>{for(const t of e)if(!0!==t){if(t===Qv)return Qv;if(!1===t||t instanceof qd)return t}return!0}),Li(e=>e!==Qv),Al(1)))}function kF(n){return function zi(...n){return qi(n)}(Tr(e=>{if(Rl(e))throw xF(0,e)}),be(e=>!0===e))}class Yv{constructor(e){this.segmentGroup=e||null}}class FF{constructor(e){this.urlTree=e}}function Yd(n){return Zp(new Yv(n))}function LF(n){return Zp(new FF(n))}class KZ{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new O(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return q(r);if(i.numberOfChildren>1||!i.children[nt])return Zp(new O(4e3,!1));i=i.children[nt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new qd(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new kt(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const gC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ZZ(n,e,t,r,i){const s=_C(n,e,t);return s.matched?(r=function yZ(n,e){return n.providers&&!n._injector&&(n._injector=Vw(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function qZ(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?q(i.map(o=>{const a=Zd(o,n);return Ka(function OZ(n){return n&&um(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Qd(),kF()):q(!0)}(r,e,t).pipe(be(o=>!0===o?s:{...gC}))):q(s)}function _C(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...gC}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||DK)(t,n,e);if(!i)return{...gC};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function VF(n,e,t,r){return t.length>0&&function XZ(n,e,t){return t.some(r=>Xv(n,e,r)&&Ns(r)!==nt)}(n,t,r)?{segmentGroup:new kt(e,YZ(r,new kt(t,n.children))),slicedSegments:[]}:0===t.length&&function JZ(n,e,t){return t.some(r=>Xv(n,e,r))}(n,t,r)?{segmentGroup:new kt(n.segments,QZ(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new kt(n.segments,n.children),slicedSegments:t}}function QZ(n,e,t,r,i){const s={};for(const o of r)if(Xv(n,t,o)&&!i[Ns(o)]){const a=new kt([],{});s[Ns(o)]=a}return{...i,...s}}function YZ(n,e){const t={};t[nt]=e;for(const r of n)if(""===r.path&&Ns(r)!==nt){const i=new kt([],{});t[Ns(r)]=i}return t}function Xv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class rQ{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new KZ(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,!1)}recognize(){const e=VF(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,nt).pipe(Sl(t=>{if(t instanceof FF)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Yv?this.noMatchError(t):t}),be(t=>{const r=new Wv([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nt,this.rootComponentType,null,{}),i=new Zo(r,t),s=new AF("",i),o=function WK(n,e,t=null,r=null){return pF(fF(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,nt).pipe(Sl(r=>{throw r instanceof Yv?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=CF(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return S(i).pipe($d(s=>{const o=r.children[s],a=function IZ(n,e){const t=n.filter(r=>Ns(r)===e);return t.push(...n.filter(r=>Ns(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),Vv((s,o)=>(s.push(...o),s)),Lv(null),function TK(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Li((i,s)=>n(i,s,r)):Pn,eC(1),t?Lv(e):eF(()=>new Fv))}(),Kt(s=>{if(null===s)return Yd(r);const o=UF(s);return function iQ(n){n.sort((e,t)=>e.value.outlet===nt?-1:t.value.outlet===nt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),q(o)}))}processSegment(e,t,r,i,s,o){return S(t).pipe($d(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(Sl(c=>{if(c instanceof Yv)return q(null);throw c}))),Wa(a=>!!a),Sl(a=>{if(OF(a))return function tQ(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?q([]):Yd(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function eQ(n,e,t,r){return!!(Ns(n)===r||r!==nt&&Xv(e,t,n))&&("**"===n.path||_C(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):Yd(i):Yd(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?LF(s):this.applyRedirects.lineralizeSegments(r,s).pipe(Kt(o=>{const a=new kt(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:h}=_C(t,i,s);if(!a)return Yd(t);const m=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,h);return i.redirectTo.startsWith("/")?LF(m):this.applyRedirects.lineralizeSegments(i,m).pipe(Kt(g=>this.processSegment(e,r,t,g.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?nF(i).parameters:{};a=q({snapshot:new Wv(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BF(r),Ns(r),r.component??r._loadedComponent??null,r,jF(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=ZZ(t,r,i,e).pipe(be(({matched:c,consumedSegments:u,remainingSegments:h,parameters:m})=>c?{snapshot:new Wv(u,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,BF(r),Ns(r),r.component??r._loadedComponent??null,r,jF(r)),consumedSegments:u,remainingSegments:h}:null));return a.pipe(It(c=>null===c?Yd(t):this.getChildConfig(e=r._injector??e,r,i).pipe(It(({routes:u})=>{const h=r._loadedInjector??e,{snapshot:m,consumedSegments:g,remainingSegments:y}=c,{segmentGroup:b,slicedSegments:E}=VF(t,g,y,u);if(0===E.length&&b.hasChildren())return this.processChildren(h,u,b).pipe(be(M=>null===M?null:[new Zo(m,M)]));if(0===u.length&&0===E.length)return q([new Zo(m,[])]);const w=Ns(r)===s;return this.processSegment(h,u,b,E,w?nt:s,!0).pipe(be(M=>[new Zo(m,M)]))}))))}getChildConfig(e,t,r){return t.children?q({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?q({routes:t._loadedRoutes,injector:t._loadedInjector}):function zZ(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?q(!0):q(i.map(o=>{const a=Zd(o,n);return Ka(function RZ(n){return n&&um(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Qd(),kF())}(e,t,r).pipe(Kt(i=>i?this.configLoader.loadChildren(e,t).pipe(Tr(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function WZ(n){return Zp(RF(!1,3))}())):q({routes:[],injector:e})}}function sQ(n){const e=n.value.routeConfig;return e&&""===e.path}function UF(n){const e=[],t=new Set;for(const r of n){if(!sQ(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=UF(r.children);e.push(new Zo(r.value,i))}return e.filter(r=>!t.has(r))}function BF(n){return n.data||{}}function jF(n){return n.resolve||{}}function HF(n){return"string"==typeof n.title||null===n.title}function yC(n){return It(e=>{const t=n(e);return t?S(t).pipe(be(()=>e)):q(e)})}const Xd=new oe("ROUTES");let vC=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ce(UN)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return q(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ka(t.loadComponent()).pipe(be($F),Tr(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Qp(()=>{this.componentLoaders.delete(t)})),i=new Jk(r,()=>new j).pipe(JT());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return q({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function hQ(n,e,t,r){return Ka(n.loadChildren()).pipe(be($F),Kt(i=>i instanceof KP||Array.isArray(i)?q(i):S(e.compileModuleAsync(i))),be(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(Xd,[],{optional:!0,self:!0}).flat()),{routes:o.map(mC),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Qp(()=>{this.childrenLoaders.delete(r)})),o=new Jk(s,()=>new j).pipe(JT());return this.childrenLoaders.set(r,o),o}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $F(n){return function fQ(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Jv=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new j,this.transitionAbortSubject=new j,this.configLoader=ce(vC),this.environmentInjector=ce(Pi),this.urlSerializer=ce(Jp),this.rootContexts=ce(sm),this.inputBindingEnabled=null!==ce(Kv,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>q(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new sZ(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new iZ(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new N({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:rm,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Li(s=>0!==s.id),be(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),It(s=>{this.currentTransition=s;let o=!1,a=!1;return q(s).pipe(Tr(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),It(c=>{const u=c.currentBrowserUrl.toString(),h=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!h&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new Gd(c.id,this.urlSerializer.serialize(c.rawUrl),g,0)),c.resolve(null),Hn}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return q(c).pipe(It(g=>{const y=this.transitions?.getValue();return this.events.next(new qv(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),y!==this.transitions?.getValue()?Hn:Promise.resolve(g)}),function oQ(n,e,t,r,i,s){return Kt(o=>function nQ(n,e,t,r,i,s,o="emptyOnly"){return new rQ(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(be(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Tr(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const y=new bF(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(y)}));if(h&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:g,extractedUrl:y,source:b,restoredState:E,extras:w}=c,M=new qv(g,this.urlSerializer.serialize(y),b,E);this.events.next(M);const x=TF(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:x,urlAfterRedirects:y,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},q(s)}{const g="";return this.events.next(new Gd(c.id,this.urlSerializer.serialize(c.extractedUrl),g,1)),c.resolve(null),Hn}}),Tr(c=>{const u=new eZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),be(c=>(this.currentTransition=s={...c,guards:CZ(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function FZ(n,e){return Kt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?q({...t,guardsResult:!0}):function LZ(n,e,t,r){return S(n).pipe(Kt(i=>function $Z(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?q(s.map(a=>{const c=am(e)??i,u=Zd(a,c);return Ka(function NZ(n){return n&&um(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(Wa())})).pipe(Qd()):q(!0)}(i.component,i.route,t,e,r)),Wa(i=>!0!==i,!0))}(o,r,i,n).pipe(Kt(a=>a&&function xZ(n){return"boolean"==typeof n}(a)?function VZ(n,e,t,r){return S(e).pipe($d(i=>Pv(function BZ(n,e){return null!==n&&e&&e(new oZ(n)),q(!0)}(i.route.parent,r),function UZ(n,e){return null!==n&&e&&e(new cZ(n)),q(!0)}(i.route,r),function HZ(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function AZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Xk(()=>q(o.guards.map(c=>{const u=am(o.node)??t,h=Zd(c,u);return Ka(function PZ(n){return n&&um(n.canActivateChild)}(h)?h.canActivateChild(r,n):u.runInContext(()=>h(r,n))).pipe(Wa())})).pipe(Qd())));return q(s).pipe(Qd())}(n,i.path,t),function jZ(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return q(!0);const i=r.map(s=>Xk(()=>{const o=am(e)??t,a=Zd(s,o);return Ka(function MZ(n){return n&&um(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Wa())}));return q(i).pipe(Qd())}(n,i.route,t))),Wa(i=>!0!==i,!0))}(r,s,n,e):q(a)),be(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Tr(c=>{if(s.guardsResult=c.guardsResult,Rl(c.guardsResult))throw xF(0,c.guardsResult);const u=new tZ(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Li(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),yC(c=>{if(c.guards.canActivateChecks.length)return q(c).pipe(Tr(u=>{const h=new nZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),It(u=>{let h=!1;return q(u).pipe(function aQ(n,e){return Kt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return q(t);let s=0;return S(i).pipe($d(o=>function cQ(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!HF(i)&&(s[Yp]=i.title),function lQ(n,e,t,r){const i=function uQ(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return q({});const s={};return S(i).pipe(Kt(o=>function dQ(n,e,t,r){const i=am(e)??r,s=Zd(n,i);return Ka(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Wa(),Tr(a=>{s[o]=a}))),eC(1),function CK(n){return be(()=>n)}(s),Sl(o=>OF(o)?Hn:Zp(o)))}(s,n,e,r).pipe(be(o=>(n._resolvedData=o,n.data=CF(n,t).resolve,i&&HF(i)&&(n.data[Yp]=i.title),null)))}(o.route,r,n,e)),Tr(()=>s++),eC(1),Kt(o=>s===i.length?q(t):Hn))})}(t.paramsInheritanceStrategy,this.environmentInjector),Tr({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",2)}}))}),Tr(u=>{const h=new rZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),yC(c=>{const u=h=>{const m=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(h.routeConfig).pipe(Tr(g=>{h.component=g}),be(()=>{})));for(const g of h.children)m.push(...u(g));return m};return Mv(u(c.targetSnapshot.root)).pipe(Lv(),Al(1))}),yC(()=>this.afterPreactivation()),be(c=>{const u=function pZ(n,e,t){const r=om(n,e._root,t?t._root:void 0);return new wF(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:u},s}),Tr(()=>{this.events.next(new oC)}),((n,e,t,r)=>be(i=>(new TZ(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Al(1),Tr({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Za(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),ZT(this.transitionAbortSubject.pipe(Tr(c=>{throw c}))),Qp(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Sl(c=>{if(a=!0,MF(c))this.events.next(new im(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function _Z(n){return MF(n)&&Rl(n.url)}(c)?this.events.next(new aC(c.url)):s.resolve(!1);else{this.events.next(new Gv(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(c))}catch(u){s.reject(u)}}return Hn}))}))}cancelNavigationTransition(t,r,i){const s=new im(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zF(n){return n!==rm}let qF=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===nt);return r}getResolvedTitleForRoute(t){return t.data[Yp]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:function(){return ce(pQ)},providedIn:"root"})}return n})(),pQ=(()=>{class n extends qF{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(lk))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),mQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:function(){return ce(_Q)},providedIn:"root"})}return n})();class gQ{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let _Q=(()=>{class n extends gQ{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=pn(n)))(i||n)}}();static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const eb=new oe("",{providedIn:"root",factory:()=>({})});let yQ=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:function(){return ce(vQ)},providedIn:"root"})}return n})(),vQ=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dm=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(dm||{});function GF(n,e){n.events.pipe(Li(t=>t instanceof Za||t instanceof im||t instanceof Gv||t instanceof Gd),be(t=>t instanceof Za||t instanceof Gd?dm.COMPLETE:t instanceof im&&(0===t.code||1===t.code)?dm.REDIRECTING:dm.FAILED),Li(t=>t!==dm.REDIRECTING),Al(1)).subscribe(()=>{e()})}function bQ(n){throw n}function EQ(n,e,t){return e.parse("/")}const IQ={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wQ={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Cr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ce(VN),this.isNgZoneEnabled=!1,this._events=new j,this.options=ce(eb,{optional:!0})||{},this.pendingTasks=ce(nv),this.errorHandler=this.options.errorHandler||bQ,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||EQ,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ce(yQ),this.routeReuseStrategy=ce(mQ),this.titleStrategy=ce(qF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ce(Xd,{optional:!0})?.flat()??[],this.navigationTransitions=ce(Jv),this.urlSerializer=ce(Jp),this.location=ce(_T),this.componentInputBindingEnabled=!!ce(Kv,{optional:!0}),this.eventsSubscription=new bt,this.isNgZoneEnabled=ce(at)instanceof at&&at.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new qd,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=TF(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(WF(r)&&this._events.next(r));if(r instanceof qv)zF(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Gd)this.rawUrlTree=i.rawUrl;else if(r instanceof bF){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof oC)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof im)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof aC){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||zF(i.source)};this.scheduleNavigation(s,rm,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Gv&&this.restoreHistory(i,!0),r instanceof Za&&(this.navigated=!0),WF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),rm,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o;let m,h=null;switch(a){case"merge":h={...this.currentUrlTree.queryParams,...s};break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}null!==h&&(h=this.removeEmptyProps(h));try{m=fF(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return pF(m,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Rl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,rm,null,r)}navigate(t,r={skipLocationChange:!1}){return function TQ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new O(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...IQ}:!1===r?{...wQ}:r,Rl(t))return iF(this.currentUrlTree,t,i);const s=this.parseUrl(t);return iF(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((m,g)=>{a=m,c=g});const h=this.pendingTasks.add();return GF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(m=>Promise.reject(m))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function WF(n){return!(n instanceof oC||n instanceof aC)}let Jd=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new j,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof Za&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function Y1(n,e,t){return function Fj(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?Q1:Z1}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(z(Cr),z(Kd),function Yu(n){return function JE(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(t_(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(kn(),n)}("tabindex"),z(Ds),z(or),z(Il))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Cn("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&Rt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Nd],skipLocationChange:["skipLocationChange","skipLocationChange",Nd],replaceUrl:["replaceUrl","replaceUrl",Nd],routerLink:"routerLink"},standalone:!0,features:[cM,ni]})}return n})();class KF{}let DQ=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Li(t=>t instanceof Za),$d(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Vw(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return S(i).pipe(Si())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):q(null);const s=i.pipe(Kt(o=>null===o?q(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?S([s,this.loader.loadComponent(r)]).pipe(Si()):s})}static#e=this.\u0275fac=function(r){return new(r||n)(Y(Cr),Y(UN),Y(Pi),Y(KF),Y(vC))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bC=new oe("");let ZF=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Za?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Gd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof EF&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new EF(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){My()};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function Qo(n,e){return{\u0275kind:n,\u0275providers:e}}function YF(){const n=ce(Ni);return e=>{const t=n.get(bl);if(e!==t.components[0])return;const r=n.get(Cr),i=n.get(XF);1===n.get(EC)&&r.initialNavigation(),n.get(JF,null,ut.Optional)?.setUpPreloading(),n.get(bC,null,ut.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const XF=new oe("",{factory:()=>new j}),EC=new oe("",{providedIn:"root",factory:()=>1}),JF=new oe("");function MQ(n){return Qo(0,[{provide:JF,useExisting:DQ},{provide:KF,useExisting:n}])}const eL=new oe("ROUTER_FORROOT_GUARD"),NQ=[_T,{provide:Jp,useClass:tC},Cr,sm,{provide:Kd,useFactory:function QF(n){return n.routerState.root},deps:[Cr]},vC,[]];function OQ(){return new GN("Router",Cr)}let tL=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[NQ,[],{provide:Xd,multi:!0,useValue:t},{provide:eL,useFactory:VQ,deps:[[Cr,new dl,new td]]},{provide:eb,useValue:r||{}},r?.useHash?{provide:Il,useClass:b7}:{provide:Il,useClass:wO},{provide:bC,useFactory:()=>{const n=ce(Lq),e=ce(at),t=ce(eb),r=ce(Jv),i=ce(Jp);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ZF(i,r,n,e,t)}},r?.preloadingStrategy?MQ(r.preloadingStrategy).\u0275providers:[],{provide:GN,multi:!0,useFactory:OQ},r?.initialNavigation?UQ(r):[],r?.bindToComponentInputs?Qo(8,[SF,{provide:Kv,useExisting:SF}]).\u0275providers:[],[{provide:nL,useFactory:YF},{provide:aT,multi:!0,useExisting:nL}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Xd,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(Y(eL,8))};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({})}return n})();function VQ(n){return"guarded"}function UQ(n){return["disabled"===n.initialNavigation?Qo(3,[{provide:Jw,multi:!0,useFactory:()=>{const e=ce(Cr);return()=>{e.setUpLocationChangeListener()}}},{provide:EC,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Qo(2,[{provide:EC,useValue:0},{provide:Jw,multi:!0,deps:[Ni],useFactory:e=>{const t=e.get(y7,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Cr),s=e.get(XF);GF(i,()=>{r(!0)}),e.get(Jv).afterPreactivation=()=>(r(!0),s.closed?q(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const nL=new oe("");We(956);class jQ extends j{constructor(e=1/0,t=1/0,r=zT){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}function rL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,Ue({connector:()=>new jQ(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function iL(n,e){return I(e)?It(()=>n,e):It(()=>n)}const sL=new oe("angularfire2.auth.use-emulator"),oL=new oe("angularfire2.auth.settings"),aL=new oe("angularfire2.auth.tenant-id"),cL=new oe("angularfire2.auth.langugage-code"),lL=new oe("angularfire2.auth.use-device-language"),uL=new oe("angularfire.auth.persistence"),dL=(n,e,t,r,i,s,o,a)=>bk(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=i,s&&c.useDeviceLanguage(),o)for(const[u,h]of Object.entries(o))c.settings[u]=h;return a&&c.setPersistence(a),c},[t,r,i,s,o,a]);let hL=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,i,s,o,a,c,u,h,m,g,y){const b=new j,E=q(void 0).pipe(br(o.outsideAngular),It(()=>s.runOutsideAngular(()=>Promise.resolve().then(We.bind(We,956)))),be(()=>GT(t,s,r)),be(w=>dL(w,s,a,u,h,m,c,g)),rL({bufferSize:1,refCount:!1}));if(Ev(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=q(null);else{E.pipe(Wa()).subscribe();const w=E.pipe(It(F=>F.getRedirectResult().then(Q=>Q,()=>null)),Fi,rL({bufferSize:1,refCount:!1})),M=E.pipe(It(F=>new dt(Q=>({unsubscribe:s.runOutsideAngular(()=>F.onAuthStateChanged(le=>Q.next(le),le=>Q.error(le),()=>Q.complete()))})))),x=E.pipe(It(F=>new dt(Q=>({unsubscribe:s.runOutsideAngular(()=>F.onIdTokenChanged(le=>Q.next(le),le=>Q.error(le),()=>Q.complete()))}))));this.authState=w.pipe(iL(M),Or(o.outsideAngular),br(o.insideAngular)),this.user=w.pipe(iL(x),Or(o.outsideAngular),br(o.insideAngular)),this.idToken=this.user.pipe(It(F=>F?S(F.getIdToken()):q(null))),this.idTokenResult=this.user.pipe(It(F=>F?S(F.getIdTokenResult()):q(null))),this.credential=K(w,b,this.authState.pipe(Li(F=>!F))).pipe(be(F=>F?.user?F:null),Or(o.outsideAngular),br(o.insideAngular))}return((n,e,t,r={})=>new Proxy(n,{get:(i,s)=>t.runOutsideAngular(()=>{if(n[s])return r?.spy?.get&&r.spy.get(s,n[s]),n[s];if(QG.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(a=>{const c=a?.[s];return"function"==typeof c?c.bind(a):c?.then?c.then(u=>t.run(()=>u)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>o[c],apply:(a,c,u)=>o.then(h=>{const m=h?.(...u);return r?.spy?.apply&&r.spy.apply(s,u,m),m})})})}))(this,E,s,{spy:{apply:(w,M,x)=>{(w.startsWith("signIn")||w.startsWith("createUser"))&&x.then(F=>b.next(F))}}})}static \u0275fac=function(r){return new(r||n)(Y(Av),Y(Dv,8),Y(as),Y(at),Y(yk),Y(sL,8),Y(oL,8),Y(aL,8),Y(cL,8),Y(lL,8),Y(uL,8),Y(gk,8))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();function IC(){return H((n,e)=>{let t,r=!1;n.subscribe(ge(e,i=>{const s=t;t=i,r&&e.next([s,i]),r=!0}))})}var _e,X=We(861),fL=We(537),mo=We(879),qt=We(58),$Q=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Os={},wC=wC||{},Ze=$Q||self;function tb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function hm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var TC="closure_uid_"+(1e9*Math.random()>>>0),qQ=0;function GQ(n,e,t){return n.call.apply(n.bind,arguments)}function WQ(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function jr(n,e,t){return(jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?GQ:WQ).apply(null,arguments)}function nb(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function fr(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Qa(){this.s=this.s,this.o=this.o}Qa.prototype.s=!1,Qa.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function zQ(n){Object.prototype.hasOwnProperty.call(n,TC)&&n[TC]||(n[TC]=++qQ)}(this)},Qa.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const pL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function CC(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function mL(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(tb(r)){const i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function Hr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Hr.prototype.h=function(){this.defaultPrevented=!0};var ZQ=function(){if(!Ze.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ze.addEventListener("test",()=>{},e),Ze.removeEventListener("test",()=>{},e)}catch{}return n}();function fm(n){return/^[\s\xa0]*$/.test(n)}function rb(){var n=Ze.navigator;return n&&(n=n.userAgent)?n:""}function go(n){return-1!=rb().indexOf(n)}function AC(n){return AC[" "](n),n}AC[" "]=function(){};var SC,n,YQ=go("Opera"),eh=go("Trident")||go("MSIE"),gL=go("Edge"),DC=gL||eh,_L=go("Gecko")&&!(-1!=rb().toLowerCase().indexOf("webkit")&&!go("Edge"))&&!(go("Trident")||go("MSIE"))&&!go("Edge"),XQ=-1!=rb().toLowerCase().indexOf("webkit")&&!go("Edge");function yL(){var n=Ze.document;return n?n.documentMode:void 0}e:{var xC="",RC=(n=rb(),_L?/rv:([^\);]+)(\)|;)/.exec(n):gL?/Edge\/([\d\.]+)/.exec(n):eh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):XQ?/WebKit\/(\S+)/.exec(n):YQ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(RC&&(xC=RC?RC[1]:""),eh){var MC=yL();if(null!=MC&&MC>parseFloat(xC)){SC=String(MC);break e}}SC=xC}var JQ=Ze.document&&eh&&(yL()||parseInt(SC,10))||void 0;function pm(n,e){if(Hr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(_L){e:{try{AC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:eY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&pm.$.h.call(this)}}fr(pm,Hr);var eY={2:"touch",3:"pen",4:"mouse"};pm.prototype.h=function(){pm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var mm="closure_listenable_"+(1e6*Math.random()|0),tY=0;function nY(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++tY,this.fa=this.ia=!1}function ib(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function NC(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function bL(n){const e={};for(const t in n)e[t]=n[t];return e}const EL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function IL(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let s=0;s<EL.length;s++)t=EL[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function sb(n){this.src=n,this.g={},this.h=0}function OC(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],i=pL(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ib(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function kC(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.fa&&s.listener==e&&s.capture==!!t&&s.la==r)return i}return-1}sb.prototype.add=function(n,e,t,r,i){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var o=kC(n,e,r,i);return-1<o?(e=n[o],t||(e.ia=!1)):((e=new nY(e,this.src,s,!!r,i)).ia=t,n.push(e)),e};var FC="closure_lm_"+(1e6*Math.random()|0),LC={};function wL(n,e,t,r,i){if(r&&r.once)return CL(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)wL(n,e[s],t,r,i);return null}return t=jC(t),n&&n[mm]?n.O(e,t,hm(r)?!!r.capture:!!r,i):TL(n,e,t,!1,r,i)}function TL(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=hm(i)?!!i.capture:!!i,a=UC(n);if(a||(n[FC]=a=new sb(n)),(t=a.add(e,t,r,o,s)).proxy)return t;if(r=function iY(){const e=sY;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)ZQ||(i=o),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(DL(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function CL(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)CL(n,e[s],t,r,i);return null}return t=jC(t),n&&n[mm]?n.P(e,t,hm(r)?!!r.capture:!!r,i):TL(n,e,t,!0,r,i)}function AL(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)AL(n,e[s],t,r,i);else r=hm(r)?!!r.capture:!!r,t=jC(t),n&&n[mm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=kC(s=n.g[e],t,r,i))&&(ib(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=UC(n))&&(e=n.g[e.toString()],n=-1,e&&(n=kC(e,t,r,i)),(t=-1<n?e[n]:null)&&VC(t))}function VC(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[mm])OC(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(DL(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=UC(e))?(OC(t,n),0==t.h&&(t.src=null,e[FC]=null)):ib(n)}}}function DL(n){return n in LC?LC[n]:LC[n]="on"+n}function sY(n,e){if(n.fa)n=!0;else{e=new pm(e,this);var t=n.listener,r=n.la||n.src;n.ia&&VC(n),n=t.call(r,e)}return n}function UC(n){return(n=n[FC])instanceof sb?n:null}var BC="__closure_events_fn_"+(1e9*Math.random()>>>0);function jC(n){return"function"==typeof n?n:(n[BC]||(n[BC]=function(e){return n.handleEvent(e)}),n[BC])}function pr(){Qa.call(this),this.i=new sb(this),this.S=this,this.J=null}function Ar(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Hr(e,n);else if(e instanceof Hr)e.target=e.target||n;else{var i=e;IL(e=new Hr(r,n),i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=ob(o,r,!0,e)&&i}if(i=ob(o=e.g=n,r,!0,e)&&i,i=ob(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)i=ob(o=e.g=t[s],r,!1,e)&&i}function ob(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==t){var a=o.listener,c=o.la||o.src;o.ia&&OC(n.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}fr(pr,Qa),pr.prototype[mm]=!0,pr.prototype.removeEventListener=function(n,e,t,r){AL(this,n,e,t,r)},pr.prototype.N=function(){if(pr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)ib(t[r]);delete n.g[e],n.h--}}this.J=null},pr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},pr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var HC=Ze.JSON.stringify;function aY(){var n=$C;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var SL=new class oY{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new lY,n=>n.reset());class lY{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function uY(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function dY(n){Ze.setTimeout(()=>{throw n},0)}let gm,_m=!1,$C=new class cY{constructor(){this.h=this.g=null}add(e,t){const r=SL.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},xL=()=>{const n=Ze.Promise.resolve(void 0);gm=()=>{n.then(hY)}};var hY=()=>{for(var n;n=aY();){try{n.h.call(n.g)}catch(t){dY(t)}var e=SL;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}_m=!1};function ab(n,e){pr.call(this),this.h=n||1,this.g=e||Ze,this.j=jr(this.qb,this),this.l=Date.now()}function zC(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function qC(n,e,t){if("function"==typeof n)t&&(n=jr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=jr(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ze.setTimeout(n,e||0)}function RL(n){n.g=qC(()=>{n.g=null,n.i&&(n.i=!1,RL(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}fr(ab,pr),(_e=ab.prototype).ga=!1,_e.T=null,_e.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ar(this,"tick"),this.ga&&(zC(this),this.start()))}},_e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.N=function(){ab.$.N.call(this),zC(this),delete this.g};class fY extends Qa{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:RL(this)}N(){super.N(),this.g&&(Ze.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ym(n){Qa.call(this),this.h=n,this.g={}}fr(ym,Qa);var ML=[];function PL(n,e,t,r){Array.isArray(t)||(t&&(ML[0]=t.toString()),t=ML);for(var i=0;i<t.length;i++){var s=wL(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function NL(n){NC(n.g,function(e,t){this.g.hasOwnProperty(t)&&VC(e)},n),n.g={}}function cb(){this.g=!0}function th(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _Y(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return HC(t)}catch{return e}}(n,t)+(r?" "+r:"")})}ym.prototype.N=function(){ym.$.N.call(this),NL(this)},ym.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cb.prototype.Ea=function(){this.g=!1},cb.prototype.info=function(){};var Ml={},OL=null;function lb(){return OL=OL||new pr}function kL(n){Hr.call(this,Ml.Ta,n)}function vm(n){const e=lb();Ar(e,new kL(e))}function FL(n,e){Hr.call(this,Ml.STAT_EVENT,n),this.stat=e}function li(n){const e=lb();Ar(e,new FL(e,n))}function LL(n,e){Hr.call(this,Ml.Ua,n),this.size=e}function bm(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ze.setTimeout(function(){n()},e)}Ml.Ta="serverreachability",fr(kL,Hr),Ml.STAT_EVENT="statevent",fr(FL,Hr),Ml.Ua="timingevent",fr(LL,Hr);var ub={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},VL={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function GC(){}function BL(){}GC.prototype.h=null;var ZC,Em={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function WC(){Hr.call(this,"d")}function KC(){Hr.call(this,"c")}function db(){}function Im(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new ym(this),this.P=yY,this.V=new ab(n=DC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jL}function jL(){this.i=null,this.g="",this.h=!1}fr(WC,Hr),fr(KC,Hr),fr(db,GC),db.prototype.g=function(){return new XMLHttpRequest},db.prototype.i=function(){return{}},ZC=new db;var yY=45e3,QC={},hb={};function YC(n,e,t){n.L=1,n.v=gb(Yo(e)),n.s=t,n.S=!0,HL(n,null)}function HL(n,e){n.G=Date.now(),wm(n),n.A=Yo(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),XL(t.i,"t",r),n.C=0,t=n.l.J,n.h=new jL,n.g=I2(n.l,t?e:null,!n.s),0<n.O&&(n.M=new fY(jr(n.Pa,n,n.g),n.O)),PL(n.U,n.g,"readystatechange",n.nb),e=n.I?bL(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),vm(),function pY(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var h=u[0];u=u[1];var m=h.split("_");o=2<=m.length&&"type"==m[1]?o+(h+"=")+u+"&":o+(h+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+o})}(n.j,n.u,n.A,n.m,n.W,n.s)}function $L(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function zL(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=vY(n,t),i==hb){4==e&&(n.o=4,li(14),r=!1),th(n.j,n.m,null,"[Incomplete Response]");break}if(i==QC){n.o=4,li(15),th(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}th(n.j,n.m,i,null),XC(n,i)}$L(n)&&i!=hb&&i!=QC&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,li(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),sA(e),e.M=!0,li(11))):(th(n.j,n.m,t,"[Invalid Chunked Response]"),Pl(n),Tm(n))}function vY(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?hb:(t=Number(e.substring(t,r)),isNaN(t)?QC:(r+=1)+t>e.length?hb:(e=e.slice(r,r+t),n.C=r+t,e))}function wm(n){n.Y=Date.now()+n.P,qL(n,n.P)}function qL(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=bm(jr(n.lb,n),e)}function fb(n){n.B&&(Ze.clearTimeout(n.B),n.B=null)}function Tm(n){0==n.l.H||n.J||y2(n.l,n)}function Pl(n){fb(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,zC(n.V),NL(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function XC(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||JC(t.i,n)))if(!n.K&&JC(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Ib(t),bb(t)}iA(t),li(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=bm(jr(t.ib,t),6e3));if(1>=t2(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else Ol(t,11)}else if((n.K||t.g==n)&&Ib(t),!fm(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.V=u[0],u=u[1],2==t.H)if("c"==u[0]){t.K=u[1],t.pa=u[2];const h=u[3];null!=h&&(t.ra=h,t.l.info("VER="+t.ra));const m=u[4];null!=m&&(t.Ga=m,t.l.info("SVER="+t.Ga));const g=u[5];null!=g&&"number"==typeof g&&0<g&&(t.L=r=1.5*g,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const y=n.g;if(y){const b=y.g?y.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(b){var s=r.i;s.g||-1==b.indexOf("spdy")&&-1==b.indexOf("quic")&&-1==b.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(eA(s,s.h),s.h=null))}if(r.F){const E=y.g?y.g.getResponseHeader("X-HTTP-Session-Id"):null;E&&(r.Da=E,cn(r.I,r.F,E))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var o=n;if((r=t).wa=E2(r,r.J?r.pa:null,r.Y),o.K){n2(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(fb(a),wm(a)),r.g=o}else g2(r);0<t.j.length&&Eb(t)}else"stop"!=u[0]&&"close"!=u[0]||Ol(t,7);else 3==t.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Ol(t,7):rA(t):"noop"!=u[0]&&t.h&&t.h.Aa(u),t.A=0)}vm()}catch{}}function GL(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(tb(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function EY(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(tb(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function bY(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(tb(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}(_e=Im.prototype).setTimeout=function(n){this.P=n},_e.nb=function(n){n=n.target;const e=this.M;e&&3==_o(n)?e.l():this.Pa(n)},_e.Pa=function(n){try{if(n==this.g)e:{const h=_o(this.g);var e=this.g.Ia();if(this.g.da(),!(3>h)&&(3!=h||DC||this.g&&(this.h.h||this.g.ja()||u2(this.g)))){this.J||4!=h||7==e||vm(),fb(this);var t=this.g.da();this.ca=t;t:if($L(this)){var r=u2(this.g);n="";var i=r.length,s=4==_o(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pl(this),Tm(this);var o="";break t}this.h.i=new Ze.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==t,function mY(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,h,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fm(a)){var u=a;break t}}u=null}if(!(t=u)){this.i=!1,this.o=3,li(12),Pl(this),Tm(this);break e}th(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,XC(this,t)}this.S?(zL(this,h,o),DC&&this.i&&3==h&&(PL(this.U,this.V,"tick",this.mb),this.V.start())):(th(this.j,this.m,o,null),XC(this,o)),4==h&&Pl(this),this.i&&!this.J&&(4==h?y2(this.l,this):(this.i=!1,wm(this)))}else(function UY(n){const e={};n=(n.g&&2<=_o(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(fm(n[r]))continue;var t=uY(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const s=e[i]||[];e[i]=s,s.push(t)}!function rY(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<o.indexOf("Unknown SID")?(this.o=3,li(12)):(this.o=0,li(13)),Pl(this),Tm(this)}}}catch{}},_e.mb=function(){if(this.g){var n=_o(this.g),e=this.g.ja();this.C<e.length&&(fb(this),zL(this,n,e),this.i&&4!=n&&wm(this))}},_e.cancel=function(){this.J=!0,Pl(this)},_e.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function gY(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(vm(),li(17)),Pl(this),this.o=2,Tm(this)):qL(this,this.Y-n)};var WL=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Nl){this.h=n.h,pb(this,n.j),this.s=n.s,this.g=n.g,mb(this,n.m),this.l=n.l;var e=n.i,t=new Dm;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),KL(this,t),this.o=n.o}else n&&(e=String(n).match(WL))?(this.h=!1,pb(this,e[1]||"",!0),this.s=Cm(e[2]||""),this.g=Cm(e[3]||"",!0),mb(this,e[4]),this.l=Cm(e[5]||"",!0),KL(this,e[6]||"",!0),this.o=Cm(e[7]||"")):(this.h=!1,this.i=new Dm(null,this.h))}function Yo(n){return new Nl(n)}function pb(n,e,t){n.j=t?Cm(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function mb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function KL(n,e,t){e instanceof Dm?(n.i=e,function SY(n,e){e&&!n.j&&(Ya(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(QL(this,r),XL(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Am(e,AY)),n.i=new Dm(e,n.h))}function cn(n,e,t){n.i.set(e,t)}function gb(n){return cn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Cm(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Am(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,wY),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function wY(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Nl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Am(e,ZL,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Am(e,ZL,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Am(t,"/"==t.charAt(0)?CY:TY,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Am(t,DY)),n.join("")};var ZL=/[#\/\?@]/g,TY=/[#\?:]/g,CY=/[#\?]/g,AY=/[#\?@]/g,DY=/#/g;function Dm(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ya(n){n.g||(n.g=new Map,n.h=0,n.i&&function IY(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function QL(n,e){Ya(n),e=nh(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function YL(n,e){return Ya(n),e=nh(n,e),n.g.has(e)}function XL(n,e,t){QL(n,e),0<t.length&&(n.i=null,n.g.set(nh(n,e),CC(t)),n.h+=t.length)}function nh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function JL(n){this.l=n||RY,n=Ze.PerformanceNavigationTiming?0<(n=Ze.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ze.g&&Ze.g.Ka&&Ze.g.Ka()&&Ze.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=Dm.prototype).add=function(n,e){Ya(this),this.i=null,n=nh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(n,e){Ya(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},_e.ta=function(){Ya(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t},_e.Z=function(n){Ya(this);let e=[];if("string"==typeof n)YL(this,n)&&(e=e.concat(this.g.get(nh(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},_e.set=function(n,e){return Ya(this),this.i=null,YL(this,n=nh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},_e.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};var RY=10;function e2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function t2(n){return n.h?1:n.g?n.g.size:0}function JC(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function eA(n,e){n.g?n.g.add(e):n.h=e}function n2(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function r2(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return CC(n.i)}JL.prototype.cancel=function(){if(this.i=r2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var MY=class{stringify(n){return Ze.JSON.stringify(n,void 0)}parse(n){return Ze.JSON.parse(n,void 0)}};function PY(){this.g=new MY}function NY(n,e,t){const r=t||"";try{GL(n,function(i,s){let o=i;hm(i)&&(o=HC(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _b(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Sm(n){this.l=n.ec||null,this.j=n.ob||!1}function yb(n,e){pr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=tA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fr(Sm,GC),Sm.prototype.g=function(){return new yb(this.l,this.j)},Sm.prototype.i=function(n){return function(){return n}}({}),fr(yb,pr);var tA=0;function i2(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function xm(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Rm(n)}function Rm(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(_e=yb.prototype).open=function(n,e){if(this.readyState!=tA)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Rm(this)},_e.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Ze).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xm(this)),this.readyState=tA},_e.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Rm(this)),this.g&&(this.readyState=3,Rm(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ze.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;i2(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},_e.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?xm(this):Rm(this),3==this.readyState&&i2(this)}},_e.Za=function(n){this.g&&(this.response=this.responseText=n,xm(this))},_e.Ya=function(n){this.g&&(this.response=n,xm(this))},_e.ka=function(){this.g&&xm(this)},_e.setRequestHeader=function(n,e){this.v.append(n,e)},_e.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(yb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var kY=Ze.JSON.parse;function xn(n){pr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=s2,this.L=this.M=!1}fr(xn,pr);var s2="",FY=/^https?$/i,LY=["POST","PUT"];function o2(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,a2(n),vb(n)}function a2(n){n.F||(n.F=!0,Ar(n,"complete"),Ar(n,"error"))}function c2(n){if(n.h&&typeof wC<"u"&&(!n.C[1]||4!=_o(n)||2!=n.da()))if(n.v&&4==_o(n))qC(n.La,0,n);else if(Ar(n,"readystatechange"),4==_o(n)){n.h=!1;try{const o=n.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===o){var i=String(n.I).match(WL)[1]||null;!i&&Ze.self&&Ze.self.location&&(i=Ze.self.location.protocol.slice(0,-1)),r=!FY.test(i?i.toLowerCase():"")}t=r}if(t)Ar(n,"complete"),Ar(n,"success");else{n.m=6;try{var s=2<_o(n)?n.g.statusText:""}catch{s=""}n.j=s+" ["+n.da()+"]",a2(n)}}finally{vb(n)}}}function vb(n,e){if(n.g){l2(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Ar(n,"ready");try{t.onreadystatechange=r}catch{}}}function l2(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ze.clearTimeout(n.A),n.A=null)}function _o(n){return n.g?n.g.readyState:0}function u2(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case s2:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function d2(n){let e="";return NC(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function nA(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=d2(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):cn(n,e,t))}function Mm(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function h2(n){this.Ga=0,this.j=[],this.l=new cb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mm("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mm("baseRetryDelayMs",5e3,n),this.hb=Mm("retryDelaySeedMs",1e4,n),this.eb=Mm("forwardChannelMaxRetries",2,n),this.xa=Mm("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new JL(n&&n.concurrentRequestLimit),this.Ja=new PY,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function rA(n){if(f2(n),3==n.H){var e=n.W++,t=Yo(n.I);if(cn(t,"SID",n.K),cn(t,"RID",e),cn(t,"TYPE","terminate"),Pm(n,t),(e=new Im(n,n.l,e)).L=2,e.v=gb(Yo(t)),t=!1,Ze.navigator&&Ze.navigator.sendBeacon)try{t=Ze.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Ze.Image&&((new Image).src=e.v,t=!0),t||(e.g=I2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),wm(e)}b2(n)}function bb(n){n.g&&(sA(n),n.g.cancel(),n.g=null)}function f2(n){bb(n),n.u&&(Ze.clearTimeout(n.u),n.u=null),Ib(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ze.clearTimeout(n.m),n.m=null)}function Eb(n){if(!e2(n.i)&&!n.m){n.m=!0;var e=n.Na;gm||xL(),_m||(gm(),_m=!0),$C.add(e,n),n.C=0}}function p2(n,e){var t;t=e?e.m:n.W++;const r=Yo(n.I);cn(r,"SID",n.K),cn(r,"RID",t),cn(r,"AID",n.V),Pm(n,r),n.o&&n.s&&nA(r,n.o,n.s),t=new Im(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=m2(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),eA(n.i,t),YC(t,r,e)}function Pm(n,e){n.na&&NC(n.na,function(t,r){cn(e,r,t)}),n.h&&GL({},function(t,r){cn(e,r,t)})}function m2(n,e,t){t=Math.min(n.j.length,t);var r=n.h?jr(n.h.Va,n.h,n):null;e:{var i=n.j;let s=-1;for(;;){const o=["count="+t];-1==s?0<t?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let u=i[c].g;const h=i[c].map;if(u-=s,0>u)s=Math.max(0,i[c].g-100),a=!1;else try{NY(h,o,"req"+u+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function g2(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;gm||xL(),_m||(gm(),_m=!0),$C.add(e,n),n.A=0}}function iA(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=bm(jr(n.Ma,n),v2(n,n.A)),n.A++,0))}function sA(n){null!=n.B&&(Ze.clearTimeout(n.B),n.B=null)}function _2(n){n.g=new Im(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Yo(n.wa);cn(e,"RID","rpc"),cn(e,"SID",n.K),cn(e,"AID",n.V),cn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&cn(e,"TO",n.qa),cn(e,"TYPE","xmlhttp"),Pm(n,e),n.o&&n.s&&nA(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=gb(Yo(e)),t.s=null,t.S=!0,HL(t,n)}function Ib(n){null!=n.v&&(Ze.clearTimeout(n.v),n.v=null)}function y2(n,e){var t=null;if(n.g==e){Ib(n),sA(n),n.g=null;var r=2}else{if(!JC(n.i,e))return;t=e.F,n2(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Ar(r=lb(),new LL(r,t)),Eb(n)}else g2(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function BY(n,e){return!(t2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=bm(jr(n.Na,n,e),v2(n,n.C)),n.C++,0)))}(n,e)||2==r&&iA(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ol(n,5);break;case 4:Ol(n,10);break;case 3:Ol(n,6);break;default:Ol(n,2)}}function v2(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function Ol(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=jr(n.pb,n);t||(t=new Nl("//www.google.com/images/cleardot.gif"),Ze.location&&"http"==Ze.location.protocol||pb(t,"https"),gb(t)),function OY(n,e){const t=new cb;if(Ze.Image){const r=new Image;r.onload=nb(_b,t,r,"TestLoadImage: loaded",!0,e),r.onerror=nb(_b,t,r,"TestLoadImage: error",!1,e),r.onabort=nb(_b,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=nb(_b,t,r,"TestLoadImage: timeout",!1,e),Ze.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else li(2);n.H=0,n.h&&n.h.za(e),b2(n),f2(n)}function b2(n){if(n.H=0,n.ma=[],n.h){const e=r2(n.i);(0!=e.length||0!=n.j.length)&&(mL(n.ma,e),mL(n.ma,n.j),n.i.i.length=0,CC(n.j),n.j.length=0),n.h.ya()}}function E2(n,e,t){var r=t instanceof Nl?Yo(t):new Nl(t);if(""!=r.g)e&&(r.g=e+"."+r.g),mb(r,r.m);else{var i=Ze.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Nl(null);r&&pb(s,r),e&&(s.g=e),i&&mb(s,i),t&&(s.l=t),r=s}return e=n.Da,(t=n.F)&&e&&cn(r,t,e),cn(r,"VER",n.ra),Pm(n,r),r}function I2(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new xn(t&&n.Ha&&!n.va?new Sm({ob:!0}):n.va)).Oa(n.J),e}function w2(){}function wb(){if(eh&&!(10<=Number(JQ)))throw Error("Environmental error: no available transport.")}function Vi(n,e){pr.call(this),this.g=new h2(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!fm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rh(this)}function T2(n){WC.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function C2(){KC.call(this),this.status=1}function rh(n){this.g=n}function ks(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function oA(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var s=n.g[3],o=(e=n.g[0])+(s^(t=n.g[1])&((i=n.g[2])^s))+r[0]+3614090360&4294967295;o=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=(t=(i=(s=(e=t+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^t&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(t^s&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=t+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^t&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=t+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(t^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(t^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^t)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=t+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(t|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(t|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~t))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=t+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=t+((o=e+(i^(t|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~t))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+s&4294967295}function Ft(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var s=0|n[i];r&&s==e||(t[i]=s,r=!1)}this.g=t}(_e=xn.prototype).Oa=function(n){this.M=n},_e.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ZC.g(),this.C=function UL(n){return n.h||(n.h=n.i())}(this.u?this.u:ZC),this.g.onreadystatechange=jr(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(s){return void o2(this,s)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())t.set(s,r.get(s))}r=Array.from(t.keys()).find(s=>"content-type"==s.toLowerCase()),i=Ze.FormData&&n instanceof Ze.FormData,!(0<=pL(LY,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of t)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{l2(this),0<this.B&&((this.L=function VY(n){return eh&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=jr(this.ua,this)):this.A=qC(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){o2(this,s)}},_e.ua=function(){typeof wC<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ar(this,"timeout"),this.abort(8))},_e.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ar(this,"complete"),Ar(this,"abort"),vb(this))},_e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vb(this,!0)),xn.$.N.call(this)},_e.La=function(){this.s||(this.G||this.v||this.l?c2(this):this.kb())},_e.kb=function(){c2(this)},_e.isActive=function(){return!!this.g},_e.da=function(){try{return 2<_o(this)?this.g.status:-1}catch{return-1}},_e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),kY(e)}},_e.Ia=function(){return this.m},_e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=h2.prototype).ra=8,_e.H=1,_e.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new Im(this,this.l,n);let s=this.s;if(this.U&&(s?(s=bL(s),IL(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=m2(this,i,e),cn(t=Yo(this.I),"RID",n),cn(t,"CVER",22),this.F&&cn(t,"X-HTTP-Session-Id",this.F),Pm(this,t),s&&(this.O?e="headers="+encodeURIComponent(String(d2(s)))+"&"+e:this.o&&nA(t,this.o,s)),eA(this.i,i),this.bb&&cn(t,"TYPE","init"),this.P?(cn(t,"$req",e),cn(t,"SID","null"),i.aa=!0,YC(i,t,null)):YC(i,t,e),this.H=2}}else 3==this.H&&(n?p2(this,n):0==this.j.length||e2(this.i)||p2(this))},_e.Ma=function(){if(this.u=null,_2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=bm(jr(this.jb,this),n)}},_e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,li(10),bb(this),_2(this))},_e.ib=function(){null!=this.v&&(this.v=null,bb(this),iA(this),li(19))},_e.pb=function(n){n?(this.l.info("Successfully pinged google.com"),li(2)):(this.l.info("Failed to ping google.com"),li(1))},_e.isActive=function(){return!!this.h&&this.h.isActive(this)},(_e=w2.prototype).Ba=function(){},_e.Aa=function(){},_e.za=function(){},_e.ya=function(){},_e.isActive=function(){return!0},_e.Va=function(){},wb.prototype.g=function(n,e){return new Vi(n,e)},fr(Vi,pr),Vi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;li(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=E2(n,null,n.Y),Eb(n)},Vi.prototype.close=function(){rA(this.g)},Vi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=HC(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Eb(e)},Vi.prototype.N=function(){this.g.h=null,delete this.j,rA(this.g),delete this.g,Vi.$.N.call(this)},fr(T2,WC),fr(C2,KC),fr(rh,w2),rh.prototype.Ba=function(){Ar(this.g,"a")},rh.prototype.Aa=function(n){Ar(this.g,new T2(n))},rh.prototype.za=function(n){Ar(this.g,new C2)},rh.prototype.ya=function(){Ar(this.g,"b")},fr(ks,function jY(){this.blockSize=-1}),ks.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ks.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=t;)oA(this,n,s),s+=this.blockSize;if("string"==typeof n){for(;s<e;)if(r[i++]=n.charCodeAt(s++),i==this.blockSize){oA(this,r),i=0;break}}else for(;s<e;)if(r[i++]=n[s++],i==this.blockSize){oA(this,r),i=0;break}}this.h=i,this.i+=e},ks.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var HY={};function aA(n){return-128<=n&&128>n?function QQ(n,e){var t=HY;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Ft([0|e],0>e?-1:0)}):new Ft([0|n],0>n?-1:0)}function yo(n){if(isNaN(n)||!isFinite(n))return ih;if(0>n)return Dr(yo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=cA;return new Ft(e,0)}var cA=4294967296,ih=aA(0),lA=aA(1),D2=aA(16777216);function Xo(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function ds(n){return-1==n.h}function Dr(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Ft(t,~n.h).add(lA)}function Tb(n,e){return n.add(Dr(e))}function Cb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Nm(n,e){this.g=n,this.h=e}function Ab(n,e){if(Xo(e))throw Error("division by zero");if(Xo(n))return new Nm(ih,ih);if(ds(n))return e=Ab(Dr(n),e),new Nm(Dr(e.g),Dr(e.h));if(ds(e))return e=Ab(n,Dr(e)),new Nm(Dr(e.g),e.h);if(30<n.g.length){if(ds(n)||ds(e))throw Error("slowDivide_ only works with positive integers.");for(var t=lA,r=e;0>=r.X(n);)t=S2(t),r=S2(r);var i=sh(t,1),s=sh(r,1);for(r=sh(r,2),t=sh(t,2);!Xo(r);){var o=s.add(r);0>=o.X(n)&&(i=i.add(t),s=o),r=sh(r,1),t=sh(t,1)}return e=Tb(n,i.R(e)),new Nm(i,e)}for(i=ih;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),o=(s=yo(t)).R(e);ds(o)||0<o.X(n);)o=(s=yo(t-=r)).R(e);Xo(s)&&(s=lA),i=i.add(s),n=Tb(n,o)}return new Nm(i,n)}function S2(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Ft(t,n.h)}function sh(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],s=0;s<r;s++)i[s]=0<e?n.D(s+t)>>>e|n.D(s+t+1)<<32-e:n.D(s+t);return new Ft(i,n.h)}(_e=Ft.prototype).ea=function(){if(ds(this))return-Dr(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:cA+r)*e,e*=cA}return n},_e.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Xo(this))return"0";if(ds(this))return"-"+Dr(this).toString(n);for(var e=yo(Math.pow(n,6)),t=this,r="";;){var i=Ab(t,e).g,s=((0<(t=Tb(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Xo(t=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},_e.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},_e.X=function(n){return ds(n=Tb(this,n))?-1:Xo(n)?0:1},_e.abs=function(){return ds(this)?Dr(this):this},_e.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&n.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=o>>>16,t[i]=(o&=65535)<<16|(s&=65535)}return new Ft(t,-2147483648&t[t.length-1]?-1:0)},_e.R=function(n){if(Xo(this)||Xo(n))return ih;if(ds(this))return ds(n)?Dr(this).R(Dr(n)):Dr(Dr(this).R(n));if(ds(n))return Dr(this.R(Dr(n)));if(0>this.X(D2)&&0>n.X(D2))return yo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=n.D(i)>>>16,c=65535&n.D(i);t[2*r+2*i]+=o*c,Cb(t,2*r+2*i),t[2*r+2*i+1]+=s*c,Cb(t,2*r+2*i+1),t[2*r+2*i+1]+=o*a,Cb(t,2*r+2*i+1),t[2*r+2*i+2]+=s*a,Cb(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Ft(t,0)},_e.gb=function(n){return Ab(this,n).h},_e.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Ft(t,this.h&n.h)},_e.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Ft(t,this.h|n.h)},_e.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Ft(t,this.h^n.h)},wb.prototype.createWebChannel=wb.prototype.g,Vi.prototype.send=Vi.prototype.u,Vi.prototype.open=Vi.prototype.m,Vi.prototype.close=Vi.prototype.close,ub.NO_ERROR=0,ub.TIMEOUT=8,ub.HTTP_ERROR=6,VL.COMPLETE="complete",BL.EventType=Em,Em.OPEN="a",Em.CLOSE="b",Em.ERROR="c",Em.MESSAGE="d",pr.prototype.listen=pr.prototype.O,xn.prototype.listenOnce=xn.prototype.P,xn.prototype.getLastError=xn.prototype.Sa,xn.prototype.getLastErrorCode=xn.prototype.Ia,xn.prototype.getStatus=xn.prototype.da,xn.prototype.getResponseJson=xn.prototype.Wa,xn.prototype.getResponseText=xn.prototype.ja,xn.prototype.send=xn.prototype.ha,xn.prototype.setWithCredentials=xn.prototype.Oa,ks.prototype.digest=ks.prototype.l,ks.prototype.reset=ks.prototype.reset,ks.prototype.update=ks.prototype.j,Ft.prototype.add=Ft.prototype.add,Ft.prototype.multiply=Ft.prototype.R,Ft.prototype.modulo=Ft.prototype.gb,Ft.prototype.compare=Ft.prototype.X,Ft.prototype.toNumber=Ft.prototype.ea,Ft.prototype.toString=Ft.prototype.toString,Ft.prototype.getBits=Ft.prototype.D,Ft.fromNumber=yo,Ft.fromString=function A2(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Dr(A2(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=yo(Math.pow(e,8)),r=ih,i=0;i<n.length;i+=8){var s=Math.min(8,n.length-i),o=parseInt(n.substring(i,i+s),e);8>s?(s=yo(Math.pow(e,s)),r=r.R(s).add(yo(o))):r=(r=r.R(t)).add(yo(o))}return r};var $Y=Os.createWebChannelTransport=function(){return new wb},zY=Os.getStatEventTarget=function(){return lb()},uA=Os.ErrorCode=ub,qY=Os.EventType=VL,GY=Os.Event=Ml,x2=Os.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WY=Os.FetchXmlHttpFactory=Sm,Db=Os.WebChannel=BL,KY=Os.XhrIo=xn,ZY=Os.Md5=ks,oh=Os.Integer=Ft;const R2="@firebase/firestore";class mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let ah="10.5.2";const Xa=new mo.Yd("@firebase/firestore");function ch(){return Xa.logLevel}function se(n,...e){if(Xa.logLevel<=mo.in.DEBUG){const t=e.map(dA);Xa.debug(`Firestore (${ah}): ${n}`,...t)}}function Vn(n,...e){if(Xa.logLevel<=mo.in.ERROR){const t=e.map(dA);Xa.error(`Firestore (${ah}): ${n}`,...t)}}function Ii(n,...e){if(Xa.logLevel<=mo.in.WARN){const t=e.map(dA);Xa.warn(`Firestore (${ah}): ${n}`,...t)}}function dA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ve(n="Unexpected state"){const e=`FIRESTORE (${ah}) INTERNAL ASSERTION FAILED: `+n;throw Vn(e),new Error(e)}function Re(n,e){n||ve()}function de(n,e){return n}const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends qt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class M2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mr.UNAUTHENTICATED))}shutdown(){}}class JY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class eX{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable((0,X.Z)(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re("string"==typeof r.accessToken),new M2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Re(null===e||"string"==typeof e),new mr(e)}}class tX{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class nX{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new tX(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class rX{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=s=>{null!=s.error&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Re("string"==typeof t.token),this.R=t.token,new P2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function iX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class N2{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=iX(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function Ge(n,e){return n<e?-1:n>e?1:0}function lh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function O2(n){return n+"\0"}class vn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vn.fromMillis(Date.now())}static fromDate(e){return vn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new vn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Me{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Me(e)}static min(){return new Me(new vn(0,0))}static max(){return new Me(new vn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Om{constructor(e,t,r){void 0===t?t=0:t>e.length&&ve(),void 0===r?r=e.length-t:r>e.length-t&&ve(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Om.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Om?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tt extends Om{construct(e,t,r){return new Tt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new re(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const sX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends Om{construct(e,t,r){return new ln(e,t,r)}static isValidIdentifier(e){return sX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new re(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new re(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new re(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new re(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}class fe{constructor(e){this.path=e}static fromPath(e){return new fe(Tt.fromString(e))}static fromName(e){return new fe(Tt.fromString(e).popFirst(5))}static empty(){return new fe(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Tt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fe(new Tt(e.slice()))}}class uh{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function hA(n){return n.fields.find(e=>2===e.kind)}function kl(n){return n.fields.filter(e=>2!==e.kind)}uh.UNKNOWN_ID=-1;class Fl{constructor(e,t){this.fieldPath=e,this.kind=t}}class dh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new dh(0,Ui.min())}}function k2(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(1e9===r?new vn(t+1,0):new vn(t,r));return new Ui(i,fe.empty(),e)}function F2(n){return new Ui(n.readTime,n.key,-1)}class Ui{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Ui(Me.min(),fe.empty(),-1)}static max(){return new Ui(Me.max(),fe.empty(),-1)}}function fA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=fe.comparator(n.documentKey,e.documentKey),0!==t?t:Ge(n.largestBatchId,e.largestBatchId))}const L2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class V2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ja(n){return pA.apply(this,arguments)}function pA(){return pA=(0,X.Z)(function*(n){if(n.code!==U.FAILED_PRECONDITION||n.message!==L2)throw n;se("LocalStore","Unexpectedly lost primary lease")}),pA.apply(this,arguments)}class k{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new k((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof k?t:k.resolve(t)}catch(t){return k.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):k.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):k.reject(t)}static resolve(e){return new k((t,r)=>{t(e)})}static reject(e){return new k((t,r)=>{r(e)})}static waitFor(e){return new k((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=k.resolve(!1);for(const r of e)t=t.next(i=>i?k.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new k((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new k((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}class Sb{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new cr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new km(e,t.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=mA(r.target.error);this.V.reject(new km(e,i))}}static open(e,t,r,i){try{return new Sb(t,e.transaction(i,r))}catch(s){throw new km(t,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(se("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new lX(t)}}class Fs{constructor(e,t,r){this.name=e,this.version=t,this.p=r,12.2===Fs.S((0,qt.z$)())&&Vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return se("SimpleDb","Removing database:",e),Ll(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,qt.hl)())return!1;if(Fs.C())return!0;const e=(0,qt.z$)(),t=Fs.S(e),r=0<t&&t<10,i=Fs.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,X.Z)(function*(){return t.db||(se("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const s=indexedDB.open(t.name,t.version);s.onsuccess=o=>{r(o.target.result)},s.onblocked=()=>{i(new km(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=o=>{const a=o.target.error;i("VersionError"===a.name?new re(U.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===a.name?new re(U.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a):new km(e,a))},s.onupgradeneeded=o=>{se("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',o.oldVersion),t.p.N(o.target.result,s.transaction,o.oldVersion,t.version).next(()=>{se("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var s=this;return(0,X.Z)(function*(){const o="readonly"===t;let a=0;for(;;){++a;try{s.db=yield s.O(e);const c=Sb.open(s.db,e,o?"readonly":"readwrite",r),u=i(c).next(h=>(c.g(),h)).catch(h=>(c.abort(h),k.reject(h))).toPromise();return u.catch(()=>{}),yield c.m,u}catch(c){const u=c,h="FirebaseError"!==u.name&&a<3;if(se("SimpleDb","Transaction failed with error:",u.message,"Retrying:",h),s.close(),!h)return Promise.reject(u)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class cX{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ll(this.k.delete())}}class km extends re{constructor(e,t){super(U.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ec(n){return"IndexedDbTransactionError"===n.name}class lX{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(se("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(se("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ll(r)}add(e){return se("SimpleDb","ADD",this.store.name,e,e),Ll(this.store.add(e))}get(e){return Ll(this.store.get(e)).next(t=>(void 0===t&&(t=null),se("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return se("SimpleDb","DELETE",this.store.name,e),Ll(this.store.delete(e))}count(){return se("SimpleDb","COUNT",this.store.name),Ll(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),s=[];return this.G(i,(o,a)=>{s.push(a)}).next(()=>s)}{const i=this.store.getAll(r.range);return new k((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}j(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new k((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,t){se("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.G(i,t)}Z(e){const t=this.cursor({});return new k((r,i)=>{t.onerror=s=>{const o=mA(s.target.error);i(o)},t.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,t){const r=[];return new k((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const c=new cX(a),u=t(a.primaryKey,a.value,c);if(u instanceof k){const h=u.catch(m=>(c.done(),k.reject(m)));r.push(h)}c.isDone?i():null===c.$?a.continue():a.continue(c.$)}}).next(()=>k.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ll(n){return new k((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=mA(r.target.error);t(i)}})}let U2=!1;function mA(n){const e=Fs.S((0,qt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new re("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return U2||(U2=!0,setTimeout(()=>{throw r},0)),r}}return n}class uX{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){var t=this;se("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,X.Z)(function*(){t.task=null;try{se("IndexBackiller",`Documents written: ${yield t.X.te()}`)}catch(r){ec(r)?se("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Ja(r)}yield t.ee(6e4)}))}}class dX{constructor(e,t){this.localStore=e,this.persistence=t}te(e=50){var t=this;return(0,X.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.ne(r,e))})()}ne(e,t){const r=new Set;let i=t,s=!0;return k.doWhile(()=>!0===s&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(null!==o&&!r.has(o))return se("IndexBackiller",`Processing collection: ${o}`),this.re(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}re(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ie(i,s)).next(a=>(se("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ie(e,t){let r=e;return t.changes.forEach((i,s)=>{const o=F2(s);fA(o,r)>0&&(r=o)}),new Ui(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Bi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.se(i),this.oe=i=>r.writeSequenceNumber(i))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function Fm(n){return null==n}function Lm(n){return 0===n&&1/n==-1/0}function B2(n){return"number"==typeof n&&Number.isInteger(n)&&!Lm(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function $r(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=j2(e)),e=hX(n.get(t),e);return j2(e)}function hX(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function j2(n){return n+"\x01\x01"}function vo(n){const e=n.length;if(Re(e>=2),2===e)return Re("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tt.emptyPath();const t=e-2,r=[];let i="";for(let s=0;s<e;){const o=n.indexOf("\x01",s);switch((o<0||o>t)&&ve(),n.charAt(o+1)){case"\x01":const a=n.substring(s,o);let c;0===i.length?c=a:(i+=a,c=i,i=""),r.push(c);break;case"\x10":i+=n.substring(s,o),i+="\0";break;case"\x11":i+=n.substring(s,o+1);break;default:ve()}s=o+2}return new Tt(r)}const H2=["userId","batchId"];function xb(n,e){return[n,$r(e)]}function $2(n,e,t){return[n,$r(e),t]}const fX={},pX=["prefixPath","collectionGroup","readTime","documentId"],mX=["prefixPath","collectionGroup","documentId"],gX=["collectionGroup","readTime","prefixPath","documentId"],_X=["canonicalId","targetId"],yX=["targetId","path"],vX=["path","targetId"],bX=["collectionId","parent"],EX=["indexId","uid"],IX=["uid","sequenceNumber"],wX=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],TX=["indexId","uid","orderedDocumentKey"],CX=["userId","collectionPath","documentId"],AX=["userId","collectionPath","largestBatchId"],DX=["userId","collectionGroup","largestBatchId"],z2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SX=[...z2,"documentOverlays"],q2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],G2=q2,xX=[...G2,"indexConfiguration","indexState","indexEntries"];class gA extends V2{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function gr(n,e){const t=de(n);return Fs.M(t.ae,e)}function W2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function tc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function K2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class tn{constructor(e,t){this.comparator=e,this.root=t||Sr.EMPTY}insert(e,t){return new tn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Sr.BLACK,null,null))}remove(e){return new tn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Sr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rb(this.root,e,this.comparator,!0)}}class Rb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Sr{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Sr.RED,this.left=i??Sr.EMPTY,this.right=s??Sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Sr(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ve();const e=this.left.check();if(e!==this.right.check())throw ve();return e+(this.isRed()?0:1)}}Sr.EMPTY=null,Sr.RED=!0,Sr.BLACK=!1,Sr.EMPTY=new class{constructor(){this.size=0}get key(){throw ve()}get value(){throw ve()}get color(){throw ve()}get left(){throw ve()}get right(){throw ve()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Sr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bt{constructor(e){this.comparator=e,this.data=new tn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Z2(this.data.getIterator())}getIteratorFrom(e){return new Z2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class Z2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hh(n){return n.hasNext()?n.getNext():void 0}class wi{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new wi([])}unionWith(e){let t=new Bt(ln.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new wi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return lh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Q2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Q2("Invalid base64 string: "+s):s}}(e);return new lr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const MX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nc(n){if(Re(!!n),"string"==typeof n){let e=0;const t=MX.exec(n);if(Re(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(n.seconds),nanos:Rn(n.nanos)}}function Rn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Jo(n){return"string"==typeof n?lr.fromBase64String(n):lr.fromUint8Array(n)}function Mb(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Pb(n){const e=n.mapValue.fields.__previous_value__;return Mb(e)?Pb(e):e}function Vm(n){const e=nc(n.mapValue.fields.__local_write_time__.timestampValue);return new vn(e.seconds,e.nanos)}class PX{constructor(e,t,r,i,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class rc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rc&&e.projectId===this.projectId&&e.database===this.database}}const ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Nb={nullValue:"NULL_VALUE"};function sc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mb(n)?4:eV(n)?9007199254740991:10:ve()}function bo(n,e){if(n===e)return!0;const t=sc(n);if(t!==sc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Vm(n).isEqual(Vm(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=nc(i.timestampValue),a=nc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Jo(n.bytesValue).isEqual(Jo(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Rn(i.geoPointValue.latitude)===Rn(s.geoPointValue.latitude)&&Rn(i.geoPointValue.longitude)===Rn(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Rn(i.integerValue)===Rn(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Rn(i.doubleValue),a=Rn(s.doubleValue);return o===a?Lm(o)===Lm(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return lh(n.arrayValue.values||[],e.arrayValue.values||[],bo);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(W2(o)!==W2(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!bo(o[c],a[c])))return!1;return!0}(n,e);default:return ve()}var s}function Um(n,e){return void 0!==(n.values||[]).find(t=>bo(t,e))}function oc(n,e){if(n===e)return 0;const t=sc(n),r=sc(e);if(t!==r)return Ge(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Rn(s.integerValue||s.doubleValue),c=Rn(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return Y2(n.timestampValue,e.timestampValue);case 4:return Y2(Vm(n),Vm(e));case 5:return Ge(n.stringValue,e.stringValue);case 6:return function(s,o){const a=Jo(s),c=Jo(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=Ge(a[u],c[u]);if(0!==h)return h}return Ge(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Ge(Rn(s.latitude),Rn(o.latitude));return 0!==a?a:Ge(Rn(s.longitude),Rn(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],c=o.values||[];for(let u=0;u<a.length&&u<c.length;++u){const h=oc(a[u],c[u]);if(h)return h}return Ge(a.length,c.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ic.mapValue&&o===ic.mapValue)return 0;if(s===ic.mapValue)return 1;if(o===ic.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const g=Ge(c[m],h[m]);if(0!==g)return g;const y=oc(a[c[m]],u[h[m]]);if(0!==y)return y}return Ge(c.length,h.length)}(n.mapValue,e.mapValue);default:throw ve()}}function Y2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ge(n,e);const t=nc(n),r=nc(e),i=Ge(t.seconds,r.seconds);return 0!==i?i:Ge(t.nanos,r.nanos)}function fh(n){return _A(n)}function _A(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=nc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Jo(n.bytesValue).toBase64():"referenceValue"in n?fe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=_A(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${_A(t.fields[o])}`;return i+"}"}(n.mapValue):ve()}function Vl(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function yA(n){return!!n&&"integerValue"in n}function Bm(n){return!!n&&"arrayValue"in n}function X2(n){return!!n&&"nullValue"in n}function J2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kb(n){return!!n&&"mapValue"in n}function jm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return tc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=jm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jm(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eV(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function NX(n){return"nullValue"in n?Nb:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Vl(rc.empty(),fe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ve()}function OX(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Vl(rc.empty(),fe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ic:ve()}function tV(n,e){const t=oc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function nV(n,e){const t=oc(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class xr{constructor(e){this.value=e}static empty(){return new xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!kb(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jm(t)}setAll(e){let t=ln.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=jm(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());kb(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return bo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];kb(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){tc(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new xr(jm(this.value))}}function rV(n){const e=[];return tc(n.fields,(t,r)=>{const i=new ln([t]);if(kb(r)){const s=rV(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new wi(e)}class un{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new un(e,0,Me.min(),Me.min(),Me.min(),xr.empty(),0)}static newFoundDocument(e,t,r,i){return new un(e,1,t,Me.min(),r,i,0)}static newNoDocument(e,t){return new un(e,2,t,Me.min(),Me.min(),xr.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Me.min(),Me.min(),xr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Me.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ac{constructor(e,t){this.position=e,this.inclusive=t}}function iV(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?fe.comparator(fe.fromName(o.referenceValue),t.key):oc(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function sV(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!bo(n.position[t],e.position[t]))return!1;return!0}class Hm{constructor(e,t="asc"){this.field=e,this.dir=t}}function kX(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class oV{}class _t extends oV{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new FX(e,t,r):"array-contains"===t?new UX(e,r):"in"===t?new hV(e,r):"not-in"===t?new BX(e,r):"array-contains-any"===t?new jX(e,r):new _t(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new LX(e,r):new VX(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(oc(t,this.value)):null!==t&&sc(this.value)===sc(t)&&this.matchesComparison(oc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lt extends oV{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Lt(e,t)}matches(e){return ph(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ph(n){return"and"===n.op}function vA(n){return"or"===n.op}function bA(n){return aV(n)&&ph(n)}function aV(n){for(const e of n.filters)if(e instanceof Lt)return!1;return!0}function EA(n){if(n instanceof _t)return n.field.canonicalString()+n.op.toString()+fh(n.value);if(bA(n))return n.filters.map(e=>EA(e)).join(",");{const e=n.filters.map(t=>EA(t)).join(",");return`${n.op}(${e})`}}function cV(n,e){return n instanceof _t?(r=n,(i=e)instanceof _t&&r.op===i.op&&r.field.isEqual(i.field)&&bo(r.value,i.value)):n instanceof Lt?function(r,i){return i instanceof Lt&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&cV(o,i.filters[a]),!0)}(n,e):void ve();var r,i}function lV(n,e){const t=n.filters.concat(e);return Lt.create(t,n.op)}function uV(n){return n instanceof _t?`${(t=n).field.canonicalString()} ${t.op} ${fh(t.value)}`:n instanceof Lt?function(t){return t.op.toString()+" {"+t.getFilters().map(uV).join(" ,")+"}"}(n):"Filter";var t}class FX extends _t{constructor(e,t,r){super(e,t,r),this.key=fe.fromName(r.referenceValue)}matches(e){const t=fe.comparator(e.key,this.key);return this.matchesComparison(t)}}class LX extends _t{constructor(e,t){super(e,"in",t),this.keys=dV(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class VX extends _t{constructor(e,t){super(e,"not-in",t),this.keys=dV(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function dV(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>fe.fromName(r.referenceValue))}class UX extends _t{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bm(t)&&Um(t.arrayValue,this.value)}}class hV extends _t{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Um(this.value.arrayValue,t)}}class BX extends _t{constructor(e,t){super(e,"not-in",t)}matches(e){if(Um(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Um(this.value.arrayValue,t)}}class jX extends _t{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Um(this.value.arrayValue,r))}}class HX{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function IA(n,e=null,t=[],r=[],i=null,s=null,o=null){return new HX(n,e,t,r,i,s,o)}function Ul(n){const e=de(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>EA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Fm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>fh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>fh(r)).join(",")),e.ce=t}return e.ce}function $m(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!kX(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!cV(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sV(n.startAt,e.startAt)&&sV(n.endAt,e.endAt)}function Fb(n){return fe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Lb(n,e){return n.filters.filter(t=>t instanceof _t&&t.field.isEqual(e))}function fV(n,e,t){let r=Nb,i=!0;for(const s of Lb(n,e)){let o=Nb,a=!0;switch(s.op){case"<":case"<=":o=NX(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Nb}tV({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];tV({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}function pV(n,e,t){let r=ic,i=!0;for(const s of Lb(n,e)){let o=ic,a=!0;switch(s.op){case">=":case">":o=OX(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=ic}nV({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(null!==t)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){const o=t.position[s];nV({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}return{value:r,inclusive:i}}class ea{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.le=null,this.he=null,this.Pe=null}}function mV(n,e,t,r,i,s,o,a){return new ea(n,e,t,r,i,s,o,a)}function mh(n){return new ea(n)}function gV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function wA(n){return null!==n.collectionGroup}function gh(n){const e=de(n);if(null===e.le){e.le=[];const t=new Set;for(const s of e.explicitOrderBy)e.le.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Bt(ln.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.le.push(new Hm(s,r))}),t.has(ln.keyField().canonicalString())||e.le.push(new Hm(ln.keyField(),r))}return e.le}function ui(n){const e=de(n);return e.he||(e.he=function _V(n,e){if("F"===n.limitType)return IA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Hm(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new ac(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new ac(n.startAt.position,n.startAt.inclusive):null;return IA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,gh(n))),e.he}function TA(n,e){const t=n.filters.concat([e]);return new ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Vb(n,e,t){return new ea(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zm(n,e){return $m(ui(n),ui(e))&&n.limitType===e.limitType}function yV(n){return`${Ul(ui(n))}|lt:${n.limitType}`}function _h(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>uV(i)).join(", ")}]`),Fm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>fh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>fh(i)).join(",")),`Target(${r})`}(ui(n))}; limitType=${n.limitType})`}function qm(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of gh(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,c){const u=iV(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,gh(r),i)||r.endAt&&!function(o,a,c){const u=iV(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,gh(r),i)));var r,i}function vV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function bV(n){return(e,t)=>{let r=!1;for(const i of gh(n)){const s=$X(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function $X(n,e,t){const r=n.field.isKeyField()?fe.comparator(e.key,t.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return null!==c&&null!==u?oc(c,u):ve()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ve()}}class ta{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tc(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return K2(this.inner)}size(){return this.innerSize}}const zX=new tn(fe.comparator);function Ti(){return zX}const EV=new tn(fe.comparator);function Gm(...n){let e=EV;for(const t of n)e=e.insert(t.key,t);return e}function IV(n){let e=EV;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Eo(){return Wm()}function wV(){return Wm()}function Wm(){return new ta(n=>n.toString(),(n,e)=>n.isEqual(e))}const qX=new tn(fe.comparator),GX=new Bt(fe.comparator);function rt(...n){let e=GX;for(const t of n)e=e.add(t);return e}const WX=new Bt(Ge);function CA(){return WX}function TV(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lm(e)?"-0":e}}function CV(n){return{integerValue:""+n}}function AV(n,e){return B2(e)?CV(e):TV(n,e)}class Ub{constructor(){this._=void 0}}function KX(n,e,t){return n instanceof yh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Mb(s)&&(s=Pb(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Bl?SV(n,e):n instanceof jl?xV(n,e):function(i,s){const o=DV(i,s),a=RV(o)+RV(i.Ie);return yA(o)&&yA(i.Ie)?CV(a):TV(i.serializer,a)}(n,e)}function ZX(n,e,t){return n instanceof Bl?SV(n,e):n instanceof jl?xV(n,e):t}function DV(n,e){return n instanceof vh?yA(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class yh extends Ub{}class Bl extends Ub{constructor(e){super(),this.elements=e}}function SV(n,e){const t=MV(e);for(const r of n.elements)t.some(i=>bo(i,r))||t.push(r);return{arrayValue:{values:t}}}class jl extends Ub{constructor(e){super(),this.elements=e}}function xV(n,e){let t=MV(e);for(const r of n.elements)t=t.filter(i=>!bo(i,r));return{arrayValue:{values:t}}}class vh extends Ub{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function RV(n){return Rn(n.integerValue||n.doubleValue)}function MV(n){return Bm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Km{constructor(e,t){this.field=e,this.transform=t}}class YX{constructor(e,t){this.version=e,this.transformResults=t}}class bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Bb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class jb{}function PV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Eh(n.key,bn.none()):new bh(n.key,n.data,bn.none());{const t=n.data,r=xr.empty();let i=new Bt(ln.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new na(n.key,r,new wi(i.toArray()),bn.none())}}function XX(n,e,t){n instanceof bh?function(i,s,o){const a=i.value.clone(),c=kV(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof na?function(i,s,o){if(!Bb(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=kV(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(OV(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Zm(n,e,t,r){return n instanceof bh?function(s,o,a,c){if(!Bb(s.precondition,o))return a;const u=s.value.clone(),h=FV(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof na?function(s,o,a,c){if(!Bb(s.precondition,o))return a;const u=FV(s.fieldTransforms,c,o),h=o.data;return h.setAll(OV(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(n,e,t,r):(a=t,Bb(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function JX(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=DV(r.transform,i||null);null!=s&&(null===t&&(t=xr.empty()),t.set(r.field,s))}return t||null}function NV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&lh(r,i,(s,o)=>function QX(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Bl&&i instanceof Bl||r instanceof jl&&i instanceof jl?lh(r.elements,i.elements,bo):r instanceof vh&&i instanceof vh?bo(r.Ie,i.Ie):r instanceof yh&&i instanceof yh);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class bh extends jb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class na extends jb{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function kV(n,e,t){const r=new Map;Re(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ZX(o,a,t[i]))}return r}function FV(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,KX(s,o,e))}return r}class Eh extends jb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AA extends jb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DA{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&XX(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Zm(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Zm(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wV();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=PV(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Me.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rt())}isEqual(e){return this.batchId===e.batchId&&lh(this.mutations,e.mutations,(t,r)=>NV(t,r))&&lh(this.baseMutations,e.baseMutations,(t,r)=>NV(t,r))}}class SA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Re(e.mutations.length===r.length);let i=qX;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new SA(e,t,r,i)}}class xA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class tJ{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wn,Ct;function LV(n){switch(n){default:return ve();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function VV(n){if(void 0===n)return Vn("GRPC error has no .code"),U.UNKNOWN;switch(n){case Wn.OK:return U.OK;case Wn.CANCELLED:return U.CANCELLED;case Wn.UNKNOWN:return U.UNKNOWN;case Wn.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Wn.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Wn.INTERNAL:return U.INTERNAL;case Wn.UNAVAILABLE:return U.UNAVAILABLE;case Wn.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Wn.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Wn.NOT_FOUND:return U.NOT_FOUND;case Wn.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Wn.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Wn.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Wn.ABORTED:return U.ABORTED;case Wn.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Wn.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Wn.DATA_LOSS:return U.DATA_LOSS;default:return ve()}}(Ct=Wn||(Wn={}))[Ct.OK=0]="OK",Ct[Ct.CANCELLED=1]="CANCELLED",Ct[Ct.UNKNOWN=2]="UNKNOWN",Ct[Ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ct[Ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ct[Ct.NOT_FOUND=5]="NOT_FOUND",Ct[Ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ct[Ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ct[Ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ct[Ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ct[Ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ct[Ct.ABORTED=10]="ABORTED",Ct[Ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ct[Ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ct[Ct.INTERNAL=13]="INTERNAL",Ct[Ct.UNAVAILABLE=14]="UNAVAILABLE",Ct[Ct.DATA_LOSS=15]="DATA_LOSS";function UV(){return new TextEncoder}const nJ=new oh([4294967295,4294967295],0);function BV(n){const e=UV().encode(n),t=new ZY;return t.update(e),new Uint8Array(t.digest())}function jV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new oh([t,r],0),new oh([i,s],0)]}class RA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Qm(`Invalid padding: ${t}`);if(r<0)throw new Qm(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Qm(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Qm(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=oh.fromNumber(this.Te)}de(e,t,r){let i=e.add(t.multiply(oh.fromNumber(r)));return 1===i.compare(nJ)&&(i=new oh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=BV(e),[r,i]=jV(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new RA(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=BV(e),[r,i]=jV(t);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Qm extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ym{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Xm.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Ym(Me.min(),i,new tn(Ge),Ti(),rt())}}class Xm{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Xm(r,t,rt(),rt(),rt())}}class $b{constructor(e,t,r,i){this.Ve=e,this.removedTargetIds=t,this.key=r,this.me=i}}class HV{constructor(e,t){this.targetId=e,this.fe=t}}class $V{constructor(e,t,r=lr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class zV{constructor(){this.ge=0,this.pe=GV(),this.ye=lr.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=rt(),t=rt(),r=rt();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ve()}}),new Xm(this.ye,this.we,e,t,r)}Fe(){this.Se=!1,this.pe=GV()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class rJ{constructor(e){this.Le=e,this.ke=new Map,this.qe=Ti(),this.Qe=qV(),this.Ke=new tn(Ge)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(t);break;case 3:this.je(t)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.Ce(e.resumeToken));break;default:ve()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.fe.count,i=this.Ye(t);if(i){const s=i.target;if(Fb(s))if(0===r){const o=new fe(s.path);this.We(t,o,un.newNoDocument(o,Me.min()))}else Re(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=Jo(r).toUint8Array()}catch(c){if(c instanceof Q2)return Ii("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new RA(o,i,s)}catch(c){return Ii(c instanceof Qm?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,r){return t.fe.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Fb(a.target)){const c=new fe(a.target.path);null!==this.qe.get(c)||this.st(o,c)||this.We(o,c,un.newNoDocument(c,e))}s.De&&(t.set(o,s.ve()),s.Fe())}});let r=rt();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Ye(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new Ym(e,t,this.Ke,this.qe,r);return this.qe=Ti(),this.Qe=qV(),this.Ke=new tn(Ge),i}Ue(e,t){if(!this.je(e))return;const r=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,r),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,t)?i.Me(t,1):i.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),r&&(this.qe=this.qe.insert(t,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new zV,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Bt(Ge),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||se("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new zV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function qV(){return new tn(fe.comparator)}function GV(){return new tn(fe.comparator)}const iJ={asc:"ASCENDING",desc:"DESCENDING"},sJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oJ={and:"AND",or:"OR"};class aJ{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function MA(n,e){return n.useProto3Json||Fm(e)?e:{value:e}}function Ih(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WV(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function cJ(n,e){return Ih(n,e.toTimestamp())}function Un(n){return Re(!!n),Me.fromTimestamp(function(t){const r=nc(t);return new vn(r.seconds,r.nanos)}(n))}function PA(n,e){return(r=n,new Tt(["projects",r.projectId,"databases",r.database])).child("documents").child(e).canonicalString();var r}function KV(n){const e=Tt.fromString(n);return Re(rU(e)),e}function Jm(n,e){return PA(n.databaseId,e.path)}function Io(n,e){const t=KV(e);if(t.get(1)!==n.databaseId.projectId)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new re(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new fe(QV(t))}function NA(n,e){return PA(n.databaseId,e)}function ZV(n){const e=KV(n);return 4===e.length?Tt.emptyPath():QV(e)}function eg(n){return new Tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function QV(n){return Re(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function YV(n,e,t){return{name:Jm(n,e),fields:t.value.mapValue.fields}}function XV(n,e,t){const r=Io(n,e.name),i=Un(e.updateTime),s=e.createTime?Un(e.createTime):Me.min(),o=new xr({mapValue:{fields:e.fields}}),a=un.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function tg(n,e){let t;if(e instanceof bh)t={update:YV(n,e.key,e.value)};else if(e instanceof Eh)t={delete:Jm(n,e.key)};else if(e instanceof na)t={update:YV(n,e.key,e.data),updateMask:gJ(e.fieldMask)};else{if(!(e instanceof AA))return ve();t={verify:Jm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof yh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Bl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof jl)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof vh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ve()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:cJ(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:ve()),t;var s}function OA(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?bn.updateTime(Un(s.updateTime)):void 0!==s.exists?bn.exists(s.exists):bn.none():bn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let c=null;"setToServerValue"in a?(Re("REQUEST_TIME"===a.setToServerValue),c=new yh):"appendMissingElements"in a?c=new Bl(a.appendMissingElements.values||[]):"removeAllFromArray"in a?c=new jl(a.removeAllFromArray.values||[]):"increment"in a?c=new vh(o,a.increment):ve();const u=ln.fromServerFormat(a.fieldPath);return new Km(u,c)}(n,i)):[];var s;if(e.update){const i=Io(n,e.update.name),s=new xr({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=new wi((e.updateMask.fieldPaths||[]).map(h=>ln.fromServerFormat(h)));return new na(i,s,o,t,r)}return new bh(i,s,t,r)}if(e.delete){const i=Io(n,e.delete);return new Eh(i,t)}if(e.verify){const i=Io(n,e.verify);return new AA(i,t)}return ve()}function JV(n,e){return{documents:[NA(n,e.path)]}}function kA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=NA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=NA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(c){if(0!==c.length)return nU(Lt.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const s=function(c){if(0!==c.length)return c.map(u=>{return{field:cc((m=u).field),direction:fJ(m.dir)};var m})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const o=MA(n,e.limit);return null!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t;var c}function eU(n){let e=ZV(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Re(1===r);const h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(m){const g=tU(m);return g instanceof Lt&&bA(g)?g.getFilters():[g]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(g=>{return new Hm(wh((b=g).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction));var b}));let a=null;t.limit&&(a=function(m){let g;return g="object"==typeof m?m.value:m,Fm(g)?null:g}(t.limit));let c=null;var m;t.startAt&&(c=new ac((m=t.startAt).values||[],!!m.before));let u=null;return t.endAt&&(u=function(m){return new ac(m.values||[],!m.before)}(t.endAt)),mV(e,i,o,s,a,"F",c,u)}function tU(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=wh(t.unaryFilter.field);return _t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wh(t.unaryFilter.field);return _t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=wh(t.unaryFilter.field);return _t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wh(t.unaryFilter.field);return _t.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ve()}}(n):void 0!==n.fieldFilter?_t.create(wh((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ve()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Lt.create(t.compositeFilter.filters.map(r=>tU(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ve()}}(t.compositeFilter.op))}(n):ve();var t}function fJ(n){return iJ[n]}function pJ(n){return sJ[n]}function mJ(n){return oJ[n]}function cc(n){return{fieldPath:n.canonicalString()}}function wh(n){return ln.fromServerFormat(n.fieldPath)}function nU(n){return n instanceof _t?function(t){if("=="===t.op){if(J2(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NAN"}};if(X2(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(J2(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NOT_NAN"}};if(X2(t.value))return{unaryFilter:{field:cc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cc(t.field),op:pJ(t.op),value:t.value}}}(n):n instanceof Lt?function(t){const r=t.getFilters().map(i=>nU(i));return 1===r.length?r[0]:{compositeFilter:{op:mJ(t.op),filters:r}}}(n):ve()}function gJ(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function rU(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ra{constructor(e,t,r,i,s=Me.min(),o=Me.min(),a=lr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class iU{constructor(e){this.ut=e}}function sU(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zb(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Jm(s=n.ut,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Ih(s,o.version.toTimestamp()),createTime:Ih(s,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Hl(e.version)};else{if(!e.isUnknownDocument())return ve();r.unknownDocument={path:t.path.toArray(),version:Hl(e.version)}}var s,o;return r}function zb(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Hl(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $l(n){const e=new vn(n.seconds,n.nanoseconds);return Me.fromTimestamp(e)}function zl(n,e){const t=(e.baseMutations||[]).map(s=>OA(n.ut,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const r=e.mutations.map(s=>OA(n.ut,s)),i=vn.fromMillis(e.localWriteTimeMs);return new DA(e.batchId,i,t,r)}function ng(n){const e=$l(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?$l(n.lastLimboFreeSnapshotVersion):Me.min();let r;return r=void 0!==n.query.documents?(Re(1===(s=n.query).documents.length),ui(mh(ZV(s.documents[0])))):function(s){return ui(eU(s))}(n.query),new ra(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,lr.fromBase64String(n.resumeToken));var s}function oU(n,e){const t=Hl(e.snapshotVersion),r=Hl(e.lastLimboFreeSnapshotVersion);let i;i=Fb(e.target)?JV(n.ut,e.target):kA(n.ut,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Ul(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function FA(n){const e=eU({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Vb(e,e.limit,"L"):e}function LA(n,e){return new xA(e.largestBatchId,OA(n.ut,e.overlayMutation))}function aU(n,e){const t=e.path.lastSegment();return[n,$r(e.path.popLast()),t]}function cU(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Hl(r.readTime),documentKey:$r(r.documentKey.path),largestBatchId:r.largestBatchId}}class yJ{getBundleMetadata(e,t){return lU(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:$l(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return lU(e).put({bundleId:(i=t).id,createTime:Hl(Un(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return uU(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:FA(s.bundledQuery),readTime:$l(s.readTime)};var s})}saveNamedQuery(e,t){return uU(e).put({name:(i=t).name,readTime:Hl(Un(i.readTime)),bundledQuery:i.bundledQuery});var i}}function lU(n){return gr(n,"bundles")}function uU(n){return gr(n,"namedQueries")}class qb{constructor(e,t){this.serializer=e,this.userId=t}static ct(e,t){return new qb(e,t.uid||"")}getOverlay(e,t){return rg(e).get(aU(this.userId,t)).next(r=>r?LA(this.serializer,r):null)}getOverlays(e,t){const r=Eo();return k.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((s,o)=>{const a=new xA(t,o);i.push(this.lt(e,a))}),k.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(o=>i.add($r(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(rg(e).H("collectionPathOverlayIndex",a))}),k.waitFor(s)}getOverlaysForCollection(e,t,r){const i=Eo(),s=$r(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return rg(e).W("collectionPathOverlayIndex",o).next(a=>{for(const c of a){const u=LA(this.serializer,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const s=Eo();let o;const a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return rg(e).Y({index:"collectionGroupOverlayIndex",range:a},(c,u,h)=>{const m=LA(this.serializer,u);s.size()<i||m.largestBatchId===o?(s.set(m.getKey(),m),o=m.largestBatchId):h.done()}).next(()=>s)}lt(e,t){return rg(e).put(function(i,s,o){const[a,c,u]=aU(s,o.mutation.key);return{userId:s,collectionPath:c,documentId:u,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:tg(i.ut,o.mutation)}}(this.serializer,this.userId,t))}}function rg(n){return gr(n,"documentOverlays")}class ql{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(Rn(e.integerValue));else if("doubleValue"in e){const r=Rn(e.doubleValue);isNaN(r)?this.Tt(t,13):(this.Tt(t,15),Lm(r)?t.Et(0):t.Et(r))}else if("timestampValue"in e){const r=e.timestampValue;this.Tt(t,20),"string"==typeof r?t.dt(r):(t.dt(`${r.seconds||""}`),t.Et(r.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Jo(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Tt(t,45),t.Et(r.latitude||0),t.Et(r.longitude||0)}else"mapValue"in e?eV(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):ve()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const r=e.fields||{};this.Tt(t,55);for(const i of Object.keys(r))this.At(i,t),this.Pt(r[i],t)}yt(e,t){const r=e.values||[];this.Tt(t,50);for(const i of r)this.Pt(i,t)}ft(e,t){this.Tt(t,37),fe.fromName(e).path.forEach(r=>{this.Tt(t,60),this.wt(r,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}function vJ(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function dU(n){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=vJ(255&r[s]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}ql.St=new ql;class bJ{constructor(){this.buffer=new Uint8Array(1024),this.position=0}bt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Dt(r.value),r=t.next();this.Ct()}vt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ft(r.value),r=t.next();this.Mt()}xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Dt(r);else if(r<2048)this.Dt(960|r>>>6),this.Dt(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Dt(480|r>>>12),this.Dt(128|63&r>>>6),this.Dt(128|63&r);else{const i=t.codePointAt(0);this.Dt(240|i>>>18),this.Dt(128|63&i>>>12),this.Dt(128|63&i>>>6),this.Dt(128|63&i)}}this.Ct()}Ot(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=t.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Nt(e){const t=this.Bt(e),r=dU(t);this.Lt(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}kt(e){const t=this.Bt(e),r=dU(t);this.Lt(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qt(){this.Qt(255),this.Qt(255)}Kt(){this.$t(255),this.$t(255)}reset(){this.position=0}seed(e){this.Lt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ut(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Dt(e){const t=255&e;0===t?(this.Qt(0),this.Qt(255)):255===t?(this.Qt(255),this.Qt(0)):this.Qt(t)}Ft(e){const t=255&e;0===t?(this.$t(0),this.$t(255)):255===t?(this.$t(255),this.$t(0)):this.$t(e)}Ct(){this.Qt(0),this.Qt(1)}Mt(){this.$t(0),this.$t(1)}Qt(e){this.Lt(1),this.buffer[this.position++]=e}$t(e){this.Lt(1),this.buffer[this.position++]=~e}Lt(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class EJ{constructor(e){this.Wt=e}Vt(e){this.Wt.bt(e)}dt(e){this.Wt.xt(e)}Et(e){this.Wt.Nt(e)}It(){this.Wt.qt()}}class IJ{constructor(e){this.Wt=e}Vt(e){this.Wt.vt(e)}dt(e){this.Wt.Ot(e)}Et(e){this.Wt.kt(e)}It(){this.Wt.Kt()}}class ig{constructor(){this.Wt=new bJ,this.Gt=new EJ(this.Wt),this.zt=new IJ(this.Wt)}seed(e){this.Wt.seed(e)}jt(e){return 0===e?this.Gt:this.zt}Ut(){return this.Wt.Ut()}reset(){this.Wt.reset()}}class Gl{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ht(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Gl(this.indexId,this.documentKey,this.arrayValue,r)}}function lc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=hU(n.arrayValue,e.arrayValue),0!==t?t:(t=hU(n.directionalValue,e.directionalValue),0!==t?t:fe.comparator(n.documentKey,e.documentKey)))}function hU(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class fU{constructor(e){this.Jt=new Bt((t,r)=>ln.comparator(t.field,r.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Yt=e.orderBy,this.Zt=[];for(const t of e.filters){const r=t;r.isInequality()?this.Jt=this.Jt.add(r):this.Zt.push(r)}}get Xt(){return this.Jt.size>1}en(e){if(Re(e.collectionGroup===this.collectionId),this.Xt)return!1;const t=hA(e);if(void 0!==t&&!this.tn(t))return!1;const r=kl(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.tn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Jt.size>0){const a=this.Jt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const c=r[s];if(!this.nn(a,c)||!this.rn(this.Yt[o++],c))return!1}++s}for(;s<r.length;++s)if(o>=this.Yt.length||!this.rn(this.Yt[o++],r[s]))return!1;return!0}sn(){if(this.Xt)return null;let e=new Bt(ln.comparator);const t=[];for(const r of this.Zt)if(!r.field.isKeyField())if("array-contains"===r.op||"array-contains-any"===r.op)t.push(new Fl(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Fl(r.field,0))}for(const r of this.Yt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Fl(r.field,"asc"===r.dir?0:1)));return new uh(uh.UNKNOWN_ID,this.collectionId,t,dh.empty())}tn(e){for(const t of this.Zt)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}rn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function pU(n){var e,t;if(Re(n instanceof _t||n instanceof Lt),n instanceof _t){if(n instanceof hV){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(s=>_t.create(n.field,"==",s)))||[];return Lt.create(i,"or")}return n}const r=n.filters.map(i=>pU(i));return Lt.create(r,n.op)}function wJ(n){if(0===n.getFilters().length)return[];const e=BA(pU(n));return Re(mU(e)),VA(e)||UA(e)?[e]:e.getFilters()}function VA(n){return n instanceof _t}function UA(n){return n instanceof Lt&&bA(n)}function mU(n){return VA(n)||UA(n)||function(t){if(t instanceof Lt&&vA(t)){for(const r of t.getFilters())if(!VA(r)&&!UA(r))return!1;return!0}return!1}(n)}function BA(n){if(Re(n instanceof _t||n instanceof Lt),n instanceof _t)return n;if(1===n.filters.length)return BA(n.filters[0]);const e=n.filters.map(r=>BA(r));let t=Lt.create(e,n.op);return t=Gb(t),mU(t)?t:(Re(t instanceof Lt),Re(ph(t)),Re(t.filters.length>1),t.filters.reduce((r,i)=>jA(r,i)))}function jA(n,e){let t;return Re(n instanceof _t||n instanceof Lt),Re(e instanceof _t||e instanceof Lt),t=n instanceof _t?e instanceof _t?Lt.create([n,e],"and"):gU(n,e):e instanceof _t?gU(e,n):function(i,s){if(Re(i.filters.length>0&&s.filters.length>0),ph(i)&&ph(s))return lV(i,s.getFilters());const o=vA(i)?i:s,a=vA(i)?s:i,c=o.filters.map(u=>jA(u,a));return Lt.create(c,"or")}(n,e),Gb(t)}function gU(n,e){if(ph(e))return lV(e,n.getFilters());{const t=e.filters.map(r=>jA(n,r));return Lt.create(t,"or")}}function Gb(n){if(Re(n instanceof _t||n instanceof Lt),n instanceof _t)return n;const e=n.getFilters();if(1===e.length)return Gb(e[0]);if(aV(n))return n;const t=e.map(i=>Gb(i)),r=[];return t.forEach(i=>{i instanceof _t?r.push(i):i instanceof Lt&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:Lt.create(r,n.op)}class TJ{constructor(){this.on=new HA}addToCollectionParentIndex(e,t){return this.on.add(t),k.resolve()}getCollectionParents(e,t){return k.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return k.resolve()}deleteFieldIndex(e,t){return k.resolve()}deleteAllFieldIndexes(e){return k.resolve()}createTargetIndexes(e,t){return k.resolve()}getDocumentsMatchingTarget(e,t){return k.resolve(null)}getIndexType(e,t){return k.resolve(0)}getFieldIndexes(e,t){return k.resolve([])}getNextCollectionGroupToUpdate(e){return k.resolve(null)}getMinOffset(e,t){return k.resolve(Ui.min())}getMinOffsetFromCollectionGroup(e,t){return k.resolve(Ui.min())}updateCollectionGroup(e,t,r){return k.resolve()}updateIndexEntries(e,t){return k.resolve()}}class HA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Bt(Tt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Bt(Tt.comparator)).toArray()}}const Wb=new Uint8Array(0);class CJ{constructor(e,t){this.user=e,this.databaseId=t,this._n=new HA,this.an=new ta(r=>Ul(r),(r,i)=>$m(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this._n.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this._n.add(t)});const s={collectionId:r,parent:$r(i)};return _U(e).put(s)}return k.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[O2(t),""],!1,!0);return _U(e).W(i).next(s=>{for(const o of s){if(o.collectionId!==t)break;r.push(vo(o.parent))}return r})}addFieldIndex(e,t){const r=sg(e),i={indexId:(a=t).indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(c=>[c.fieldPath.canonicalString(),c.kind])};var a;delete i.indexId;const s=r.add(i);if(t.indexState){const o=Ch(e);return s.next(a=>{o.put(cU(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const r=sg(e),i=Ch(e),s=Th(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=sg(e),r=Th(e),i=Ch(e);return t.H().next(()=>r.H()).next(()=>i.H())}createTargetIndexes(e,t){return k.forEach(this.un(t),r=>this.getIndexType(e,r).next(i=>{if(0===i||1===i){const s=new fU(r).sn();if(null!=s)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,t){const r=Th(e);let i=!0;const s=new Map;return k.forEach(this.un(t),o=>this.cn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=rt();const a=[];return k.forEach(s,(c,u)=>{var F;se("IndexedDbIndexManager",`Using index ${F=c,`id=${F.indexId}|cg=${F.collectionGroup}|f=${F.fields.map(Q=>`${Q.fieldPath}:${Q.kind}`).join(",")}`} to execute ${Ul(t)}`);const h=function(F,Q){const le=hA(Q);if(void 0===le)return null;for(const De of Lb(F,le.fieldPath))switch(De.op){case"array-contains-any":return De.value.arrayValue.values||[];case"array-contains":return[De.value]}return null}(u,c),m=function(F,Q){const le=new Map;for(const De of kl(Q))for(const qe of Lb(F,De.fieldPath))switch(qe.op){case"==":case"in":le.set(De.fieldPath.canonicalString(),qe.value);break;case"not-in":case"!=":return le.set(De.fieldPath.canonicalString(),qe.value),Array.from(le.values())}return null}(u,c),g=function(F,Q){const le=[];let De=!0;for(const qe of kl(Q)){const jt=0===qe.kind?fV(F,qe.fieldPath,F.startAt):pV(F,qe.fieldPath,F.startAt);le.push(jt.value),De&&(De=jt.inclusive)}return new ac(le,De)}(u,c),y=function(F,Q){const le=[];let De=!0;for(const qe of kl(Q)){const jt=0===qe.kind?pV(F,qe.fieldPath,F.endAt):fV(F,qe.fieldPath,F.endAt);le.push(jt.value),De&&(De=jt.inclusive)}return new ac(le,De)}(u,c),b=this.ln(c,u,g),E=this.ln(c,u,y),w=this.hn(c,u,m),M=this.Pn(c.indexId,h,b,g.inclusive,E,y.inclusive,w);return k.forEach(M,x=>r.j(x,t.limit).next(F=>{F.forEach(Q=>{const le=fe.fromSegments(Q.documentKey);o.has(le)||(o=o.add(le),a.push(le))})}))}).next(()=>a)}return k.resolve(null)})}un(e){let t=this.an.get(e);return t||(t=0===e.filters.length?[e]:wJ(Lt.create(e.filters,"and")).map(r=>IA(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.an.set(e,t),t)}Pn(e,t,r,i,s,o,a){const c=(null!=t?t.length:1)*Math.max(r.length,s.length),u=c/(null!=t?t.length:1),h=[];for(let m=0;m<c;++m){const g=t?this.In(t[m/u]):Wb,y=this.Tn(e,g,r[m%u],i),b=this.En(e,g,s[m%u],o),E=a.map(w=>this.Tn(e,g,w,!0));h.push(...this.createRange(y,b,E))}return h}Tn(e,t,r,i){const s=new Gl(e,fe.empty(),t,r);return i?s:s.Ht()}En(e,t,r,i){const s=new Gl(e,fe.empty(),t,r);return i?s.Ht():s}cn(e,t){const r=new fU(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.en(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2;const i=this.un(t);return k.forEach(i,s=>this.cn(e,s).next(o=>{o?0!==r&&o.fields.length<function(c){let u=new Bt(ln.comparator),h=!1;for(const m of c.filters)for(const g of m.getFlattenedFilters())g.field.isKeyField()||("array-contains"===g.op||"array-contains-any"===g.op?h=!0:u=u.add(g.field));for(const m of c.orderBy)m.field.isKeyField()||(u=u.add(m.field));return u.size+(h?1:0)}(s)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}dn(e,t){const r=new ig;for(const i of kl(e)){const s=t.data.field(i.fieldPath);if(null==s)return null;const o=r.jt(i.kind);ql.St.ht(s,o)}return r.Ut()}In(e){const t=new ig;return ql.St.ht(e,t.jt(0)),t.Ut()}An(e,t){const r=new ig;return ql.St.ht(Vl(this.databaseId,t),r.jt(function(s){const o=kl(s);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ut()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new ig);let s=0;for(const o of kl(e)){const a=r[s++];for(const c of i)if(this.Rn(t,o.fieldPath)&&Bm(a))i=this.Vn(i,o,a);else{const u=c.jt(o.kind);ql.St.ht(a,u)}}return this.mn(i)}ln(e,t,r){return this.hn(e,t,r.position)}mn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ut();return t}Vn(e,t,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const c=new ig;c.seed(a.Ut()),ql.St.ht(o,c.jt(t.kind)),s.push(c)}return s}Rn(e,t){return!!e.filters.find(r=>r instanceof _t&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=sg(e),i=Ch(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{const o=[];return k.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(h,m){const g=m?new dh(m.sequenceNumber,new Ui($l(m.readTime),new fe(vo(m.documentKey)),m.largestBatchId)):dh.empty(),y=h.fields.map(([b,E])=>new Fl(ln.fromServerFormat(b),E));return new uh(h.indexId,h.collectionGroup,y,g)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==s?s:Ge(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=sg(e),s=Ch(e);return this.fn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>k.forEach(a,c=>s.put(cU(c.indexId,this.user,o,r)))))}updateIndexEntries(e,t){const r=new Map;return k.forEach(t,(i,s)=>{const o=r.get(i.collectionGroup);return(o?k.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),k.forEach(a,c=>this.gn(e,i,c).next(u=>{const h=this.pn(s,c);return u.isEqual(h)?k.resolve():this.yn(e,s,c,u,h)}))))})}wn(e,t,r,i){return Th(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.An(r,t.key),documentKey:t.key.path.toArray()})}Sn(e,t,r,i){return Th(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.An(r,t.key),t.key.path.toArray()])}gn(e,t,r){const i=Th(e);let s=new Bt(lc);return i.Y({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.An(r,t)])},(o,a)=>{s=s.add(new Gl(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}pn(e,t){let r=new Bt(lc);const i=this.dn(t,e);if(null==i)return r;const s=hA(t);if(null!=s){const o=e.data.field(s.fieldPath);if(Bm(o))for(const a of o.arrayValue.values||[])r=r.add(new Gl(t.indexId,e.key,this.In(a),i))}else r=r.add(new Gl(t.indexId,e.key,Wb,i));return r}yn(e,t,r,i,s){se("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(c,u,h,m,g){const y=c.getIterator(),b=u.getIterator();let E=hh(y),w=hh(b);for(;E||w;){let M=!1,x=!1;if(E&&w){const F=h(E,w);F<0?x=!0:F>0&&(M=!0)}else null!=E?x=!0:M=!0;M?(m(w),w=hh(b)):x?(g(E),E=hh(y)):(E=hh(y),w=hh(b))}}(i,s,lc,a=>{o.push(this.wn(e,t,r,a))},a=>{o.push(this.Sn(e,t,r,a))}),k.waitFor(o)}fn(e){let t=1;return Ch(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>lc(o,a)).filter((o,a,c)=>!a||0!==lc(o,c[a-1]));const i=[];i.push(e);for(const o of r){const a=lc(o,e),c=lc(o,t);if(0===a)i[0]=e.Ht();else if(a>0&&c<0)i.push(o),i.push(o.Ht());else if(c>0)break}i.push(t);const s=[];for(let o=0;o<i.length;o+=2){if(this.bn(i[o],i[o+1]))return[];s.push(IDBKeyRange.bound([i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,Wb,[]],[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,Wb,[]]))}return s}bn(e,t){return lc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(yU)}getMinOffset(e,t){return k.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||ve())).next(yU)}}function _U(n){return gr(n,"collectionParents")}function Th(n){return gr(n,"indexEntries")}function sg(n){return gr(n,"indexConfiguration")}function Ch(n){return gr(n,"indexState")}function yU(n){Re(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;fA(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Ui(e.readTime,e.documentKey,t)}const vU={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class zr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new zr(e,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function bU(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId);let a=0;const c=r.Y({range:o},(h,m,g)=>(a++,g.delete()));s.push(c.next(()=>{Re(1===a)}));const u=[];for(const h of t.mutations){const m=$2(e,h.key.path,t.batchId);s.push(i.delete(m)),u.push(h.key)}return k.waitFor(s).next(()=>u)}function Kb(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ve();e=n.noDocument}return JSON.stringify(e).length}zr.DEFAULT_COLLECTION_PERCENTILE=10,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,zr.DEFAULT=new zr(41943040,zr.DEFAULT_COLLECTION_PERCENTILE,zr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),zr.DISABLED=new zr(-1,0,0);class Zb{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Dn={}}static ct(e,t,r,i){Re(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new Zb(s,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).Y({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const s=Ah(e),o=uc(e);return o.add({}).next(a=>{Re("number"==typeof a);const c=new DA(a,t,r,i),u=function(y,b,E){const w=E.baseMutations.map(x=>tg(y.ut,x)),M=E.mutations.map(x=>tg(y.ut,x));return{userId:b,batchId:E.batchId,localWriteTimeMs:E.localWriteTime.toMillis(),baseMutations:w,mutations:M}}(this.serializer,this.userId,c),h=[];let m=new Bt((g,y)=>Ge(g.canonicalString(),y.canonicalString()));for(const g of i){const y=$2(this.userId,g.key.path,a);m=m.add(g.key.path.popLast()),h.push(o.put(u)),h.push(s.put(y,fX))}return m.forEach(g=>{h.push(this.indexManager.addToCollectionParentIndex(e,g))}),e.addOnCommittedListener(()=>{this.Dn[a]=c.keys()}),k.waitFor(h).next(()=>c)})}lookupMutationBatch(e,t){return uc(e).get(t).next(r=>r?(Re(r.userId===this.userId),zl(this.serializer,r)):null)}Cn(e,t){return this.Dn[t]?k.resolve(this.Dn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Dn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return uc(e).Y({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(Re(a.batchId>=r),s=zl(this.serializer,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return uc(e).Y({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uc(e).W("userMutationsIndex",t).next(r=>r.map(i=>zl(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=xb(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return Ah(e).Y({range:i},(o,a,c)=>{const[u,h,m]=o,g=vo(h);if(u===this.userId&&t.path.isEqual(g))return uc(e).get(m).next(y=>{if(!y)throw ve();Re(y.userId===this.userId),s.push(zl(this.serializer,y))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(Ge);const i=[];return t.forEach(s=>{const o=xb(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=Ah(e).Y({range:a},(u,h,m)=>{const[g,y,b]=u,E=vo(y);g===this.userId&&s.path.isEqual(E)?r=r.add(b):m.done()});i.push(c)}),k.waitFor(i).next(()=>this.vn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,s=xb(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new Bt(Ge);return Ah(e).Y({range:o},(c,u,h)=>{const[m,g,y]=c,b=vo(g);m===this.userId&&r.isPrefixOf(b)?b.length===i&&(a=a.add(y)):h.done()}).next(()=>this.vn(e,a))}vn(e,t){const r=[],i=[];return t.forEach(s=>{i.push(uc(e).get(s).next(o=>{if(null===o)throw ve();Re(o.userId===this.userId),r.push(zl(this.serializer,o))}))}),k.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return bU(e.ae,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Fn(t.batchId)}),k.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Fn(e){delete this.Dn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return k.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Ah(e).Y({range:r},(s,o,a)=>{if(s[0]===this.userId){const c=vo(s[1]);i.push(c)}else a.done()}).next(()=>{Re(0===i.length)})})}containsKey(e,t){return EU(e,this.userId,t)}Mn(e){return IU(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function EU(n,e,t){const r=xb(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ah(n).Y({range:s,J:!0},(a,c,u)=>{const[h,m,g]=a;h===e&&m===i&&(o=!0),u.done()}).next(()=>o)}function uc(n){return gr(n,"mutations")}function Ah(n){return gr(n,"documentMutations")}function IU(n){return gr(n,"mutationQueues")}class Wl{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Wl(0)}static Nn(){return new Wl(-1)}}class AJ{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next(t=>{const r=new Wl(t.highestTargetId);return t.highestTargetId=r.next(),this.Ln(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(t=>Me.fromTimestamp(new vn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Ln(e,i)))}addTargetData(e,t){return this.kn(e,t).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.qn(t,r),this.Ln(e,r))))}updateTargetData(e,t){return this.kn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dh(e).delete(t.targetId)).next(()=>this.Bn(e)).next(r=>(Re(r.targetCount>0),r.targetCount-=1,this.Ln(e,r)))}removeTargets(e,t,r){let i=0;const s=[];return Dh(e).Y((o,a)=>{const c=ng(a);c.sequenceNumber<=t&&null===r.get(c.targetId)&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>k.waitFor(s)).next(()=>i)}forEachTarget(e,t){return Dh(e).Y((r,i)=>{const s=ng(i);t(s)})}Bn(e){return wU(e).get("targetGlobalKey").next(t=>(Re(null!==t),t))}Ln(e,t){return wU(e).put("targetGlobalKey",t)}kn(e,t){return Dh(e).put(oU(this.serializer,t))}qn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Ul(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return Dh(e).Y({range:i,index:"queryTargetsIndex"},(o,a,c)=>{const u=ng(a);$m(t,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,t,r){const i=[],s=dc(e);return t.forEach(o=>{const a=$r(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),k.waitFor(i)}removeMatchingKeys(e,t,r){const i=dc(e);return k.forEach(t,s=>{const o=$r(s.path);return k.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){const r=dc(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=dc(e);let s=rt();return i.Y({range:r,J:!0},(o,a,c)=>{const u=vo(o[1]),h=new fe(u);s=s.add(h)}).next(()=>s)}containsKey(e,t){const r=$r(t.path),i=IDBKeyRange.bound([r],[O2(r)],!1,!0);let s=0;return dc(e).Y({index:"documentTargetsIndex",J:!0,range:i},([o,a],c,u)=>{0!==o&&(s++,u.done())}).next(()=>s>0)}_t(e,t){return Dh(e).get(t).next(r=>r?ng(r):null)}}function Dh(n){return gr(n,"targets")}function wU(n){return gr(n,"targetGlobal")}function dc(n){return gr(n,"targetDocuments")}function TU([n,e],[t,r]){const i=Ge(n,t);return 0===i?Ge(e,r):i}class DJ{constructor(e){this.Qn=e,this.buffer=new Bt(TU),this.Kn=0}$n(){return++this.Kn}Un(e){const t=[e,this.$n()];if(this.buffer.size<this.Qn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();TU(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CU{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Wn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Wn&&(this.Wn.cancel(),this.Wn=null)}get started(){return null!==this.Wn}Gn(e){var t=this;se("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Wn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,X.Z)(function*(){t.Wn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){ec(r)?se("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Ja(r)}yield t.Gn(3e5)}))}}class SJ{constructor(e,t){this.zn=e,this.params=t}calculateTargetCount(e,t){return this.zn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return k.resolve(Bi._e);const r=new DJ(t);return this.zn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.zn.Hn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector","Garbage collection skipped; disabled"),k.resolve(vU)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(se("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vU):this.Jn(e,t))}getCacheSize(e){return this.zn.getCacheSize(e)}Jn(e,t){let r,i,s,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(se("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,t))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),ch()<=mo.in.DEBUG&&se("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-h}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(c-a)+`ms\n\tRemoved ${m} documents in `+(u-c)+`ms\nTotal Duration: ${u-h}ms`),k.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}class xJ{constructor(e,t){this.db=e,this.garbageCollector=function AU(n,e){return new SJ(n,e)}(this,t)}jn(e){const t=this.Yn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Yn(e){let t=0;return this.Hn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Hn(e,t){return this.Zn(e,(r,i)=>t(i))}addReference(e,t,r){return Qb(e,r)}removeReference(e,t,r){return Qb(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Qb(e,t)}Xn(e,t){return function(i,s){let o=!1;return IU(i).Z(a=>EU(i,a,s).next(c=>(c&&(o=!0),k.resolve(!c)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Zn(e,(o,a)=>{if(a<=t){const c=this.Xn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Me.min()),dc(e).delete([0,$r(o.path)])))});i.push(c)}}).next(()=>k.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Qb(e,t)}Zn(e,t){const r=dc(e);let i,s=Bi._e;return r.Y({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:u})=>{0===o?(s!==Bi._e&&t(new fe(vo(i)),s),s=u,i=c):s=Bi._e}).next(()=>{s!==Bi._e&&t(new fe(vo(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Qb(n,e){return dc(n).put((i=n.currentSequenceNumber,{targetId:0,path:$r(e.path),sequenceNumber:i}));var i}class DU{constructor(){this.changes=new ta(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?k.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class RJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Kl(e).put(r)}removeEntry(e,t,r){return Kl(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],zb(o),a[a.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.er(e,r)))}getEntry(e,t){let r=un.newInvalidDocument(t);return Kl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(og(t))},(i,s)=>{r=this.tr(t,s)}).next(()=>r)}nr(e,t){let r={size:0,document:un.newInvalidDocument(t)};return Kl(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(og(t))},(i,s)=>{r={document:this.tr(t,s),size:Kb(s)}}).next(()=>r)}getEntries(e,t){let r=Ti();return this.rr(e,t,(i,s)=>{const o=this.tr(i,s);r=r.insert(i,o)}).next(()=>r)}ir(e,t){let r=Ti(),i=new tn(fe.comparator);return this.rr(e,t,(s,o)=>{const a=this.tr(s,o);r=r.insert(s,a),i=i.insert(s,Kb(o))}).next(()=>({documents:r,sr:i}))}rr(e,t,r){if(t.isEmpty())return k.resolve();let i=new Bt(MU);t.forEach(c=>i=i.add(c));const s=IDBKeyRange.bound(og(i.first()),og(i.last())),o=i.getIterator();let a=o.getNext();return Kl(e).Y({index:"documentKeyIndex",range:s},(c,u,h)=>{const m=fe.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&MU(a,m)<0;)r(a,null),a=o.getNext();a&&a.isEqual(m)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?h.U(og(a)):h.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i,s){const o=t.path,a=[o.popLast().toArray(),o.lastSegment(),zb(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Kl(e).W(IDBKeyRange.bound(a,c,!0)).next(u=>{s?.incrementDocumentReadCount(u.length);let h=Ti();for(const m of u){const g=this.tr(fe.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);g.isFoundDocument()&&(qm(t,g)||i.has(g.key))&&(h=h.insert(g.key,g))}return h})}getAllFromCollectionGroup(e,t,r,i){let s=Ti();const o=RU(t,r),a=RU(t,Ui.max());return Kl(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,u,h)=>{const m=this.tr(fe.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(m.key,m),s.size===i&&h.done()}).next(()=>s)}newChangeBuffer(e){return new MJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return xU(e).get("remoteDocumentGlobalKey").next(t=>(Re(!!t),t))}er(e,t){return xU(e).put("remoteDocumentGlobalKey",t)}tr(e,t){if(t){const r=function _J(n,e){let t;if(e.document)t=XV(n.ut,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=fe.fromSegments(e.noDocument.path),i=$l(e.noDocument.readTime);t=un.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ve();{const r=fe.fromSegments(e.unknownDocument.path),i=$l(e.unknownDocument.version);t=un.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(i){const s=new vn(i[0],i[1]);return Me.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Me.min()))return r}return un.newInvalidDocument(e)}}function SU(n){return new RJ(n)}class MJ extends DU{constructor(e,t){super(),this._r=e,this.trackRemovals=t,this.ar=new ta(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Bt((s,o)=>Ge(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ar.get(s);if(t.push(this._r.removeEntry(e,s,a.readTime)),o.isValidDocument()){const c=sU(this._r.serializer,o);i=i.add(s.path.popLast());const u=Kb(c);r+=u-a.size,t.push(this._r.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){const c=sU(this._r.serializer,o.convertToNoDocument(Me.min()));t.push(this._r.addEntry(e,s,c))}}),i.forEach(s=>{t.push(this._r.indexManager.addToCollectionParentIndex(e,s))}),t.push(this._r.updateMetadata(e,r)),k.waitFor(t)}getFromCache(e,t){return this._r.nr(e,t).next(r=>(this.ar.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this._r.ir(e,t).next(({documents:r,sr:i})=>(i.forEach((s,o)=>{this.ar.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function xU(n){return gr(n,"remoteDocumentGlobal")}function Kl(n){return gr(n,"remoteDocumentsV14")}function og(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function RU(n,e){const t=e.documentKey.path.toArray();return[n,zb(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function MU(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=Ge(t[s],r[s]),i)return i;return i=Ge(t.length,r.length),i||(i=Ge(t[t.length-2],r[r.length-2]),i||Ge(t[t.length-1],r[r.length-1]))}class PJ{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class PU{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Zm(r.mutation,i,wi.empty(),vn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,rt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=rt()){const i=Eo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Gm();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=Eo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,rt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Ti();const o=Wm(),a=Wm();return t.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(void 0===h||h.mutation instanceof na)?s=s.insert(u.key,u):void 0!==h?(o.set(u.key,h.mutation.getFieldMask()),Zm(h.mutation,u,h.mutation.getFieldMask(),vn.now())):o.set(u.key,wi.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),t.forEach((u,h)=>{var m;return a.set(u,new PJ(h,null!==(m=o.get(u))&&void 0!==m?m:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Wm();let i=new tn((o,a)=>o-a),s=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=t.get(c);if(null===u)return;let h=r.get(c)||wi.empty();h=a.applyToLocalView(u,h),r.set(c,h);const m=(i.get(a.batchId)||rt()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,m=wV();h.forEach(g=>{if(!s.has(g)){const y=PV(t.get(g),r.get(g));null!==y&&m.set(g,y),s=s.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return k.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return fe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):wA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):k.resolve(Eo());let a=-1,c=s;return o.next(u=>k.forEach(u,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?k.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,rt())).next(h=>({batchId:a,changes:IV(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new fe(t)).next(r=>{let i=Gm();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Gm();return this.indexManager.getCollectionParents(e,s).next(a=>k.forEach(a,c=>{const u=(m=t,g=c.child(s),new ea(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,g;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((m,g)=>{o=o.insert(m,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();null===o.get(h)&&(o=o.insert(h,un.newInvalidDocument(h)))});let a=Gm();return o.forEach((c,u)=>{const h=s.get(c);void 0!==h&&Zm(h.mutation,u,wi.empty(),vn.now()),qm(t,u)&&(a=a.insert(c,u))}),a})}}class NJ{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return k.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(i=t).id,version:i.version,createTime:Un(i.createTime)}),k.resolve();var i}getNamedQuery(e,t){return k.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(i=t).name,query:FA(i.bundledQuery),readTime:Un(i.readTime)}),k.resolve();var i}}class OJ{constructor(){this.overlays=new tn(fe.comparator),this.lr=new Map}getOverlay(e,t){return k.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Eo();return k.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.lt(e,t,s)}),k.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.lr.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.lr.delete(r)),k.resolve()}getOverlaysForCollection(e,t,r){const i=Eo(),s=t.length+1,o=new fe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return k.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new tn((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=s.get(u.largestBatchId);null===h&&(h=Eo(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=Eo(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return k.resolve(a)}lt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.lr.get(i.largestBatchId).delete(r.key);this.lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xA(t,r));let s=this.lr.get(t);void 0===s&&(s=rt(),this.lr.set(t,s)),this.lr.set(t,s.add(r.key))}}class $A{constructor(){this.hr=new Bt(_r.Pr),this.Ir=new Bt(_r.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const r=new _r(e,t);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.dr(new _r(e,t))}Ar(e,t){e.forEach(r=>this.removeReference(r,t))}Rr(e){const t=new fe(new Tt([])),r=new _r(t,e),i=new _r(t,e+1),s=[];return this.Ir.forEachInRange([r,i],o=>{this.dr(o),s.push(o.key)}),s}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new fe(new Tt([])),r=new _r(t,e),i=new _r(t,e+1);let s=rt();return this.Ir.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new _r(e,0),r=this.hr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class _r{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return fe.comparator(e.key,t.key)||Ge(e.gr,t.gr)}static Tr(e,t){return Ge(e.gr,t.gr)||fe.comparator(e.key,t.key)}}class kJ{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new Bt(_r.Pr)}checkEmpty(e){return k.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.pr;this.pr++;const o=new DA(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.yr=this.yr.add(new _r(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return k.resolve(o)}lookupMutationBatch(e,t){return k.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Sr(t+1),s=i<0?0:i;return k.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return k.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return k.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _r(t,0),i=new _r(t,Number.POSITIVE_INFINITY),s=[];return this.yr.forEachInRange([r,i],o=>{const a=this.wr(o.gr);s.push(a)}),k.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bt(Ge);return t.forEach(i=>{const s=new _r(i,0),o=new _r(i,Number.POSITIVE_INFINITY);this.yr.forEachInRange([s,o],a=>{r=r.add(a.gr)})}),k.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;fe.isDocumentKey(s)||(s=s.child(""));const o=new _r(new fe(s),0);let a=new Bt(Ge);return this.yr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gr)),!0)},o),k.resolve(this.br(a))}br(e){const t=[];return e.forEach(r=>{const i=this.wr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Re(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.yr;return k.forEach(t.mutations,i=>{const s=new _r(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,t){const r=new _r(t,0),i=this.yr.firstAfterOrEqual(r);return k.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return k.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class FJ{constructor(e){this.Cr=e,this.docs=new tn(fe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Cr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return k.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=Ti();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():un.newInvalidDocument(i))}),k.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Ti();const o=t.path,a=new fe(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||fA(F2(h),r)<=0||(i.has(h.key)||qm(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return k.resolve(s)}getAllFromCollectionGroup(e,t,r,i){ve()}vr(e,t){return k.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new LJ(this)}getSize(e){return k.resolve(this.size)}}class LJ extends DU{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this._r.addEntry(e,i)):this._r.removeEntry(r)}),k.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class VJ{constructor(e){this.persistence=e,this.Fr=new ta(t=>Ul(t),$m),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.Mr=0,this.Or=new $A,this.targetCount=0,this.Nr=Wl.On()}forEachTarget(e,t){return this.Fr.forEach((r,i)=>t(i)),k.resolve()}getLastRemoteSnapshotVersion(e){return k.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return k.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),k.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Mr&&(this.Mr=t),k.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new Wl(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,k.resolve()}updateTargetData(e,t){return this.kn(t),k.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,k.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Fr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),k.waitFor(s).next(()=>i)}getTargetCount(e){return k.resolve(this.targetCount)}getTargetData(e,t){const r=this.Fr.get(t)||null;return k.resolve(r)}addMatchingKeys(e,t,r){return this.Or.Er(t,r),k.resolve()}removeMatchingKeys(e,t,r){this.Or.Ar(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),k.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),k.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Or.mr(t);return k.resolve(r)}containsKey(e,t){return k.resolve(this.Or.containsKey(t))}}class zA{constructor(e,t){this.Br={},this.overlays={},this.Lr=new Bi(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new VJ(this),this.indexManager=new TJ,this.remoteDocumentCache=new FJ(r=>this.referenceDelegate.Qr(r)),this.serializer=new iU(t),this.Kr=new NJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new OJ,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Br[e.toKey()];return r||(r=new kJ(t,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,r){se("MemoryPersistence","Starting transaction:",e);const i=new UJ(this.Lr.next());return this.referenceDelegate.$r(),r(i).next(s=>this.referenceDelegate.Ur(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Wr(e,t){return k.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,t)))}}class UJ extends V2{constructor(e){super(),this.currentSequenceNumber=e}}class Yb{constructor(e){this.persistence=e,this.Gr=new $A,this.zr=null}static jr(e){return new Yb(e)}get Hr(){if(this.zr)return this.zr;throw ve()}addReference(e,t,r){return this.Gr.addReference(r,t),this.Hr.delete(r.toString()),k.resolve()}removeReference(e,t,r){return this.Gr.removeReference(r,t),this.Hr.add(r.toString()),k.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),k.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(i=>this.Hr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Hr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return k.forEach(this.Hr,r=>{const i=fe.fromPath(r);return this.Jr(e,i).next(s=>{s||t.removeEntry(i,Me.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(r=>{r?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return k.or([()=>k.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class BJ{constructor(e){this.serializer=e}N(e,t,r,i){const s=new Sb("createOrUpgrade",t);var c;r<1&&i>=1&&(e.createObjectStore("owner"),(c=e).createObjectStore("mutationQueues",{keyPath:"userId"}),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",H2,{unique:!0}),c.createObjectStore("documentMutations"),NU(e),function(c){c.createObjectStore("remoteDocuments")}(e));let o=k.resolve();return r<3&&i>=3&&(0!==r&&(function(c){c.deleteObjectStore("targetDocuments"),c.deleteObjectStore("targets"),c.deleteObjectStore("targetGlobal")}(e),NU(e)),o=o.next(()=>function(c){const u=c.store("targetGlobal"),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",h)}(s))),r<4&&i>=4&&(0!==r&&(o=o.next(()=>function(c,u){return u.store("mutations").W().next(h=>{c.deleteObjectStore("mutations"),c.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",H2,{unique:!0});const m=u.store("mutations"),g=h.map(y=>m.put(y));return k.waitFor(g)})}(e,s))),o=o.next(()=>{!function(c){c.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(o=o.next(()=>this.Zr(s))),r<6&&i>=6&&(o=o.next(()=>(function(c){c.createObjectStore("remoteDocumentGlobal")}(e),this.Xr(s)))),r<7&&i>=7&&(o=o.next(()=>this.ei(s))),r<8&&i>=8&&(o=o.next(()=>this.ti(e,s))),r<9&&i>=9&&(o=o.next(()=>{!function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(o=o.next(()=>this.ni(s))),r<11&&i>=11&&(o=o.next(()=>{(function(c){c.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(c){c.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{!function(c){const u=c.createObjectStore("documentOverlays",{keyPath:CX});u.createIndex("collectionPathOverlayIndex",AX,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",DX,{unique:!1})}(e)})),r<13&&i>=13&&(o=o.next(()=>function(c){const u=c.createObjectStore("remoteDocumentsV14",{keyPath:pX});u.createIndex("documentKeyIndex",mX),u.createIndex("collectionGroupIndex",gX)}(e)).next(()=>this.ri(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.ii(e,s))),r<15&&i>=15&&(o=o.next(()=>function(c){c.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),c.createObjectStore("indexState",{keyPath:EX}).createIndex("sequenceNumberIndex",IX,{unique:!1}),c.createObjectStore("indexEntries",{keyPath:wX}).createIndex("documentKeyIndex",TX,{unique:!1})}(e))),o}Xr(e){let t=0;return e.store("remoteDocuments").Y((r,i)=>{t+=Kb(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Zr(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>k.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>k.forEach(a,c=>{Re(c.userId===s.userId);const u=zl(this.serializer,c);return bU(e,s.userId,u).next(()=>{})}))}))}ei(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.Y((o,a)=>{const c=new Tt(o),u=[0,$r(c)];s.push(t.get(u).next(h=>h?k.resolve():t.put({targetId:0,path:$r(c),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>k.waitFor(s))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:bX});const r=t.store("collectionParents"),i=new HA,s=o=>{if(i.add(o)){const a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:$r(c)})}};return t.store("remoteDocuments").Y({J:!0},(o,a)=>{const c=new Tt(o);return s(c.popLast())}).next(()=>t.store("documentMutations").Y({J:!0},([o,a,c],u)=>{const h=vo(a);return s(h.popLast())}))}ni(e){const t=e.store("targets");return t.Y((r,i)=>{const s=ng(i),o=oU(this.serializer,s);return t.put(o)})}ri(e,t){const r=t.store("remoteDocuments"),i=[];return r.Y((s,o)=>{const a=t.store("remoteDocumentsV14"),c=(m=o,m.document?new fe(Tt.fromString(m.document.name).popFirst(5)):m.noDocument?fe.fromSegments(m.noDocument.path):m.unknownDocument?fe.fromSegments(m.unknownDocument.path):ve()).path.toArray(),u={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};var m;i.push(a.put(u))}).next(()=>k.waitFor(i))}ii(e,t){const r=t.store("mutations"),i=SU(this.serializer),s=new zA(Yb.jr,this.serializer.ut);return r.W().next(o=>{const a=new Map;return o.forEach(c=>{var u;let h=null!==(u=a.get(c.userId))&&void 0!==u?u:rt();zl(this.serializer,c).keys().forEach(m=>h=h.add(m)),a.set(c.userId,h)}),k.forEach(a,(c,u)=>{const h=new mr(u),m=qb.ct(this.serializer,h),g=s.getIndexManager(h),y=Zb.ct(h,this.serializer,g,s.referenceDelegate);return new PU(i,y,m,g).recalculateAndSaveOverlaysForDocumentKeys(new gA(t,Bi._e),c).next()})})}}function NU(n){n.createObjectStore("targetDocuments",{keyPath:yX}).createIndex("documentTargetsIndex",vX,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_X,{unique:!0}),n.createObjectStore("targetGlobal")}const qA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class GA{constructor(e,t,r,i,s,o,a,c,u,h,m=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=s,this.window=o,this.document=a,this.oi=u,this._i=h,this.ai=m,this.Lr=null,this.kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.li=null,this.hi=Number.NEGATIVE_INFINITY,this.Pi=g=>Promise.resolve(),!GA.D())throw new re(U.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xJ(this,i),this.Ii=t+"main",this.serializer=new iU(c),this.Ti=new Fs(this.Ii,this.ai,new BJ(this.serializer)),this.qr=new AJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=SU(this.serializer),this.Kr=new yJ,this.window&&this.window.localStorage?this.Ei=this.window.localStorage:(this.Ei=null,!1===h&&Vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.di().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new re(U.FAILED_PRECONDITION,qA);return this.Ai(),this.Ri(),this.Vi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.qr.getHighestSequenceNumber(e))}).then(e=>{this.Lr=new Bi(e,this.oi)}).then(()=>{this.kr=!0}).catch(e=>(this.Ti&&this.Ti.close(),Promise.reject(e)))}mi(e){var t=this;return this.Pi=function(){var r=(0,X.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ti.L(function(){var t=(0,X.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,X.Z)(function*(){t.started&&(yield t.di())})))}di(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Jb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)))})}).next(()=>this.gi(e)).next(t=>this.isPrimary&&!t?this.pi(e).next(()=>!1):!!t&&this.yi(e).next(()=>!0))).catch(e=>{if(ec(e))return se("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return se("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.Pi(e)),this.isPrimary=e})}fi(e){return ag(e).get("owner").next(t=>k.resolve(this.wi(t)))}Si(e){return Jb(e).delete(this.clientId)}bi(){var e=this;return(0,X.Z)(function*(){if(e.isPrimary&&!e.Di(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=gr(r,"clientMetadata");return i.W().next(s=>{const o=e.Ci(s,18e5),a=s.filter(c=>-1===o.indexOf(c));return k.forEach(a,c=>i.delete(c.clientId)).next(()=>a)})}).catch(()=>[]);if(e.Ei)for(const r of t)e.Ei.removeItem(e.vi(r.clientId))}})()}Vi(){this.li=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.di().then(()=>this.bi()).then(()=>this.Vi()))}wi(e){return!!e&&e.ownerId===this.clientId}gi(e){return this._i?k.resolve(!0):ag(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)){if(this.wi(t)&&this.networkEnabled)return!0;if(!this.wi(t)){if(!t.allowTabSynchronization)throw new re(U.FAILED_PRECONDITION,qA);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jb(e).W().next(r=>void 0===this.Ci(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&se("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,X.Z)(function*(){e.kr=!1,e.Mi(),e.li&&(e.li.cancel(),e.li=null),e.xi(),e.Oi(),yield e.Ti.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new gA(t,Bi._e);return e.pi(r).next(()=>e.Si(r))}),e.Ti.close(),e.Ni()})()}Ci(e,t){return e.filter(r=>this.Di(r.updateTimeMs,t)&&!this.Fi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>Jb(e).W().next(t=>this.Ci(t,18e5).map(r=>r.clientId)))}get started(){return this.kr}getMutationQueue(e,t){return Zb.ct(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new CJ(e,this.serializer.ut.databaseId)}getDocumentOverlayCache(e){return qb.ct(this.serializer,e)}getBundleCache(){return this.Kr}runTransaction(e,t,r){se("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",s=15===(c=this.ai)?xX:14===c?G2:13===c?q2:12===c?SX:11===c?z2:void ve();var c;let o;return this.Ti.runTransaction(e,i,s,a=>(o=new gA(a,this.Lr?this.Lr.next():Bi._e),"readwrite-primary"===t?this.fi(o).next(c=>!!c||this.gi(o)).next(c=>{if(!c)throw Vn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.Pi(!1)),new re(U.FAILED_PRECONDITION,L2);return r(o)}).next(c=>this.yi(o).next(()=>c)):this.Li(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Li(e){return ag(e).get("owner").next(t=>{if(null!==t&&this.Di(t.leaseTimestampMs,5e3)&&!this.Fi(t.ownerId)&&!this.wi(t)&&!(this._i||this.allowTabSynchronization&&t.allowTabSynchronization))throw new re(U.FAILED_PRECONDITION,qA)})}yi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ag(e).put("owner",t)}static D(){return Fs.D()}pi(e){const t=ag(e);return t.get("owner").next(r=>this.wi(r)?(se("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):k.resolve())}Di(e,t){const r=Date.now();return!(e<r-t||e>r&&(Vn(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ai(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.di()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}Ri(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Mi();const t=/(?:Version|Mobile)\/1[456]/;(0,qt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Oi(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Fi(e){var t;try{const r=null!==(null===(t=this.Ei)||void 0===t?void 0:t.getItem(this.vi(e)));return se("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Vn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Mi(){if(this.Ei)try{this.Ei.setItem(this.vi(this.clientId),String(Date.now()))}catch(e){Vn("Failed to set zombie client id.",e)}}Ni(){if(this.Ei)try{this.Ei.removeItem(this.vi(this.clientId))}catch{}}vi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ag(n){return gr(n,"owner")}function Jb(n){return gr(n,"clientMetadata")}function WA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class KA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ki=r,this.qi=i}static Qi(e,t){let r=rt(),i=rt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new KA(e,t.fromCache,r,i)}}class jJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class OU{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.zi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ji(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new jJ;return this.Hi(e,t,o).next(a=>{if(s.result=a,this.$i)return this.Ji(e,t,o,a.size)})}).next(()=>s.result)}Ji(e,t,r,i){return r.documentReadCount<this.Ui?(ch()<=mo.in.DEBUG&&se("QueryEngine","SDK will not create cache indexes for query:",_h(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),k.resolve()):(ch()<=mo.in.DEBUG&&se("QueryEngine","Query:",_h(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Wi*i?(ch()<=mo.in.DEBUG&&se("QueryEngine","The SDK decides to create cache indexes for query:",_h(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(t))):k.resolve())}zi(e,t){if(gV(t))return k.resolve(null);let r=ui(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=Vb(t,null,"F"),r=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=rt(...s);return this.Gi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.Yi(t,a);return this.Zi(t,u,o,c.readTime)?this.zi(e,Vb(t,null,"F")):this.Xi(e,u,t,c)}))})))}ji(e,t,r,i){return gV(t)||i.isEqual(Me.min())?k.resolve(null):this.Gi.getDocuments(e,r).next(s=>{const o=this.Yi(t,s);return this.Zi(t,o,r,i)?k.resolve(null):(ch()<=mo.in.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),_h(t)),this.Xi(e,o,t,k2(i,-1)).next(a=>a))})}Yi(e,t){let r=new Bt(bV(e));return t.forEach((i,s)=>{qm(e,s)&&(r=r.add(s))}),r}Zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Hi(e,t,r){return ch()<=mo.in.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",_h(t)),this.Gi.getDocumentsMatchingQuery(e,t,Ui.min(),r)}Xi(e,t,r,i){return this.Gi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class HJ{constructor(e,t,r,i){this.persistence=e,this.es=t,this.serializer=i,this.ts=new tn(Ge),this.ns=new ta(s=>Ul(s),$m),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(r)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new PU(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function kU(n,e,t,r){return new HJ(n,e,t,r)}function FU(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,X.Z)(function*(n,e){const t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.os(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=rt();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(u=>({_s:u,removedBatchIds:o,addedBatchIds:a}))})})}),ZA.apply(this,arguments)}function LU(n){const e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function VU(n,e,t){let r=rt(),i=rt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Ti();return t.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Me.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{us:o,cs:i}})}function qJ(n,e){const t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Sh(n,e){const t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.qr.getTargetData(r,e).next(s=>s?(i=s,k.resolve(i)):t.qr.allocateTargetId(r).next(o=>(i=new ra(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.ts.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.ts=t.ts.insert(r.targetId,r),t.ns.set(e,r.targetId)),r})}function xh(n,e,t){return QA.apply(this,arguments)}function QA(){return QA=(0,X.Z)(function*(n,e,t){const r=de(n),i=r.ts.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ec(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ts=r.ts.remove(e),r.ns.delete(i.target)}),QA.apply(this,arguments)}function e0(n,e,t){const r=de(n);let i=Me.min(),s=rt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const m=de(c),g=m.ns.get(h);return void 0!==g?k.resolve(m.ts.get(g)):m.qr.getTargetData(u,h)}(r,o,ui(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.es.getDocumentsMatchingQuery(o,e,t?i:Me.min(),t?s:rt())).next(a=>(jU(r,vV(e),a),{documents:a,ls:s})))}function UU(n,e){const t=de(n),r=de(t.qr),i=t.ts.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r._t(s,e).next(o=>o?o.target:null))}function BU(n,e){const t=de(n),r=t.rs.get(e)||Me.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ss.getAllFromCollectionGroup(i,e,k2(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(jU(t,e,i),i))}function jU(n,e,t){let r=n.rs.get(e)||Me.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.rs.set(e,r)}function YA(){return YA=(0,X.Z)(function*(n,e,t,r){const i=de(n);let s=rt(),o=Ti();for(const u of t){const h=e.hs(u.metadata.name);u.document&&(s=s.add(h));const m=e.Ps(u);m.setReadTime(e.Is(u.metadata.readTime)),o=o.insert(h,m)}const a=i.ss.newChangeBuffer({trackRemovals:!0}),c=yield Sh(i,(h=r,ui(mh(Tt.fromString(`__bundle__/docs/${h}`)))));var h;return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>VU(u,a,o).next(h=>(a.apply(u),h)).next(h=>i.qr.removeMatchingKeysForTargetId(u,c.targetId).next(()=>i.qr.addMatchingKeys(u,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,h.us,h.cs)).next(()=>h.us)))}),YA.apply(this,arguments)}function WJ(n,e){return XA.apply(this,arguments)}function XA(){return XA=(0,X.Z)(function*(n,e,t=rt()){const r=yield Sh(n,ui(FA(e.bundledQuery))),i=de(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=Un(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Kr.saveNamedQuery(s,e);const a=r.withResumeToken(lr.EMPTY_BYTE_STRING,o);return i.ts=i.ts.insert(a.targetId,a),i.qr.updateTargetData(s,a).next(()=>i.qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.qr.addMatchingKeys(s,t,r.targetId)).next(()=>i.Kr.saveNamedQuery(s,e))})}),XA.apply(this,arguments)}function HU(n,e){return`firestore_clients_${n}_${e}`}function $U(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function JA(n,e){return`firestore_targets_${n}_${e}`}class t0{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Ts(e,t,r){const i=JSON.parse(r);let s,o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(s=new re(i.error.code,i.error.message))),o?new t0(e,t,i.state,s):(Vn("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class cg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ts(e,t){const r=JSON.parse(t);let i,s="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new re(r.error.code,r.error.message))),s?new cg(e,r.state,i):(Vn("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Es(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class n0{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ts(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,s=CA();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=B2(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new n0(e,s):(Vn("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class eD{constructor(e,t){this.clientId=e,this.onlineState=t}static Ts(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new eD(t.clientId,t.onlineState):(Vn("SharedClientState",`Failed to parse online state: ${e}`),null)}}class tD{constructor(){this.activeTargetIds=CA()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nD{constructor(e,t,r,i,s){this.window=e,this.si=t,this.persistenceKey=r,this.Rs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Vs=this.fs.bind(this),this.gs=new tn(Ge),this.started=!1,this.ps=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ys=HU(this.persistenceKey,this.Rs),this.ws=`firestore_sequence_number_${this.persistenceKey}`,this.gs=this.gs.insert(this.Rs,new tD),this.Ss=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.bs=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Ds=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.Cs=`firestore_online_state_${this.persistenceKey}`,this.vs=function(c){return`firestore_bundle_loaded_v2_${c}`}(this.persistenceKey),this.window.addEventListener("storage",this.Vs)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,X.Z)(function*(){const t=yield e.syncEngine.Bi();for(const i of t){if(i===e.Rs)continue;const s=e.getItem(HU(e.persistenceKey,i));if(s){const o=n0.Ts(i,s);o&&(e.gs=e.gs.insert(o.clientId,o))}}e.Fs();const r=e.storage.getItem(e.Cs);if(r){const i=e.Ms(r);i&&e.xs(i)}for(const i of e.ps)e.fs(i);e.ps=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Os(this.gs)}isActiveQueryTarget(e){let t=!1;return this.gs.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ns(e,"pending")}updateMutationState(e,t,r){this.Ns(e,t,r),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(JA(this.persistenceKey,e));if(r){const i=cg.Ts(e,r);i&&(t=i.state)}}return this.Ls.ds(e),this.Fs(),t}removeLocalQueryTarget(e){this.Ls.As(e),this.Fs()}isLocalQueryTarget(e){return this.Ls.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(JA(this.persistenceKey,e))}updateQueryState(e,t,r){this.ks(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.qs(e)}notifyBundleLoaded(e){this.Qs(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Vs),this.removeItem(this.ys),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return se("SharedClientState","READ",e,t),t}setItem(e,t){se("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){se("SharedClientState","REMOVE",e),this.storage.removeItem(e)}fs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(se("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ys)return void Vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,X.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ss.test(r.key)){if(null==r.newValue){const i=t.Ks(r.key);return t.$s(i,null)}{const i=t.Us(r.key,r.newValue);if(i)return t.$s(i.clientId,i)}}else if(t.bs.test(r.key)){if(null!==r.newValue){const i=t.Ws(r.key,r.newValue);if(i)return t.Gs(i)}}else if(t.Ds.test(r.key)){if(null!==r.newValue){const i=t.zs(r.key,r.newValue);if(i)return t.js(i)}}else if(r.key===t.Cs){if(null!==r.newValue){const i=t.Ms(r.newValue);if(i)return t.xs(i)}}else if(r.key===t.ws){const i=function(o){let a=Bi._e;if(null!=o)try{const c=JSON.parse(o);Re("number"==typeof c),a=c}catch(c){Vn("SharedClientState","Failed to read sequence number from WebStorage",c)}return a}(r.newValue);i!==Bi._e&&t.sequenceNumberHandler(i)}else if(r.key===t.vs){const i=t.Hs(r.newValue);yield Promise.all(i.map(s=>t.syncEngine.Js(s)))}}else t.ps.push(r)}))}}get Ls(){return this.gs.get(this.Rs)}Fs(){this.setItem(this.ys,this.Ls.Es())}Ns(e,t,r){const i=new t0(this.currentUser,e,t,r),s=$U(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Es())}Bs(e){const t=$U(this.persistenceKey,this.currentUser,e);this.removeItem(t)}qs(e){this.storage.setItem(this.Cs,JSON.stringify({clientId:this.Rs,onlineState:e}))}ks(e,t,r){const i=JA(this.persistenceKey,e),s=new cg(e,t,r);this.setItem(i,s.Es())}Qs(e){const t=JSON.stringify(Array.from(e));this.setItem(this.vs,t)}Ks(e){const t=this.Ss.exec(e);return t?t[1]:null}Us(e,t){const r=this.Ks(e);return n0.Ts(r,t)}Ws(e,t){const r=this.bs.exec(e),i=Number(r[1]);return t0.Ts(new mr(void 0!==r[2]?r[2]:null),i,t)}zs(e,t){const r=this.Ds.exec(e),i=Number(r[1]);return cg.Ts(i,t)}Ms(e){return eD.Ts(e)}Hs(e){return JSON.parse(e)}Gs(e){var t=this;return(0,X.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Ys(e.batchId,e.state,e.error);se("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}js(e){return this.syncEngine.Zs(e.targetId,e.state,e.error)}$s(e,t){const r=t?this.gs.insert(e,t):this.gs.remove(e),i=this.Os(this.gs),s=this.Os(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.Xs(o,a).then(()=>{this.gs=r})}xs(e){this.gs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Os(e){let t=CA();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class zU{constructor(){this.eo=new tD,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,r){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new tD,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class KJ{ro(e){}shutdown(){}}class qU{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let r0=null;function rD(){return null===r0?r0=268435456+Math.round(2147483648*Math.random()):r0++,"0x"+r0.toString(16)}const ZJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QJ{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const qr="WebChannelConnection";class YJ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.mo=r+"://"+t.host,this.fo=`projects/${i}/databases/${s}`,this.po="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get yo(){return!1}wo(t,r,i,s,o){const a=rD(),c=this.So(t,r);se("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(u,s,o),this.Do(t,c,u,i).then(h=>(se("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Ii("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",i),h})}Co(t,r,i,s,o,a){return this.wo(t,r,i,s,o)}bo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ah,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}So(t,r){return`${this.mo}/v1/${r}:${ZJ[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,r,i){const s=rD();return new Promise((o,a)=>{const c=new KY;c.setWithCredentials(!0),c.listenOnce(qY.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case uA.NO_ERROR:const h=c.getResponseJson();se(qr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case uA.TIMEOUT:se(qr,`RPC '${e}' ${s} timed out`),a(new re(U.DEADLINE_EXCEEDED,"Request time out"));break;case uA.HTTP_ERROR:const m=c.getStatus();if(se(qr,`RPC '${e}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g?.error;if(y&&y.status&&y.message){const b=function(w){const M=w.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(M)>=0?M:U.UNKNOWN}(y.status);a(new re(b,y.message))}else a(new re(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new re(U.UNAVAILABLE,"Connection failed."));break;default:ve()}}finally{se(qr,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);se(qr,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}vo(e,t,r){const i=rD(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$Y(),a=zY(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.xmlHttpFactory=new WY({})),this.bo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const h=s.join("");se(qr,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=o.createWebChannel(h,c);let g=!1,y=!1;const b=new QJ({co:w=>{y?se(qr,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(g||(se(qr,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),se(qr,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},lo:()=>m.close()}),E=(w,M,x)=>{w.listen(M,F=>{try{x(F)}catch(Q){setTimeout(()=>{throw Q},0)}})};return E(m,Db.EventType.OPEN,()=>{y||se(qr,`RPC '${e}' stream ${i} transport opened.`)}),E(m,Db.EventType.CLOSE,()=>{y||(y=!0,se(qr,`RPC '${e}' stream ${i} transport closed`),b.Ro())}),E(m,Db.EventType.ERROR,w=>{y||(y=!0,Ii(qr,`RPC '${e}' stream ${i} transport errored:`,w),b.Ro(new re(U.UNAVAILABLE,"The operation could not be completed")))}),E(m,Db.EventType.MESSAGE,w=>{var M;if(!y){const x=w.data[0];Re(!!x);const Q=x.error||(null===(M=x[0])||void 0===M?void 0:M.error);if(Q){se(qr,`RPC '${e}' stream ${i} received error:`,Q);const le=Q.status;let De=function(pi){const Ai=Wn[pi];if(void 0!==Ai)return VV(Ai)}(le),qe=Q.message;void 0===De&&(De=U.INTERNAL,qe="Unknown error status: "+le+" with message "+Q.message),y=!0,b.Ro(new re(De,qe)),m.close()}else se(qr,`RPC '${e}' stream ${i} received:`,x),b.Vo(x)}}),E(a,GY.STAT_EVENT,w=>{w.stat===x2.PROXY?se(qr,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===x2.NOPROXY&&se(qr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.Ao()},0),b}}function GU(){return typeof window<"u"?window:null}function s0(){return typeof document<"u"?document:null}function lg(n){return new aJ(n,!0)}class iD{constructor(e,t,r=1e3,i=1.5,s=6e4){this.si=e,this.timerId=t,this.Fo=r,this.Mo=i,this.xo=s,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,t-r);i>0&&se("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class WU{constructor(e,t,r,i,s,o,a,c){this.si=e,this.Ko=r,this.$o=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new iD(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return(0,X.Z)(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return(0,X.Z)(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var r=this;return(0,X.Z)(function*(){r.t_(),r.n_(),r.zo.cancel(),r.Uo++,4!==e?r.zo.reset():t&&t.code===U.RESOURCE_EXHAUSTED?(Vn(t.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),r.zo.Lo()):t&&t.code===U.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.r_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Uo===t&&this.s_(r,i)},r=>{e(()=>{const i=new re(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.o_(i)})})}s_(e,t){const r=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{r(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(i=>{r(()=>this.o_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Jo(){var e=this;this.state=5,this.zo.ko((0,X.Z)(function*(){e.state=0,e.start()}))}o_(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XJ extends WU{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function uJ(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:ve(),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Re(void 0===h||"string"==typeof h),lr.fromBase64String(h||"")):(Re(void 0===h||h instanceof Uint8Array),lr.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=void 0===u.code?U.UNKNOWN:VV(u.code);return new re(h,u.message||"")}(o);t=new $V(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=Io(n,r.document.name),s=Un(r.document.updateTime),o=r.document.createTime?Un(r.document.createTime):Me.min(),a=new xr({mapValue:{fields:r.document.fields}}),c=un.newFoundDocument(i,s,o,a);t=new $b(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=Io(n,r.document),s=r.readTime?Un(r.readTime):Me.min(),o=un.newNoDocument(i,s);t=new $b([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=Io(n,r.document);t=new $b([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return ve();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new tJ(i,s);t=new HV(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Me.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Me.min():o.readTime?Un(o.readTime):Me.min()}(e);return this.listener.a_(t,r)}u_(e){const t={};t.database=eg(this.serializer),t.addTarget=function(s,o){let a;const c=o.target;if(a=Fb(c)?{documents:JV(s,c)}:{query:kA(s,c)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=WV(s,o.resumeToken);const u=MA(s,o.expectedCount);null!==u&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Me.min())>0){a.readTime=Ih(s,o.snapshotVersion.toTimestamp());const u=MA(s,o.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function hJ(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.e_(t)}c_(e){const t={};t.database=eg(this.serializer),t.removeTarget=e,this.e_(t)}}class JJ extends WU{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function dJ(n,e){return n&&n.length>0?(Re(void 0!==e),n.map(t=>function(i,s){let o=Un(i.updateTime?i.updateTime:s);return o.isEqual(Me.min())&&(o=Un(s)),new YX(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.I_(r,t)}return Re(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=eg(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>tg(this.serializer,r))};this.e_(t)}}class eee extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.d_=!1}A_(){if(this.d_)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.wo(e,t,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new re(U.UNKNOWN,i.toString())})}Co(e,t,r,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,t,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new re(U.UNKNOWN,s.toString())})}terminate(){this.d_=!0}}class nee{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Vn(t),this.f_=!1):se("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class ree{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=s,this.F_.ro(a=>{r.enqueueAndForget((0,X.Z)(function*(){var c;hc(o)&&(se("RemoteStore","Restarting streams for network reachability change."),yield(c=(0,X.Z)(function*(h){const m=de(h);m.C_.add(4),yield Rh(m),m.M_.set("Unknown"),m.C_.delete(4),yield ug(m)}),function u(h){return c.apply(this,arguments)})(o))}))}),this.M_=new nee(r,i)}}function ug(n){return oD.apply(this,arguments)}function oD(){return oD=(0,X.Z)(function*(n){if(hc(n))for(const e of n.v_)yield e(!0)}),oD.apply(this,arguments)}function Rh(n){return aD.apply(this,arguments)}function aD(){return aD=(0,X.Z)(function*(n){for(const e of n.v_)yield e(!1)}),aD.apply(this,arguments)}function o0(n,e){const t=de(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),uD(t)?lD(t):Ph(t).Ho()&&cD(t,e))}function dg(n,e){const t=de(n),r=Ph(t);t.D_.delete(e),r.Ho()&&KU(t,e),0===t.D_.size&&(r.Ho()?r.Zo():hc(t)&&t.M_.set("Unknown"))}function cD(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ph(n).u_(e)}function KU(n,e){n.x_.Oe(e),Ph(n).c_(e)}function lD(n){n.x_=new rJ({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ph(n).start(),n.M_.g_()}function uD(n){return hc(n)&&!Ph(n).jo()&&n.D_.size>0}function hc(n){return 0===de(n).C_.size}function ZU(n){n.x_=void 0}function iee(n){return dD.apply(this,arguments)}function dD(){return dD=(0,X.Z)(function*(n){n.D_.forEach((e,t)=>{cD(n,e)})}),dD.apply(this,arguments)}function see(n,e){return hD.apply(this,arguments)}function hD(){return hD=(0,X.Z)(function*(n,e){ZU(n),uD(n)?(n.M_.w_(e),lD(n)):n.M_.set("Unknown")}),hD.apply(this,arguments)}function oee(n,e,t){return fD.apply(this,arguments)}function fD(){return fD=(0,X.Z)(function*(n,e,t){if(n.M_.set("Online"),e instanceof $V&&2===e.state&&e.cause)try{yield(r=(0,X.Z)(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.D_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.D_.delete(c),s.x_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield a0(n,r)}else if(e instanceof $b?n.x_.$e(e):e instanceof HV?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(Me.min()))try{const r=yield LU(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.x_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.D_.get(u);h&&s.D_.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=s.D_.get(c);if(!h)return;s.D_.set(c,h.withResumeToken(lr.EMPTY_BYTE_STRING,h.snapshotVersion)),KU(s,c);const m=new ra(h.target,c,u,h.sequenceNumber);cD(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){se("RemoteStore","Failed to raise snapshot:",r),yield a0(n,r)}var r}),fD.apply(this,arguments)}function a0(n,e,t){return pD.apply(this,arguments)}function pD(){return pD=(0,X.Z)(function*(n,e,t){if(!ec(e))throw e;n.C_.add(1),yield Rh(n),n.M_.set("Offline"),t||(t=()=>LU(n.localStore)),n.asyncQueue.enqueueRetryable((0,X.Z)(function*(){se("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield ug(n)}))}),pD.apply(this,arguments)}function QU(n,e){return e().catch(t=>a0(n,t,e))}function Mh(n){return mD.apply(this,arguments)}function mD(){return mD=(0,X.Z)(function*(n){const e=de(n),t=fc(e);let r=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;aee(e);)try{const i=yield qJ(e.localStore,r);if(null===i){0===e.b_.length&&t.Zo();break}r=i.batchId,cee(e,i)}catch(i){yield a0(e,i)}YU(e)&&XU(e)}),mD.apply(this,arguments)}function aee(n){return hc(n)&&n.b_.length<10}function cee(n,e){n.b_.push(e);const t=fc(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function YU(n){return hc(n)&&!fc(n).jo()&&n.b_.length>0}function XU(n){fc(n).start()}function lee(n){return gD.apply(this,arguments)}function gD(){return gD=(0,X.Z)(function*(n){fc(n).E_()}),gD.apply(this,arguments)}function uee(n){return _D.apply(this,arguments)}function _D(){return _D=(0,X.Z)(function*(n){const e=fc(n);for(const t of n.b_)e.P_(t.mutations)}),_D.apply(this,arguments)}function dee(n,e,t){return yD.apply(this,arguments)}function yD(){return yD=(0,X.Z)(function*(n,e,t){const r=n.b_.shift(),i=SA.from(r,e,t);yield QU(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Mh(n)}),yD.apply(this,arguments)}function hee(n,e){return vD.apply(this,arguments)}function vD(){return vD=(0,X.Z)(function*(n,e){var t;e&&fc(n).h_&&(yield(t=(0,X.Z)(function*(i,s){if(LV(a=s.code)&&a!==U.ABORTED){const o=i.b_.shift();fc(i).Yo(),yield QU(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield Mh(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),YU(n)&&XU(n)}),vD.apply(this,arguments)}function JU(n,e){return bD.apply(this,arguments)}function bD(){return bD=(0,X.Z)(function*(n,e){const t=de(n);t.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=hc(t);t.C_.add(3),yield Rh(t),r&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield ug(t)}),bD.apply(this,arguments)}function ED(n,e){return ID.apply(this,arguments)}function ID(){return ID=(0,X.Z)(function*(n,e){const t=de(n);e?(t.C_.delete(2),yield ug(t)):e||(t.C_.add(2),yield Rh(t),t.M_.set("Unknown"))}),ID.apply(this,arguments)}function Ph(n){return n.O_||(n.O_=function(t,r,i){const s=de(t);return s.A_(),new XJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:iee.bind(null,n),Io:see.bind(null,n),a_:oee.bind(null,n)}),n.v_.push(function(){var e=(0,X.Z)(function*(t){t?(n.O_.Yo(),uD(n)?lD(n):n.M_.set("Unknown")):(yield n.O_.stop(),ZU(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function fc(n){return n.N_||(n.N_=function(t,r,i){const s=de(t);return s.A_(),new JJ(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{ho:lee.bind(null,n),Io:hee.bind(null,n),T_:uee.bind(null,n),I_:dee.bind(null,n)}),n.v_.push(function(){var e=(0,X.Z)(function*(t){t?(n.N_.Yo(),yield Mh(n)):(yield n.N_.stop(),n.b_.length>0&&(se("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class wD{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new wD(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new re(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nh(n,e){if(Vn("AsyncQueue",`${e}: ${n}`),ec(n))return new re(U.UNAVAILABLE,`${e}: ${n}`);throw n}class Oh{constructor(e){this.comparator=e?(t,r)=>e(t,r)||fe.comparator(t.key,r.key):(t,r)=>fe.comparator(t.key,r.key),this.keyedMap=Gm(),this.sortedSet=new tn(this.comparator)}static emptySet(e){return new Oh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Oh)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Oh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class eB{constructor(){this.B_=new tn(fe.comparator)}track(e){const t=e.doc.key,r=this.B_.get(t);r?0!==e.type&&3===r.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==r.type?this.B_=this.B_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.B_=this.B_.remove(t):1===e.type&&2===r.type?this.B_=this.B_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):ve():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,r)=>{e.push(r)}),e}}class kh{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new kh(e,t,Oh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class fee{constructor(){this.k_=void 0,this.listeners=[]}}class pee{constructor(){this.queries=new ta(e=>yV(e),zm),this.onlineState="Unknown",this.q_=new Set}}function TD(n,e){return CD.apply(this,arguments)}function CD(){return CD=(0,X.Z)(function*(n,e){const t=de(n),r=e.query;let i=!1,s=t.queries.get(r);if(s||(i=!0,s=new fee),i)try{s.k_=yield t.onListen(r)}catch(o){const a=Nh(o,`Initialization of query '${_h(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.Q_(t.onlineState),s.k_&&e.K_(s.k_)&&SD(t)}),CD.apply(this,arguments)}function AD(n,e){return DD.apply(this,arguments)}function DD(){return DD=(0,X.Z)(function*(n,e){const t=de(n),r=e.query;let i=!1;const s=t.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),DD.apply(this,arguments)}function mee(n,e){const t=de(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.listeners)a.K_(i)&&(r=!0);o.k_=i}}r&&SD(t)}function gee(n,e,t){const r=de(n),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(t);r.queries.delete(e)}function SD(n){n.q_.forEach(e=>{e.next()})}class xD{constructor(e,t,r){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=r||{}}K_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new kh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=kh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class _ee{constructor(e,t){this.Y_=e,this.byteLength=t}Z_(){return"metadata"in this.Y_}}class tB{constructor(e){this.serializer=e}hs(e){return Io(this.serializer,e)}Ps(e){return e.metadata.exists?XV(this.serializer,e.document,!1):un.newNoDocument(this.hs(e.metadata.name),this.Is(e.metadata.readTime))}Is(e){return Un(e)}}class yee{constructor(e,t,r){this.X_=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=nB(e)}ea(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Y_.namedQuery)this.queries.push(e.Y_.namedQuery);else if(e.Y_.documentMetadata){this.documents.push({metadata:e.Y_.documentMetadata}),e.Y_.documentMetadata.exists||++t;const r=Tt.fromString(e.Y_.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Y_.document&&(this.documents[this.documents.length-1].document=e.Y_.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ta(e){const t=new Map,r=new tB(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.hs(i.metadata.name);for(const o of i.metadata.queries){const a=(t.get(o)||rt()).add(s);t.set(o,a)}}return t}complete(){var e=this;return(0,X.Z)(function*(){const t=yield function GJ(n,e,t,r){return YA.apply(this,arguments)}(e.localStore,new tB(e.serializer),e.documents,e.X_.id),r=e.ta(e.documents);for(const i of e.queries)yield WJ(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,na:e.collectionGroups,ra:t}})()}}function nB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rB{constructor(e){this.key=e}}class iB{constructor(e){this.key=e}}class sB{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=rt(),this.mutatedKeys=rt(),this._a=bV(e),this.aa=new Oh(this._a)}get ua(){return this.ia}ca(e,t){const r=t?t.la:new eB,i=t?t.aa:this.aa;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const g=i.get(h),y=qm(this.query,m)?m:null,b=!!g&&this.mutatedKeys.has(g.key),E=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let w=!1;g&&y?g.data.isEqual(y.data)?b!==E&&(r.track({type:3,doc:y}),w=!0):this.ha(g,y)||(r.track({type:2,doc:y}),w=!0,(c&&this._a(y,c)>0||u&&this._a(y,u)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),w=!0):g&&!y&&(r.track({type:1,doc:g}),w=!0,(c||u)&&(a=!0)),w&&(y?(o=o.add(y),s=E?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const h="F"===this.query.limitType?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{aa:o,la:r,Zi:a,mutatedKeys:s}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const s=e.la.L_();s.sort((u,h)=>function(g,y){const b=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve()}};return b(g)-b(y)}(u.type,h.type)||this._a(u.doc,h.doc)),this.Pa(r);const o=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,c=a!==this.sa;return this.sa=a,0!==s.length||c?{snapshot:new kh(this.query,e.aa,i,s,e.mutatedKeys,0===a,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ta:o}:{Ta:o}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new eB,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=rt(),this.aa.forEach(r=>{this.Ea(r.key)&&(this.oa=this.oa.add(r.key))});const t=[];return e.forEach(r=>{this.oa.has(r)||t.push(new iB(r))}),this.oa.forEach(r=>{e.has(r)||t.push(new rB(r))}),t}da(e){this.ia=e.ls,this.oa=rt();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return kh.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class vee{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class bee{constructor(e){this.key=e,this.Ra=!1}}class Eee{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Va={},this.ma=new ta(a=>yV(a),zm),this.fa=new Map,this.ga=new Set,this.pa=new tn(fe.comparator),this.ya=new Map,this.wa=new $A,this.Sa={},this.ba=new Map,this.Da=Wl.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function Iee(n,e){return RD.apply(this,arguments)}function RD(){return RD=(0,X.Z)(function*(n,e){const t=JD(n);let r,i;const s=t.ma.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.Aa();else{const o=yield Sh(t.localStore,ui(e)),a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield MD(t,e,r,"current"===a,o.resumeToken),t.isPrimaryClient&&o0(t.remoteStore,o)}return i}),RD.apply(this,arguments)}function MD(n,e,t,r,i){return PD.apply(this,arguments)}function PD(){return PD=(0,X.Z)(function*(n,e,t,r,i){n.va=(m,g,y)=>{return(b=(0,X.Z)(function*(w,M,x,F){let Q=M.view.ca(x);Q.Zi&&(Q=yield e0(w.localStore,M.query,!1).then(({documents:qe})=>M.view.ca(qe,Q)));const le=F&&F.targetChanges.get(M.targetId),De=M.view.applyChanges(Q,w.isPrimaryClient,le);return HD(w,M.targetId,De.Ta),De.snapshot}),function E(w,M,x,F){return b.apply(this,arguments)})(n,m,g,y);var b};const s=yield e0(n.localStore,e,!0),o=new sB(e,s.ls),a=o.ca(s.documents),c=Xm.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),u=o.applyChanges(a,n.isPrimaryClient,c);HD(n,t,u.Ta);const h=new vee(e,t,o);return n.ma.set(e,h),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),u.snapshot}),PD.apply(this,arguments)}function wee(n,e){return ND.apply(this,arguments)}function ND(){return ND=(0,X.Z)(function*(n,e){const t=de(n),r=t.ma.get(e),i=t.fa.get(r.targetId);if(i.length>1)return t.fa.set(r.targetId,i.filter(s=>!zm(s,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield xh(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),dg(t.remoteStore,r.targetId),Fh(t,r.targetId)}).catch(Ja))):(Fh(t,r.targetId),yield xh(t.localStore,r.targetId,!0))}),ND.apply(this,arguments)}function OD(){return OD=(0,X.Z)(function*(n,e,t){const r=eS(n);try{const i=yield function(o,a){const c=de(o),u=vn.now(),h=a.reduce((y,b)=>y.add(b.key),rt());let m,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Ti(),E=rt();return c.ss.getEntries(y,h).next(w=>{b=w,b.forEach((M,x)=>{x.isValidDocument()||(E=E.add(M))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,b)).next(w=>{m=w;const M=[];for(const x of a){const F=JX(x,m.get(x.key).overlayedDocument);null!=F&&M.push(new na(x.key,F,rV(F.value.mapValue),bn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,u,M,a)}).next(w=>{g=w;const M=w.applyToLocalDocumentSet(m,E);return c.documentOverlayCache.saveOverlays(y,w.batchId,M)})}).then(()=>({batchId:g.batchId,changes:IV(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Sa[o.currentUser.toKey()];u||(u=new tn(Ge)),u=u.insert(a,c),o.Sa[o.currentUser.toKey()]=u}(r,i.batchId,t),yield ia(r,i.changes),yield Mh(r.remoteStore)}catch(i){const s=Nh(i,"Failed to persist write");t.reject(s)}}),OD.apply(this,arguments)}function oB(n,e){return kD.apply(this,arguments)}function kD(){return kD=(0,X.Z)(function*(n,e){const t=de(n);try{const r=yield function zJ(n,e){const t=de(n),r=e.snapshotVersion;let i=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.ss.newChangeBuffer({trackRemovals:!0});i=t.ts;const a=[];e.targetChanges.forEach((h,m)=>{const g=i.get(m);if(!g)return;a.push(t.qr.removeMatchingKeys(s,h.removedDocuments,m).next(()=>t.qr.addMatchingKeys(s,h.addedDocuments,m)));let y=g.withSequenceNumber(s.currentSequenceNumber);var E,w,M;null!==e.targetMismatches.get(m)?y=y.withResumeToken(lr.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(m,y),w=y,M=h,(0===(E=g).resumeToken.approximateByteSize()||w.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=3e8||M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(s,y))});let c=Ti(),u=rt();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(VU(s,o,e.documentUpdates).next(h=>{c=h.us,u=h.cs})),!r.isEqual(Me.min())){const h=t.qr.getLastRemoteSnapshotVersion(s).next(m=>t.qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return k.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.ts=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.ya.get(s);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ra=!0:i.modifiedDocuments.size>0?Re(o.Ra):i.removedDocuments.size>0&&(Re(o.Ra),o.Ra=!1))}),yield ia(t,r,e)}catch(r){yield Ja(r)}}),kD.apply(this,arguments)}function aB(n,e,t){const r=de(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ma.forEach((s,o)=>{const a=o.view.Q_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=de(o);c.onlineState=a;let u=!1;c.queries.forEach((h,m)=>{for(const g of m.listeners)g.Q_(a)&&(u=!0)}),u&&SD(c)}(r.eventManager,e),i.length&&r.Va.a_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cee(n,e,t){return FD.apply(this,arguments)}function FD(){return FD=(0,X.Z)(function*(n,e,t){const r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.ya.get(e),s=i&&i.key;if(s){let o=new tn(fe.comparator);o=o.insert(s,un.newNoDocument(s,Me.min()));const a=rt().add(s),c=new Ym(Me.min(),new Map,new tn(Ge),o,a);yield oB(r,c),r.pa=r.pa.remove(s),r.ya.delete(e),$D(r)}else yield xh(r.localStore,e,!1).then(()=>Fh(r,e,t)).catch(Ja)}),FD.apply(this,arguments)}function Aee(n,e){return LD.apply(this,arguments)}function LD(){return LD=(0,X.Z)(function*(n,e){const t=de(n),r=e.batch.batchId;try{const i=yield function $J(n,e){const t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const m=u.batch,g=m.keys();let y=k.resolve();return g.forEach(b=>{y=y.next(()=>h.getEntry(c,b)).next(E=>{const w=u.docVersions.get(b);Re(null!==w),E.version.compareTo(w)<0&&(m.applyToRemoteDocument(E,u),E.isValidDocument()&&(E.setReadTime(u.commitVersion),h.addEntry(E)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=rt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);jD(t,r,null),BD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ia(t,i)}catch(i){yield Ja(i)}}),LD.apply(this,arguments)}function Dee(n,e,t){return VD.apply(this,arguments)}function VD(){return VD=(0,X.Z)(function*(n,e,t){const r=de(n);try{const i=yield function(o,a){const c=de(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(Re(null!==m),h=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);jD(r,e,t),BD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ia(r,i)}catch(i){yield Ja(i)}}),VD.apply(this,arguments)}function UD(){return UD=(0,X.Z)(function*(n,e){const t=de(n);hc(t.remoteStore)||se("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const a=de(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",c=>a.mutationQueue.getHighestUnacknowledgedBatchId(c))}(t.localStore);if(-1===r)return void e.resolve();const i=t.ba.get(r)||[];i.push(e),t.ba.set(r,i)}catch(r){const i=Nh(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),UD.apply(this,arguments)}function BD(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function jD(n,e,t){const r=de(n);let i=r.Sa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Sa[r.currentUser.toKey()]=i}}function Fh(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.fa.get(e))n.ma.delete(r),t&&n.Va.Fa(r,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(r=>{n.wa.containsKey(r)||cB(n,r)})}function cB(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(dg(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),$D(n))}function HD(n,e,t){for(const r of t)r instanceof rB?(n.wa.addReference(r.key,e),xee(n,r)):r instanceof iB?(se("SyncEngine","Document no longer in limbo: "+r.key),n.wa.removeReference(r.key,e),n.wa.containsKey(r.key)||cB(n,r.key)):ve()}function xee(n,e){const t=e.key,r=t.path.canonicalString();n.pa.get(t)||n.ga.has(r)||(se("SyncEngine","New document in limbo: "+t),n.ga.add(r),$D(n))}function $D(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new fe(Tt.fromString(e)),r=n.Da.next();n.ya.set(r,new bee(t)),n.pa=n.pa.insert(t,r),o0(n.remoteStore,new ra(ui(mh(t.path)),r,"TargetPurposeLimboResolution",Bi._e))}}function ia(n,e,t){return zD.apply(this,arguments)}function zD(){return zD=(0,X.Z)(function*(n,e,t){const r=de(n),i=[],s=[],o=[];var a;r.ma.isEmpty()||(r.ma.forEach((a,c)=>{o.push(r.va(c,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u?.fromCache?"not-current":"current"),u){i.push(u);const h=KA.Qi(c.targetId,u);s.push(h)}}))}),yield Promise.all(o),r.Va.a_(i),yield(a=(0,X.Z)(function*(u,h){const m=de(u);try{yield m.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>k.forEach(h,y=>k.forEach(y.ki,b=>m.persistence.referenceDelegate.addReference(g,y.targetId,b)).next(()=>k.forEach(y.qi,b=>m.persistence.referenceDelegate.removeReference(g,y.targetId,b)))))}catch(g){if(!ec(g))throw g;se("LocalStore","Failed to update sequence numbers: "+g)}for(const g of h){const y=g.targetId;if(!g.fromCache){const b=m.ts.get(y),w=b.withLastLimboFreeSnapshotVersion(b.snapshotVersion);m.ts=m.ts.insert(y,w)}}}),function c(u,h){return a.apply(this,arguments)})(r.localStore,s))}),zD.apply(this,arguments)}function Ree(n,e){return qD.apply(this,arguments)}function qD(){return qD=(0,X.Z)(function*(n,e){const t=de(n);if(!t.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=yield FU(t.localStore,e);t.currentUser=e,(s=t).ba.forEach(a=>{a.forEach(c=>{c.reject(new re(U.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ba.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ia(t,r._s)}var s}),qD.apply(this,arguments)}function Mee(n,e){const t=de(n),r=t.ya.get(e);if(r&&r.Ra)return rt().add(r.key);{let i=rt();const s=t.fa.get(e);if(!s)return i;for(const o of s){const a=t.ma.get(o);i=i.unionWith(a.view.ua)}return i}}function Pee(n,e){return GD.apply(this,arguments)}function GD(){return GD=(0,X.Z)(function*(n,e){const t=de(n),r=yield e0(t.localStore,e.query,!0),i=e.view.da(r);return t.isPrimaryClient&&HD(t,e.targetId,i.Ta),i}),GD.apply(this,arguments)}function Nee(n,e){return WD.apply(this,arguments)}function WD(){return WD=(0,X.Z)(function*(n,e){const t=de(n);return BU(t.localStore,e).then(r=>ia(t,r))}),WD.apply(this,arguments)}function Oee(n,e,t,r){return KD.apply(this,arguments)}function KD(){return KD=(0,X.Z)(function*(n,e,t,r){const i=de(n),s=yield function(a,c){const u=de(a),h=de(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",m=>h.Cn(m,c).next(g=>g?u.localDocuments.getDocuments(m,g):k.resolve(null)))}(i.localStore,e);var c;null!==s?("pending"===t?yield Mh(i.remoteStore):"acknowledged"===t||"rejected"===t?(jD(i,e,r||null),BD(i,e),c=e,de(de(i.localStore).mutationQueue).Fn(c)):ve(),yield ia(i,s)):se("SyncEngine","Cannot apply mutation batch with id: "+e)}),KD.apply(this,arguments)}function ZD(){return ZD=(0,X.Z)(function*(n,e){const t=de(n);if(JD(t),eS(t),!0===e&&!0!==t.Ca){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield lB(t,r.toArray());t.Ca=!0,yield ED(t.remoteStore,!0);for(const s of i)o0(t.remoteStore,s)}else if(!1===e&&!1!==t.Ca){const r=[];let i=Promise.resolve();t.fa.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Fh(t,o),xh(t.localStore,o,!0))),dg(t.remoteStore,o)}),yield i,yield lB(t,r),function(o){const a=de(o);a.ya.forEach((c,u)=>{dg(a.remoteStore,u)}),a.wa.Vr(),a.ya=new Map,a.pa=new tn(fe.comparator)}(t),t.Ca=!1,yield ED(t.remoteStore,!1)}}),ZD.apply(this,arguments)}function lB(n,e,t){return QD.apply(this,arguments)}function QD(){return QD=(0,X.Z)(function*(n,e,t){const r=de(n),i=[],s=[];for(const o of e){let a;const c=r.fa.get(o);if(c&&0!==c.length){a=yield Sh(r.localStore,ui(c[0]));for(const u of c){const h=r.ma.get(u),m=yield Pee(r,h);m.snapshot&&s.push(m.snapshot)}}else{const u=yield UU(r.localStore,o);a=yield Sh(r.localStore,u),yield MD(r,uB(u),o,!1,a.resumeToken)}i.push(a)}return r.Va.a_(s),i}),QD.apply(this,arguments)}function uB(n){return mV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Fee(n){return t=de(n).localStore,de(de(t).persistence).Bi();var t}function Lee(n,e,t,r){return YD.apply(this,arguments)}function YD(){return YD=(0,X.Z)(function*(n,e,t,r){const i=de(n);if(i.Ca)return void se("SyncEngine","Ignoring unexpected query state notification.");const s=i.fa.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{const o=yield BU(i.localStore,vV(s[0])),a=Ym.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,lr.EMPTY_BYTE_STRING);yield ia(i,o,a);break}case"rejected":yield xh(i.localStore,e,!0),Fh(i,e,r);break;default:ve()}}),YD.apply(this,arguments)}function Vee(n,e,t){return XD.apply(this,arguments)}function XD(){return XD=(0,X.Z)(function*(n,e,t){const r=JD(n);if(r.Ca){for(const i of e){if(r.fa.has(i)){se("SyncEngine","Adding an already active target "+i);continue}const s=yield UU(r.localStore,i),o=yield Sh(r.localStore,s);yield MD(r,uB(s),o.targetId,!1,o.resumeToken),o0(r.remoteStore,o)}for(const i of t)r.fa.has(i)&&(yield xh(r.localStore,i,!1).then(()=>{dg(r.remoteStore,i),Fh(r,i)}).catch(Ja))}}),XD.apply(this,arguments)}function JD(n){const e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=oB.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mee.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cee.bind(null,e),e.Va.a_=mee.bind(null,e.eventManager),e.Va.Fa=gee.bind(null,e.eventManager),e}function eS(n){const e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Aee.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dee.bind(null,e),e}class hg{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,X.Z)(function*(){t.serializer=lg(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return kU(this.persistence,new OU,e.initialUser,this.serializer)}createPersistence(e){return new zA(Yb.jr,this.serializer)}createSharedClientState(e){return new zU}terminate(){var e=this;return(0,X.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class tS extends hg{constructor(e,t,r){super(),this.xa=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,X.Z)(function*(){yield t().call(r,e),yield r.xa.initialize(r,e),yield eS(r.xa.syncEngine),yield Mh(r.xa.remoteStore),yield r.persistence.mi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return kU(this.persistence,new OU,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new CU(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new dX(t,this.persistence);return new uX(e.asyncQueue,r)}createPersistence(e){const t=WA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?zr.withCacheSize(this.cacheSizeBytes):zr.DEFAULT;return new GA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,GU(),s0(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new zU}}class dB extends tS{constructor(e,t){super(e,t,!1),this.xa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,X.Z)(function*(){yield t().call(r,e);const i=r.xa.syncEngine;r.sharedClientState instanceof nD&&(r.sharedClientState.syncEngine={Ys:Oee.bind(null,i),Zs:Lee.bind(null,i),Xs:Vee.bind(null,i),Bi:Fee.bind(null,i),Js:Nee.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.mi(function(){var s=(0,X.Z)(function*(o){yield function kee(n,e){return ZD.apply(this,arguments)}(r.xa.syncEngine,o),r.gcScheduler&&(o&&!r.gcScheduler.started?r.gcScheduler.start():o||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(o&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():o||r.indexBackfillerScheduler.stop())});return function(o){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const t=GU();if(!nD.D(t))throw new re(U.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=WA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new nD(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Lh{initialize(e,t){var r=this;return(0,X.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>aB(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ree.bind(null,r.syncEngine),yield ED(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new pee}createDatastore(e){const t=lg(e.databaseInfo.databaseId),r=new YJ(e.databaseInfo);return new eee(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,s=e.asyncQueue,o=t=>aB(this.syncEngine,t,0),a=qU.D()?new qU:new KJ,new ree(r,i,s,o,a);var r,i,s,o,a}createSyncEngine(e,t){return function(i,s,o,a,c,u,h){const m=new Eee(i,s,o,a,c,u);return h&&(m.Ca=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,X.Z)(function*(r){const i=de(r);se("RemoteStore","RemoteStore shutting down."),i.C_.add(5),yield Rh(i),i.F_.shutdown(),i.M_.set("Unknown")}),function t(r){return e.apply(this,arguments)})(this.remoteStore);var e}}function hB(n,e=10240){let t=0;return{read:()=>(0,X.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,X.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class c0{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jee{constructor(e,t){this.Ba=e,this.serializer=t,this.metadata=new cr,this.buffer=new Uint8Array,this.La=new TextDecoder("utf-8"),this.ka().then(r=>{r&&r.Z_()?this.metadata.resolve(r.Y_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Y_)}`))},r=>this.metadata.reject(r))}close(){return this.Ba.cancel()}getMetadata(){var e=this;return(0,X.Z)(function*(){return e.metadata.promise})()}Ma(){var e=this;return(0,X.Z)(function*(){return yield e.getMetadata(),e.ka()})()}ka(){var e=this;return(0,X.Z)(function*(){const t=yield e.qa();if(null===t)return null;const r=e.La.decode(t),i=Number(r);isNaN(i)&&e.Qa(`length string (${r}) is not valid number`);const s=yield e.Ka(i);return new _ee(JSON.parse(s),t.length+i)})()}$a(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}qa(){var e=this;return(0,X.Z)(function*(){for(;e.$a()<0&&!(yield e.Ua()););if(0===e.buffer.length)return null;const t=e.$a();t<0&&e.Qa("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Ka(e){var t=this;return(0,X.Z)(function*(){for(;t.buffer.length<e;)(yield t.Ua())&&t.Qa("Reached the end of bundle when more is expected.");const r=t.La.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Qa(e){throw this.Ba.cancel(),new Error(`Invalid bundle format: ${e}`)}Ua(){var e=this;return(0,X.Z)(function*(){const t=yield e.Ba.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class Hee{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,X.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new re(U.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,X.Z)(function*(o,a){const c=de(o),u=eg(c.serializer)+"/documents",h={documents:a.map(b=>Jm(c.serializer,b))},m=yield c.Co("BatchGetDocuments",u,h,a.length),g=new Map;m.forEach(b=>{const E=function lJ(n,e){return"found"in e?function(r,i){Re(!!i.found);const s=Io(r,i.found.name),o=Un(i.found.updateTime),a=i.found.createTime?Un(i.found.createTime):Me.min(),c=new xr({mapValue:{fields:i.found.fields}});return un.newFoundDocument(s,o,a,c)}(n,e):"missing"in e?function(r,i){Re(!!i.missing),Re(!!i.readTime);const s=Io(r,i.missing),o=Un(i.readTime);return un.newNoDocument(s,o)}(n,e):ve()}(c.serializer,b);g.set(E.key.toString(),E)});const y=[];return a.forEach(b=>{const E=g.get(b.toString());Re(!!E),y.push(E)}),y}),function s(o,a){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Eh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,X.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const s=fe.fromPath(i);e.mutations.push(new AA(s,e.precondition(s)))}),yield(r=(0,X.Z)(function*(s,o){const a=de(s),c=eg(a.serializer)+"/documents",u={writes:o.map(h=>tg(a.serializer,h))};yield a.wo("Commit",c,u)}),function i(s,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ve();t=Me.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new re(U.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Me.min())?bn.exists(!1):bn.updateTime(t):bn.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Me.min()))throw new re(U.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bn.updateTime(t)}return bn.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class $ee{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Wa=r.maxAttempts,this.zo=new iD(this.asyncQueue,"transaction_retry")}run(){this.Wa-=1,this.Ga()}Ga(){var e=this;this.zo.ko((0,X.Z)(function*(){const t=new Hee(e.datastore),r=e.za(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(s=>{e.ja(s)}))}).catch(i=>{e.ja(i)})}))}za(e){try{const t=this.updateFunction(e);return!Fm(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}ja(e){this.Wa>0&&this.Ha(e)?(this.Wa-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ga(),Promise.resolve()))):this.deferred.reject(e)}Ha(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!LV(t)}return!1}}class zee{constructor(e,t,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=N2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,X.Z)(function*(a){se("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(se("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,X.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new re(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Nh(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function l0(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,X.Z)(function*(s){r.isEqual(s)||(yield FU(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),nS.apply(this,arguments)}function rS(n,e){return iS.apply(this,arguments)}function iS(){return iS=(0,X.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield sS(n);se("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>JU(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>JU(e.remoteStore,s)),n._onlineComponents=e}),iS.apply(this,arguments)}function fB(n){return"FirebaseError"===n.name?n.code===U.FAILED_PRECONDITION||n.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function sS(n){return oS.apply(this,arguments)}function oS(){return oS=(0,X.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{yield l0(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!fB(t))throw t;Ii("Error using user provided cache. Falling back to memory cache: "+t),yield l0(n,new hg)}}else se("FirestoreClient","Using default OfflineComponentProvider"),yield l0(n,new hg);return n._offlineComponents}),oS.apply(this,arguments)}function u0(n){return aS.apply(this,arguments)}function aS(){return aS=(0,X.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),yield rS(n,n._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),yield rS(n,new Lh))),n._onlineComponents}),aS.apply(this,arguments)}function pB(n){return sS(n).then(e=>e.persistence)}function Vh(n){return sS(n).then(e=>e.localStore)}function mB(n){return u0(n).then(e=>e.remoteStore)}function cS(n){return u0(n).then(e=>e.syncEngine)}function Uh(n){return lS.apply(this,arguments)}function lS(){return lS=(0,X.Z)(function*(n){const e=yield u0(n),t=e.eventManager;return t.onListen=Iee.bind(null,e.syncEngine),t.onUnlisten=wee.bind(null,e.syncEngine),t}),lS.apply(this,arguments)}function _B(n,e,t={}){const r=new cr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(s,o,a,c,u){const h=new c0({next:g=>{o.enqueueAndForget(()=>AD(s,m));const y=g.docs.has(a);!y&&g.fromCache?u.reject(new re(U.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&"server"===c.source?u.reject(new re(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new xD(mh(a.path),h,{includeMetadataChanges:!0,J_:!0});return TD(s,m)}(yield Uh(n),n.asyncQueue,e,t,r)})),r.promise}function yB(n,e,t={}){const r=new cr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function(s,o,a,c,u){const h=new c0({next:g=>{o.enqueueAndForget(()=>AD(s,m)),g.fromCache&&"server"===c.source?u.reject(new re(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new xD(a,h,{includeMetadataChanges:!0,J_:!0});return TD(s,m)}(yield Uh(n),n.asyncQueue,e,t,r)})),r.promise}function vB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const bB=new Map;function uS(n,e,t){if(!t)throw new re(U.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function EB(n,e,t,r){if(!0===e&&!0===r)throw new re(U.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function IB(n){if(!fe.isDocumentKey(n))throw new re(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wB(n){if(fe.isDocumentKey(n))throw new re(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function d0(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":ve()}function gt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new re(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=d0(n);throw new re(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TB(n,e){if(e<=0)throw new re(U.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class CB{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new re(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new re(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=vB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fg{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CB({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new re(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new re(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CB(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new XY;switch(r.type){case"firstParty":return new nX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new re(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=bB.get(t);r&&(se("ComponentProvider","Removing Datastore"),bB.delete(t),r.terminate())}(this),Promise.resolve()}}class Rr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Rr(this.firestore,e,this._query)}}class dn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class wo extends Rr{constructor(e,t,r){super(e,t,mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new fe(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function DB(n,e,...t){if(n=(0,qt.m9)(n),uS("collection","path",e),n instanceof fg){const r=Tt.fromString(e,...t);return wB(r),new wo(n,null,r)}{if(!(n instanceof dn||n instanceof wo))throw new re(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return wB(r),new wo(n.firestore,null,r)}}function h0(n,e,...t){if(n=(0,qt.m9)(n),1===arguments.length&&(e=N2.newId()),uS("doc","path",e),n instanceof fg){const r=Tt.fromString(e,...t);return IB(r),new dn(n,null,new fe(r))}{if(!(n instanceof dn||n instanceof wo))throw new re(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Tt.fromString(e,...t));return IB(r),new dn(n.firestore,n instanceof wo?n.converter:null,new fe(r))}}function SB(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),(n instanceof dn||n instanceof wo)&&(e instanceof dn||e instanceof wo)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function dS(n,e){return n=(0,qt.m9)(n),e=(0,qt.m9)(e),n instanceof Rr&&e instanceof Rr&&n.firestore===e.firestore&&zm(n._query,e._query)&&n.converter===e.converter}class nte{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new iD(this,"async_queue_retry"),this.iu=()=>{const t=s0();t&&se("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=s0();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=s0();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new cr;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return(0,X.Z)(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!ec(t))throw t;se("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(r=>{throw this.eu=r,this.tu=!1,Vn("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.tu=!1,r))));return this.Ja=t,t}enqueueAfterDelay(e,t,r){this.su(),this.ru.indexOf(e)>-1&&(t=0);const i=wD.createAndSchedule(this,e,t,r,s=>this.au(s));return this.Xa.push(i),i}su(){this.eu&&ve()}verifyOperationInProgress(){}uu(){var e=this;return(0,X.Z)(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function hS(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class rte{constructor(){this._progressObserver={},this._taskCompletionResolver=new cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class nn extends fg{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new nte,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||xB(this),this._firestoreClient.terminate()}}function Mn(n){return n._firestoreClient||xB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function xB(n){var e,t,r;const i=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new PX(n._databaseId,c,n._persistenceKey,(h=i).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,vB(h.experimentalLongPollingOptions),h.useFetchStreams));var c,h;n._firestoreClient=new zee(n._authCredentials,n._appCheckCredentials,n._queue,s),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function RB(n,e,t){const r=new cr;return n.asyncQueue.enqueue((0,X.Z)(function*(){try{yield l0(n,t),yield rS(n,e),r.resolve()}catch(i){const s=i;if(!fB(s))throw s;Ii("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}})).then(()=>r.promise)}function MB(n){if(n._initialized||n._terminated)throw new re(U.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(lr.fromBase64String(e))}catch(t){throw new re(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new To(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class sa{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new re(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Zl{constructor(e){this._methodName=e}}class f0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}const pte=/^__.*__$/;class mte{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new na(e,this.data,this.fieldMask,t,this.fieldTransforms):new bh(e,this.data,t,this.fieldTransforms)}}class PB{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new na(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function NB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve()}}class p0{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Pu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new p0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Au(e),i}Ru(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Tu({path:r,du:!1});return i.Pu(),i}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return _0(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(NB(this.Iu)&&pte.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class gte{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||lg(e)}pu(e,t,r,i=!1){return new p0({Iu:e,methodName:t,gu:r,path:ln.emptyPath(),du:!1,fu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ql(n){const e=n._freezeSettings(),t=lg(n._databaseId);return new gte(n._databaseId,!!e.ignoreUndefinedProperties,t)}function m0(n,e,t,r,i,s={}){const o=n.pu(s.merge||s.mergeFields?2:0,e,t,i);gS("Data must be an object, but it was:",o,r);const a=FB(r,o);let c,u;if(s.merge)c=new wi(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const g=gg(e,m,t);if(!o.contains(g))throw new re(U.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);VB(h,g)||h.push(g)}c=new wi(h),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new mte(new xr(a),c,u)}class mg extends Zl{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mg}}function OB(n,e,t){return new p0({Iu:3,gu:e.settings.gu,methodName:n._methodName,du:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fS extends Zl{_toFieldTransform(e){return new Km(e.path,new yh)}isEqual(e){return e instanceof fS}}class _te extends Zl{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=OB(this,e,!0),r=this.yu.map(s=>Yl(s,t)),i=new Bl(r);return new Km(e.path,i)}isEqual(e){return this===e}}class yte extends Zl{constructor(e,t){super(e),this.yu=t}_toFieldTransform(e){const t=OB(this,e,!0),r=this.yu.map(s=>Yl(s,t)),i=new jl(r);return new Km(e.path,i)}isEqual(e){return this===e}}class vte extends Zl{constructor(e,t){super(e),this.wu=t}_toFieldTransform(e){const t=new vh(e.serializer,AV(e.serializer,this.wu));return new Km(e.path,t)}isEqual(e){return this===e}}function pS(n,e,t,r){const i=n.pu(1,e,t);gS("Data must be an object, but it was:",i,r);const s=[],o=xr.empty();tc(r,(c,u)=>{const h=g0(e,c,t);u=(0,qt.m9)(u);const m=i.Ru(h);if(u instanceof mg)s.push(h);else{const g=Yl(u,m);null!=g&&(s.push(h),o.set(h,g))}});const a=new wi(s);return new PB(o,a,i.fieldTransforms)}function mS(n,e,t,r,i,s){const o=n.pu(1,e,t),a=[gg(e,r,t)],c=[i];if(s.length%2!=0)throw new re(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)a.push(gg(e,s[g])),c.push(s[g+1]);const u=[],h=xr.empty();for(let g=a.length-1;g>=0;--g)if(!VB(u,a[g])){const y=a[g];let b=c[g];b=(0,qt.m9)(b);const E=o.Ru(y);if(b instanceof mg)u.push(y);else{const w=Yl(b,E);null!=w&&(u.push(y),h.set(y,w))}}const m=new wi(u);return new PB(h,m,o.fieldTransforms)}function kB(n,e,t,r=!1){return Yl(t,n.pu(r?4:3,e))}function Yl(n,e){if(LB(n=(0,qt.m9)(n)))return gS("Unsupported field value:",e,n),FB(n,e);if(n instanceof Zl)return function(r,i){if(!NB(i.Iu))throw i.mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.mu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Yl(a,i.Vu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=(0,qt.m9)(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return AV(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=vn.fromDate(r);return{timestampValue:Ih(i.serializer,s)}}if(r instanceof vn){const s=new vn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ih(i.serializer,s)}}if(r instanceof f0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof To)return{bytesValue:WV(i.serializer,r._byteString)};if(r instanceof dn){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.mu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:PA(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.mu(`Unsupported field value: ${d0(r)}`)}(n,e)}function FB(n,e){const t={};return K2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):tc(n,(r,i)=>{const s=Yl(i,e.Eu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function LB(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof vn||n instanceof f0||n instanceof To||n instanceof dn||n instanceof Zl)}function gS(n,e,t){if(!LB(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=d0(t);throw e.mu("an object"===r?n+" a custom object":n+" "+r)}var i}function gg(n,e,t){if((e=(0,qt.m9)(e))instanceof sa)return e._internalPath;if("string"==typeof e)return g0(n,e);throw _0("Field path arguments must be of type string or ",n,!1,void 0,t)}const bte=new RegExp("[~\\*/\\[\\]]");function g0(n,e,t){if(e.search(bte)>=0)throw _0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new sa(...e.split("."))._internalPath}catch{throw _0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _0(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new re(U.INVALID_ARGUMENT,a+n+c)}function VB(n,e){return n.some(t=>t.isEqual(e))}class _g{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ete(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(y0("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ete extends _g{data(){return super.data()}}function y0(n,e){return"string"==typeof e?g0(n,e):e instanceof sa?e._internalPath:e._delegate._internalPath}function UB(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new re(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _S{}class yg extends _S{}function pc(n,e,...t){let r=[];e instanceof _S&&r.push(e),r=r.concat(t),function(s){const o=s.filter(c=>c instanceof Bh).length,a=s.filter(c=>c instanceof vg).length;if(o>1||o>0&&a>0)throw new re(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class vg extends yg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new vg(e,t,r)}_apply(e){const t=this._parse(e);return $B(e._query,t),new Rr(e.firestore,e.converter,TA(e._query,t))}_parse(e){const t=Ql(e.firestore);return function(s,o,a,c,u,h,m){let g;if(u.isKeyField()){if("array-contains"===h||"array-contains-any"===h)throw new re(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if("in"===h||"not-in"===h){HB(m,h);const y=[];for(const b of m)y.push(jB(c,s,b));g={arrayValue:{values:y}}}else g=jB(c,s,m)}else"in"!==h&&"not-in"!==h&&"array-contains-any"!==h||HB(m,h),g=kB(a,"where",m,"in"===h||"not-in"===h);return _t.create(u,h,g)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Bh extends _S{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Bh(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Lt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const c of a)$B(o,c),o=TA(o,c)}(e._query,t),new Rr(e.firestore,e.converter,TA(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class yS extends yg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yS(e,t)}_apply(e){const t=function(i,s,o){if(null!==i.startAt)throw new re(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new re(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hm(s,o)}(e._query,this._field,this._direction);return new Rr(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new ea(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class v0 extends yg{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new v0(e,t,r)}_apply(e){return new Rr(e.firestore,e.converter,Vb(e._query,this._limit,this._limitType))}}class b0 extends yg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new b0(e,t,r)}_apply(e){const t=BB(e,this.type,this._docOrFields,this._inclusive);return new Rr(e.firestore,e.converter,(s=t,new ea((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)));var i,s}}class E0 extends yg{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new E0(e,t,r)}_apply(e){const t=BB(e,this.type,this._docOrFields,this._inclusive);return new Rr(e.firestore,e.converter,(s=t,new ea((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)));var i,s}}function BB(n,e,t,r){if(t[0]=(0,qt.m9)(t[0]),t[0]instanceof _g)return function(s,o,a,c,u){if(!c)throw new re(U.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const h=[];for(const m of gh(s))if(m.field.isKeyField())h.push(Vl(o,c.key));else{const g=c.data.field(m.field);if(Mb(g))throw new re(U.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===g){const y=m.field.canonicalString();throw new re(U.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${y}' (used as the orderBy) does not exist.`)}h.push(g)}return new ac(h,u)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Ql(n.firestore);return function(o,a,c,u,h,m){const g=o.explicitOrderBy;if(h.length>g.length)throw new re(U.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const y=[];for(let b=0;b<h.length;b++){const E=h[b];if(g[b].field.isKeyField()){if("string"!=typeof E)throw new re(U.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof E}`);if(!wA(o)&&-1!==E.indexOf("/"))throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${E}' contains a slash.`);const w=o.path.child(Tt.fromString(E));if(!fe.isDocumentKey(w))throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const M=new fe(w);y.push(Vl(a,M))}else{const w=kB(c,u,E);y.push(w)}}return new ac(y,m)}(n._query,n.firestore._databaseId,i,e,t,r)}}function jB(n,e,t){if("string"==typeof(t=(0,qt.m9)(t))){if(""===t)throw new re(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wA(e)&&-1!==t.indexOf("/"))throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Tt.fromString(t));if(!fe.isDocumentKey(r))throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vl(n,new fe(r))}if(t instanceof dn)return Vl(n,t._key);throw new re(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${d0(t)}.`)}function HB(n,e){if(!Array.isArray(n)||0===n.length)throw new re(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function $B(n,e){const t=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new re(U.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class vS{convertValue(e,t="none"){switch(sc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ve()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return tc(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new f0(Rn(e.latitude),Rn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Pb(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Vm(e));default:return null}}convertTimestamp(e){const t=nc(e);return new vn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Tt.fromString(e);Re(rU(r));const i=new rc(r.get(1),r.get(3)),s=new fe(r.popFirst(5));return i.isEqual(t)||Vn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}function I0(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Rte extends vS{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}class Xl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class oa extends _g{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(y0("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class bg extends oa{data(e={}){return super.data(e)}}class mc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new bg(this._firestore,this._userDataWriter,r.key,r,new Xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new bg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new bg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Xl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return 0!==a.type&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:Pte(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Pte(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve()}}function qB(n,e){return n instanceof oa&&e instanceof oa?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof mc&&e instanceof mc&&n._firestore===e._firestore&&dS(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class gc extends vS{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function GB(n,e,t){n=gt(n,dn);const r=gt(n.firestore,nn),i=I0(n.converter,e,t);return jh(r,[m0(Ql(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,bn.none())])}function WB(n,e,t,...r){n=gt(n,dn);const i=gt(n.firestore,nn),s=Ql(i);let o;return o="string"==typeof(e=(0,qt.m9)(e))||e instanceof sa?mS(s,"updateDoc",n._key,e,t,r):pS(s,"updateDoc",n._key,e),jh(i,[o.toMutation(n._key,bn.exists(!0))])}function KB(n,...e){var t,r,i;n=(0,qt.m9)(n);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||hS(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(hS(e[o])){const m=e[o];e[o]=null===(t=m.next)||void 0===t?void 0:t.bind(m),e[o+1]=null===(r=m.error)||void 0===r?void 0:r.bind(m),e[o+2]=null===(i=m.complete)||void 0===i?void 0:i.bind(m)}let c,u,h;if(n instanceof dn)u=gt(n.firestore,nn),h=mh(n._key.path),c={next:m=>{e[o]&&e[o](bS(u,n,m))},error:e[o+1],complete:e[o+2]};else{const m=gt(n,Rr);u=gt(m.firestore,nn),h=m._query;const g=new gc(u);c={next:y=>{e[o]&&e[o](new mc(u,g,m,y))},error:e[o+1],complete:e[o+2]},UB(n._query)}return function(g,y,b,E){const w=new c0(E),M=new xD(y,w,b);return g.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return TD(yield Uh(g),M)})),()=>{w.Na(),g.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return AD(yield Uh(g),M)}))}}(Mn(u),h,a,c)}function jh(n,e){return function(r,i){const s=new cr;return r.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function Tee(n,e,t){return OD.apply(this,arguments)}(yield cS(r),i,s)})),s.promise}(Mn(n),e)}function bS(n,e,t){const r=t.docs.get(e._key),i=new gc(n);return new oa(n,i,e._key,r,new Xl(t.hasPendingWrites,t.fromCache),e.converter)}const Qte={maxAttempts:5};class ZB{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ql(e)}set(e,t,r){this._verifyNotCommitted();const i=_c(e,this._firestore),s=I0(i.converter,t,r),o=m0(this._dataReader,"WriteBatch.set",i._key,s,null!==i.converter,r);return this._mutations.push(o.toMutation(i._key,bn.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const s=_c(e,this._firestore);let o;return o="string"==typeof(t=(0,qt.m9)(t))||t instanceof sa?mS(this._dataReader,"WriteBatch.update",s._key,t,r,i):pS(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,bn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=_c(e,this._firestore);return this._mutations=this._mutations.concat(new Eh(t._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _c(n,e){if((n=(0,qt.m9)(n)).firestore!==e)throw new re(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Yte extends class{constructor(t,r){this._firestore=t,this._transaction=r,this._dataReader=Ql(t)}get(t){const r=_c(t,this._firestore),i=new Rte(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||1!==s.length)return ve();const o=s[0];if(o.isFoundDocument())return new _g(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new _g(this._firestore,i,r._key,null,r.converter);throw ve()})}set(t,r,i){const s=_c(t,this._firestore),o=I0(s.converter,r,i),a=m0(this._dataReader,"Transaction.set",s._key,o,null!==s.converter,i);return this._transaction.set(s._key,a),this}update(t,r,i,...s){const o=_c(t,this._firestore);let a;return a="string"==typeof(r=(0,qt.m9)(r))||r instanceof sa?mS(this._dataReader,"Transaction.update",o._key,r,i,s):pS(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(t){const r=_c(t,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=_c(e,this._firestore),r=new gc(this._firestore);return super.get(e).then(i=>new oa(this._firestore,r,t._key,i._document,new Xl(!1,!1),t.converter))}}function IS(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new re("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function JB(){if(typeof Uint8Array>"u")throw new re("unimplemented","Uint8Arrays are not available in this environment.")}function e4(){if(!function RX(){return typeof atob<"u"}())throw new re("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){ah=Fd.SDK_VERSION,(0,Fd._registerComponent)(new fL.wA("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new nn(new eX(r.getProvider("auth-internal")),new rX(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new re(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rc(u.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),(0,Fd.registerVersion)(R2,"4.3.2",e),(0,Fd.registerVersion)(R2,"4.3.2","esm2017")}();class Eg{constructor(e){this._delegate=e}static fromBase64String(e){return e4(),new Eg(To.fromBase64String(e))}static fromUint8Array(e){return JB(),new Eg(To.fromUint8Array(e))}toBase64(){return e4(),this._delegate.toBase64()}toUint8Array(){return JB(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function wS(n){return function ane(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class cne{enableIndexedDbPersistence(e,t){return function ste(n,e){MB(n=gt(n,nn));const t=Mn(n);if(t._uninitializedComponentsProvider)throw new re(U.FAILED_PRECONDITION,"SDK cache is already specified.");Ii("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Lh;return RB(t,i,new tS(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ote(n){MB(n=gt(n,nn));const e=Mn(n);if(e._uninitializedComponentsProvider)throw new re(U.FAILED_PRECONDITION,"SDK cache is already specified.");Ii("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Lh;return RB(e,r,new dB(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ate(n){if(n._initialized&&!n._terminated)throw new re(U.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,X.Z)(function*(){try{yield(t=(0,X.Z)(function*(i){if(!Fs.D())return Promise.resolve();const s=i+"main";yield Fs.delete(s)}),function r(i){return t.apply(this,arguments)})(WA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class t4{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof rc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ii("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function AB(n,e,t,r={}){var i;const s=(n=gt(n,fg))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&Ii("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=mr.MOCK_USER;else{a=(0,qt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new re(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new mr(u)}n._authCredentials=new JY(new M2(a,c))}}(this._delegate,e,t,r)}enableNetwork(){return function lte(n){return function qee(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield pB(n),t=yield mB(n);return e.setNetworkEnabled(!0),function(i){const s=de(i);return s.C_.delete(0),ug(s)}(t)}))}(Mn(n=gt(n,nn)))}(this._delegate)}disableNetwork(){return function ute(n){return function Gee(n){return n.asyncQueue.enqueue((0,X.Z)(function*(){const e=yield pB(n),t=yield mB(n);return e.setNetworkEnabled(!1),(r=(0,X.Z)(function*(s){const o=de(s);o.C_.add(0),yield Rh(o),o.M_.set("Offline")}),function i(s){return r.apply(this,arguments)})(t);var r}))}(Mn(n=gt(n,nn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,EB("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function cte(n){return function(t){const r=new cr;return t.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return function See(n,e){return UD.apply(this,arguments)}(yield cS(t),r)})),r.promise}(Mn(n=gt(n,nn)))}(this._delegate)}onSnapshotsInSync(e){return function jte(n,e){return function Zee(n,e){const t=new c0(e);return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return i=yield Uh(n),s=t,de(i).q_.add(s),void s.next();var i,s})),()=>{t.Na(),n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return i=yield Uh(n),s=t,void de(i).q_.delete(s);var i,s}))}}(Mn(n=gt(n,nn)),hS(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new re("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hh(this,DB(this._delegate,e))}catch(t){throw di(t,"collection()","Firestore.collection()")}}doc(e){try{return new hs(this,h0(this._delegate,e))}catch(t){throw di(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new hi(this,function tte(n,e){if(n=gt(n,fg),uS("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(U.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rr(n,null,(r=e,new ea(Tt.emptyPath(),r)));var r}(this._delegate,e))}catch(t){throw di(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Xte(n,e,t){n=gt(n,nn);const r=Object.assign(Object.assign({},Qte),t);return function(s){if(s.maxAttempts<1)throw new re(U.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const c=new cr;return s.asyncQueue.enqueueAndForget((0,X.Z)(function*(){const u=yield function gB(n){return u0(n).then(e=>e.datastore)}(s);new $ee(s.asyncQueue,u,a,o,c).run()})),c.promise}(Mn(n),i=>e(new Yte(n,i)),r)}(this._delegate,t=>e(new n4(this,t)))}batch(){return Mn(this._delegate),new r4(new ZB(this._delegate,e=>jh(this._delegate,e)))}loadBundle(e){return function dte(n,e){const t=Mn(n=gt(n,nn)),r=new rte;return function Qee(n,e,t,r){const i=function(o,a){let c;return c="string"==typeof o?UV().encode(o):o,h=function(h,m){if(h instanceof Uint8Array)return hB(h,m);if(h instanceof ArrayBuffer)return hB(new Uint8Array(h),m);if(h instanceof ReadableStream)return h.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(c),new jee(h,a);var h}(t,lg(e));n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){!function Uee(n,e,t){const r=de(n);var i;(i=(0,X.Z)(function*(o,a,c){try{const u=yield a.getMetadata();if(yield function(b,E){const w=de(b),M=Un(E.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",x=>w.Kr.getBundleMetadata(x,E.id)).then(x=>!!x&&x.createTime.compareTo(M)>=0)}(o.localStore,u))return yield a.close(),c._completeWith({taskState:"Success",documentsLoaded:(b=u).totalDocuments,bytesLoaded:b.totalBytes,totalDocuments:b.totalDocuments,totalBytes:b.totalBytes}),Promise.resolve(new Set);c._updateProgress(nB(u));const h=new yee(u,o.localStore,a.serializer);let m=yield a.Ma();for(;m;){const y=yield h.ea(m);y&&c._updateProgress(y),m=yield a.Ma()}const g=yield h.complete();return yield ia(o,g.ra,void 0),yield function(b,E){const w=de(b);return w.persistence.runTransaction("Save bundle","readwrite",M=>w.Kr.saveBundleMetadata(M,E))}(o.localStore,u),c._completeWith(g.progress),Promise.resolve(g.na)}catch(u){return Ii("SyncEngine",`Loading bundle failed with ${u}`),c._failWith(u),Promise.resolve(new Set)}var b}),function s(o,a,c){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield cS(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function hte(n,e){return function Yee(n,e){return n.asyncQueue.enqueue((0,X.Z)(function*(){return function(r,i){const s=de(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Kr.getNamedQuery(o,i))}(yield Vh(n),e)}))}(Mn(n=gt(n,nn)),e).then(t=>t?new Rr(n,null,t.query):null)}(this._delegate,e).then(t=>t?new hi(this,t):null)}}class T0 extends vS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eg(new To(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return hs.forKey(t,this.firestore,null)}}class n4{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new T0(e)}get(e){const t=eu(e);return this._delegate.get(t).then(r=>new Ig(this._firestore,new oa(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=eu(e);return r?(IS("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=eu(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=eu(e);return this._delegate.delete(t),this}}class r4{constructor(e){this._delegate=e}set(e,t,r){const i=eu(e);return r?(IS("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const s=eu(e);return 2===arguments.length?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){const t=eu(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Jl{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new bg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new wg(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Jl.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new Jl(e,new T0(e),t),i.set(t,s)),s}}Jl.INSTANCES=new WeakMap;class hs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new T0(e)}static forPath(e,t,r){if(e.length%2!=0)throw new re("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new hs(t,new dn(t._delegate,r,new fe(e)))}static forKey(e,t,r){return new hs(t,new dn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Hh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hh(this.firestore,DB(this._delegate,e))}catch(t){throw di(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,qt.m9)(e))instanceof dn&&SB(this._delegate,e)}set(e,t){t=IS("DocumentReference.set",t);try{return t?GB(this._delegate,e,t):GB(this._delegate,e)}catch(r){throw di(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?WB(this._delegate,e):WB(this._delegate,e,t,...r)}catch(i){throw di(i,"updateDoc()","DocumentReference.update()")}}delete(){return function Ute(n){return jh(gt(n.firestore,nn),[new Eh(n._key,bn.none())])}(this._delegate)}onSnapshot(...e){const t=i4(e),r=s4(e,i=>new Ig(this.firestore,new oa(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return KB(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Ote(n){n=gt(n,dn);const e=gt(n.firestore,nn),t=Mn(e),r=new gc(e);return function Wee(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(r=(0,X.Z)(function*(s,o,a){try{const c=yield function(h,m){const g=de(h);return g.persistence.runTransaction("read document","readonly",y=>g.localDocuments.getDocument(y,m))}(s,o);c.isFoundDocument()?a.resolve(c):c.isNoDocument()?a.resolve(null):a.reject(new re(U.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(c){const u=Nh(c,`Failed to get document '${o} from cache`);a.reject(u)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Vh(n),e,t);var r})),t.promise}(t,n._key).then(i=>new oa(e,r,n._key,i,new Xl(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function kte(n){n=gt(n,dn);const e=gt(n.firestore,nn);return _B(Mn(e),n._key,{source:"server"}).then(t=>bS(e,n,t))}(this._delegate):function Nte(n){n=gt(n,dn);const e=gt(n.firestore,nn);return _B(Mn(e),n._key).then(t=>bS(e,n,t))}(this._delegate),t.then(r=>new Ig(this.firestore,new oa(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new hs(this.firestore,this._delegate.withConverter(e?Jl.getInstance(this.firestore,e):null))}}function di(n,e,t){return n.message=n.message.replace(e,t),n}function i4(n){for(const e of n)if("object"==typeof e&&!wS(e))return e;return{}}function s4(n,e){var t,r;let i;return i=wS(n[0])?n[0]:wS(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Ig{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new hs(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return qB(this._delegate,e._delegate)}}class wg extends Ig{data(e){const t=this._delegate.data(e);return this._delegate._converter||function YY(n,e){n||ve()}(void 0!==t),t}}class hi{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new T0(e)}where(e,t,r){try{return new hi(this.firestore,pc(this._delegate,function Ite(n,e,t){const r=e,i=y0("where",n);return vg._create(i,r,t)}(e,t,r)))}catch(i){throw di(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new hi(this.firestore,pc(this._delegate,function wte(n,e="asc"){const t=e,r=y0("orderBy",n);return yS._create(r,t)}(e,t)))}catch(r){throw di(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new hi(this.firestore,pc(this._delegate,function Tte(n){return TB("limit",n),v0._create("limit",n,"F")}(e)))}catch(t){throw di(t,"limit()","Query.limit()")}}limitToLast(e){try{return new hi(this.firestore,pc(this._delegate,function Cte(n){return TB("limitToLast",n),v0._create("limitToLast",n,"L")}(e)))}catch(t){throw di(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new hi(this.firestore,pc(this._delegate,function Ate(...n){return b0._create("startAt",n,!0)}(...e)))}catch(t){throw di(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new hi(this.firestore,pc(this._delegate,function Dte(...n){return b0._create("startAfter",n,!1)}(...e)))}catch(t){throw di(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new hi(this.firestore,pc(this._delegate,function Ste(...n){return E0._create("endBefore",n,!1)}(...e)))}catch(t){throw di(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new hi(this.firestore,pc(this._delegate,function xte(...n){return E0._create("endAt",n,!0)}(...e)))}catch(t){throw di(t,"endAt()","Query.endAt()")}}isEqual(e){return dS(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Lte(n){n=gt(n,Rr);const e=gt(n.firestore,nn),t=Mn(e),r=new gc(e);return function Kee(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,X.Z)(function*(){return(r=(0,X.Z)(function*(s,o,a){try{const c=yield e0(s,o,!0),u=new sB(o,c.ls),h=u.ca(c.documents),m=u.applyChanges(h,!1);a.resolve(m.snapshot)}catch(c){const u=Nh(c,`Failed to execute query '${o} against cache`);a.reject(u)}}),function i(s,o,a){return r.apply(this,arguments)})(yield Vh(n),e,t);var r})),t.promise}(t,n._query).then(i=>new mc(e,r,n,i))}(this._delegate):"server"===e?.source?function Vte(n){n=gt(n,Rr);const e=gt(n.firestore,nn),t=Mn(e),r=new gc(e);return yB(t,n._query,{source:"server"}).then(i=>new mc(e,r,n,i))}(this._delegate):function Fte(n){n=gt(n,Rr);const e=gt(n.firestore,nn),t=Mn(e),r=new gc(e);return UB(n._query),yB(t,n._query).then(i=>new mc(e,r,n,i))}(this._delegate),t.then(r=>new TS(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=i4(e),r=s4(e,i=>new TS(this.firestore,new mc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return KB(this._delegate,t,r)}withConverter(e){return new hi(this.firestore,this._delegate.withConverter(e?Jl.getInstance(this.firestore,e):null))}}class une{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new wg(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class TS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new hi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new wg(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new une(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new wg(this._firestore,r))})}isEqual(e){return qB(this._delegate,e._delegate)}}class Hh extends hi{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new hs(this.firestore,e):null}doc(e){try{return new hs(this.firestore,void 0===e?h0(this._delegate):h0(this._delegate,e))}catch(t){throw di(t,"doc()","CollectionReference.doc()")}}add(e){return function Bte(n,e){const t=gt(n.firestore,nn),r=h0(n),i=I0(n.converter,e);return jh(t,[m0(Ql(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,bn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new hs(this.firestore,t))}isEqual(e){return SB(this._delegate,e._delegate)}withConverter(e){return new Hh(this.firestore,this._delegate.withConverter(e?Jl.getInstance(this.firestore,e):null))}}function eu(n){return gt(n,dn)}class CS{constructor(...e){this._delegate=new sa(...e)}static documentId(){return new CS(ln.keyField().canonicalString())}isEqual(e){return(e=(0,qt.m9)(e))instanceof sa&&this._delegate._internalPath.isEqual(e._internalPath)}}class tu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function ene(){return new fS("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new tu(e)}static delete(){const e=function Jte(){return new mg("deleteField")}();return e._methodName="FieldValue.delete",new tu(e)}static arrayUnion(...e){const t=function tne(...n){return new _te("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new tu(t)}static arrayRemove(...e){const t=function nne(...n){return new yte("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new tu(t)}static increment(e){const t=function rne(n){return new vte("increment",n)}(e);return t._methodName="FieldValue.increment",new tu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dne={Firestore:t4,GeoPoint:f0,Timestamp:vn,Blob:Eg,Transaction:n4,WriteBatch:r4,DocumentReference:hs,DocumentSnapshot:Ig,Query:hi,QueryDocumentSnapshot:wg,QuerySnapshot:TS,CollectionReference:Hh,FieldPath:CS,FieldValue:tu,setLogLevel:function lne(n){!function QY(n){Xa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function o4(n,e){return function pne(n,e=qT){return new dt(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function AS(n,e){return o4(n,e).pipe(be(t=>({payload:t,type:"query"})))}!function fne(n){(function hne(n,e){n.INTERNAL.registerComponent(new fL.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},dne)))})(n,(e,t)=>new t4(e,t,new cne)),n.registerVersion("@firebase/firestore-compat","0.3.22")}(Tl.Z);class a4{ref;afs;constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:s}=d4(r,t);return new u4(i,s,this.afs)}snapshotChanges(){return function mne(n,e){return o4(n,e).pipe(Wp(void 0),IC(),be(t=>{const[r,i]=t;return i.exists?r?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fi)}valueChanges(e={}){return this.snapshotChanges().pipe(be(({payload:t})=>e.idField?{...t.data(),[e.idField]:t.id}:t.data()))}get(e){return S(this.ref.get(e)).pipe(Fi)}}function C0(n,e){return AS(n,e).pipe(Wp(void 0),IC(),be(t=>{const[r,i]=t,s=i.payload.docChanges(),o=s.map(a=>({type:a.type,payload:a}));return r&&JSON.stringify(r.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((a,c)=>{const u=s.find(m=>m.doc.ref.isEqual(a.ref)),h=r?.payload.docs.find(m=>m.ref.isEqual(a.ref));u&&JSON.stringify(u.doc.metadata)===JSON.stringify(a.metadata)||!u&&h&&JSON.stringify(h.metadata)===JSON.stringify(a.metadata)||o.push({type:"modified",payload:{oldIndex:c,newIndex:c,type:"modified",doc:a}})}),o}))}function c4(n,e,t){return C0(n,t).pipe(Vv((r,i)=>function gne(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function _ne(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return DS(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return DS(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return DS(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(s=>s.payload),e),[]),Zt(),be(r=>r.map(i=>({type:i.type,payload:i}))))}function DS(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function l4(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class u4{ref;query;afs;constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=C0(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe(be(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Wp(void 0),IC(),Li(([r,i])=>i.length>0||!r),be(([,r])=>r),Fi)}auditTrail(e){return this.stateChanges(e).pipe(Vv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=l4(e);return c4(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fi)}valueChanges(e={}){return AS(this.query,this.afs.schedulers.outsideAngular).pipe(be(t=>t.payload.docs.map(r=>e.idField?{...r.data(),[e.idField]:r.id}:r.data())),Fi)}get(e){return S(this.query.get(e)).pipe(Fi)}add(e){return this.ref.add(e)}doc(e){return new a4(this.ref.doc(e),this.afs)}}class yne{query;afs;constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?C0(this.query,this.afs.schedulers.outsideAngular).pipe(be(t=>t.filter(r=>e.indexOf(r.type)>-1)),Li(t=>t.length>0),Fi):C0(this.query,this.afs.schedulers.outsideAngular).pipe(Fi)}auditTrail(e){return this.stateChanges(e).pipe(Vv((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=l4(e);return c4(this.query,t,this.afs.schedulers.outsideAngular).pipe(Fi)}valueChanges(e={}){return AS(this.query,this.afs.schedulers.outsideAngular).pipe(be(r=>r.payload.docs.map(i=>e.idField?{[e.idField]:i.id,...i.data()}:i.data())),Fi)}get(e){return S(this.query.get(e)).pipe(Fi)}}const vne=new oe("angularfire2.enableFirestorePersistence"),bne=new oe("angularfire2.firestore.persistenceSettings"),Ene=new oe("angularfire2.firestore.settings"),Ine=new oe("angularfire2.firestore.use-emulator");function d4(n,e=(t=>t)){return{query:e(n),ref:n}}let wne=(()=>{class n{schedulers;firestore;persistenceEnabled$;constructor(t,r,i,s,o,a,c,u,h,m,g,y,b,E,w,M,x){this.schedulers=c;const F=GT(t,a,r),Q=h;m&&dL(F,a,g,b,E,w,y,M),[this.firestore,this.persistenceEnabled$]=bk(`${F.name}.firestore`,"AngularFirestore",F.name,()=>{const le=a.runOutsideAngular(()=>F.firestore());if(s&&le.settings(s),Q&&le.useEmulator(...Q),i&&!Ev(o)){const De=()=>{try{return S(le.enablePersistence(u||void 0).then(()=>!0,()=>!1))}catch(qe){return typeof console<"u"&&console.warn(qe),q(!1)}};return[le,a.runOutsideAngular(De)]}return[le,q(!1)]},[s,Q,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:s,query:o}=d4(i,r),a=this.schedulers.ngZone.run(()=>s);return new u4(a,o,this)}collectionGroup(t,r){const i=r||(o=>o),s=this.firestore.collectionGroup(t);return new yne(i(s),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new a4(i,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(r){return new(r||n)(Y(Av),Y(Dv,8),Y(vne,8),Y(Ene,8),Y(as),Y(at),Y(yk),Y(bne,8),Y(Ine,8),Y(hL,8),Y(sL,8),Y(oL,8),Y(aL,8),Y(cL,8),Y(lL,8),Y(uL,8),Y(gk,8))};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Tne=(()=>{class n{constructor(t){this.firestore=t,this.firestoreCollection=t.collection("todos")}addTodo(t){this.firestoreCollection.add({title:t,isDone:!1})}updateTodoStatus(t,r){this.firestoreCollection.doc(t).update({isDone:r})}deleteTodo(t){this.firestoreCollection.doc(t).delete()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(wne))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cne(n,e){if(1&n){const t=Tp();eo(),function L_(){!function qE(){Fe.lFrame.currentNamespace=null}()}(),ue(0,"li",16)(1,"span")(2,"i",17),Cn("click",function(){const s=ws(t).$implicit;return Ts(Fn().onStatusChange(s.id,!s.isDone))}),Ce(),tt(3),ue(4,"span",18),Cn("click",function(){const s=ws(t).$implicit;return Ts(Fn().onDelete(s.id))}),Ye(5,"i",19),Ce()()()}if(2&n){const t=e.$implicit;Pe(2),je("ngClass",t.isDone?"fa-solid fa-circle-check":"fa-regular fa-circle"),Pe(1),qo(" ",t.title," ")}}let Ane=(()=>{class n{constructor(t){this.todoService=t,this.todos=[]}ngOnInit(){this.todoService.firestoreCollection.valueChanges({idField:"id"}).subscribe(t=>{this.todos=t.sort((r,i)=>r.isDone-i.isDone)})}onClick(t){t.value&&(this.todoService.addTodo(t.value),t.value="")}onStatusChange(t,r){this.todoService.updateTodoStatus(t,r)}onDelete(t){this.todoService.deleteTodo(t)}static#e=this.\u0275fac=function(r){return new(r||n)(z(Tne))};static#t=this.\u0275cmp=En({type:n,selectors:[["app-todo"]],decls:17,vars:1,consts:[[1,"card","shadow-lg","mt-5"],[1,"card-header","text-center","py-4","border-0"],[1,"display-6","fw-bold"],[1,"notepad"],[1,"card-body","p-4"],[1,"list-group"],[1,"list-group-item","mb-3"],[1,"input-group"],["type","text","placeholder","Enter ToDo",1,"form-control","border-0","py-4","shadow-none"],["titleInput",""],["title","Add New",1,"group","cursor-pointer","outline-none","hover:rotate-90","duration-300",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","40px","height","50px","viewBox","0 0 24 24",1,"stroke-indigo-400","fill-none","group-hover:fill-indigo-800","group-active:stroke-indigo-200","group-active:fill-indigo-600","group-active:duration-0","duration-300"],["d","M12 22C17.5 22 22 17.5 22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22Z","stroke-width","2"],["d","M8 12H16","stroke-width","2"],["d","M12 16V8","stroke-width","2"],["class","list-group-item mb-2 border py-3 rounded-3",4,"ngFor","ngForOf"],[1,"list-group-item","mb-2","border","py-3","rounded-3"],[1,"text-success","mr-2",3,"ngClass","click"],[1,"float-end","text-secondary",3,"click"],[1,"fa-regular","fa-trash-can",2,"color","#ff0000"]],template:function(r,i){if(1&r){const s=Tp();ue(0,"div",0)(1,"div",1)(2,"h1",2),tt(3," To Do List "),Ce()(),ue(4,"div",3)(5,"div",4)(6,"ul",5)(7,"li",6)(8,"div",7),Ye(9,"input",8,9),ue(11,"button",10),Cn("click",function(){ws(s);const a=function wM(n){return Sa(function Uu(){return Fe.lFrame.contextLView}(),st+n)}(10);return Ts(i.onClick(a))}),eo(),ue(12,"svg",11),Ye(13,"path",12)(14,"path",13)(15,"path",14),Ce()()()(),wt(16,Cne,6,2,"li",15),Ce()()()()}2&r&&(Pe(16),je("ngForOf",i.todos))},dependencies:[bv,ST],styles:[".notepad[_ngcontent-%COMP%]{width:100%;height:100%;--s: 140px;--_g: #0000 52%, #170409 54% 57%, #0000 59%;background:radial-gradient(farthest-side at -33.33% 50%,var(--_g)) 0 calc(var(--s) / 2),radial-gradient(farthest-side at 50% 133.33%,var(--_g)) calc(var(--s) / 2) 0,radial-gradient(farthest-side at 133.33% 50%,var(--_g)),radial-gradient(farthest-side at 50% -33.33%,var(--_g)),#67917a;background-size:calc(var(--s) / 4.667) var(--s),var(--s) calc(var(--s) / 4.667)}"]})}return n})(),h4=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(z(Ds),z(or))};static#t=this.\u0275dir=Ne({type:n})}return n})(),nu=(()=>{class n extends h4{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=pn(n)))(i||n)}}();static#t=this.\u0275dir=Ne({type:n,features:[pt]})}return n})();const Co=new oe("NgValueAccessor"),xne={provide:Co,useExisting:L(()=>$h),multi:!0},Mne=new oe("CompositionEventMode");let $h=(()=>{class n extends h4{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Rne(){const n=za()?za().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(z(Ds),z(or),z(Mne,8))};static#t=this.\u0275dir=Ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Cn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[_n([xne]),pt]})}return n})();function yc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function p4(n){return null!=n&&"number"==typeof n.length}const Gr=new oe("NgValidators"),vc=new oe("NgAsyncValidators"),Pne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class aa{static min(e){return function m4(n){return e=>{if(yc(e.value)||yc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function g4(n){return e=>{if(yc(e.value)||yc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function _4(n){return yc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function y4(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function v4(n){return yc(n.value)||Pne.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function b4(n){return e=>yc(e.value)||!p4(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function E4(n){return e=>p4(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function I4(n){if(!n)return A0;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(yc(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return S4(e)}static composeAsync(e){return x4(e)}}function A0(n){return null}function w4(n){return null!=n}function T4(n){return Cp(n)?S(n):n}function C4(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function A4(n,e){return e.map(t=>t(n))}function D4(n){return n.map(e=>function Nne(n){return!n.validate}(e)?e:t=>e.validate(t))}function S4(n){if(!n)return null;const e=n.filter(w4);return 0==e.length?null:function(t){return C4(A4(t,e))}}function SS(n){return null!=n?S4(D4(n)):null}function x4(n){if(!n)return null;const e=n.filter(w4);return 0==e.length?null:function(t){return function Dne(...n){const e=ha(n),{args:t,keys:r}=Ck(n),i=new dt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let h=0;h<o;h++){let m=!1;Nn(t[h]).subscribe(ge(s,g=>{m||(m=!0,u--),a[h]=g},()=>c--,void 0,()=>{(!c||!m)&&(u||s.next(r?Dk(r,a):a),s.complete())}))}});return e?i.pipe(Ak(e)):i}(A4(t,e).map(T4)).pipe(be(C4))}}function xS(n){return null!=n?x4(D4(n)):null}function R4(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function M4(n){return n._rawValidators}function P4(n){return n._rawAsyncValidators}function RS(n){return n?Array.isArray(n)?n:[n]:[]}function D0(n,e){return Array.isArray(n)?n.includes(e):n===e}function N4(n,e){const t=RS(e);return RS(n).forEach(i=>{D0(t,i)||t.push(i)}),t}function O4(n,e){return RS(e).filter(t=>!D0(n,t))}class k4{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=xS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class fi extends k4{get formDirective(){return null}get path(){return null}}class bc extends k4{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class F4{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let S0=(()=>{class n extends F4{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(z(bc,2))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&ja("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[pt]})}return n})(),x0=(()=>{class n extends F4{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(z(fi,10))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&ja("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[pt]})}return n})();const Tg="VALID",M0="INVALID",zh="PENDING",Cg="DISABLED";function NS(n){return(P0(n)?n.validators:n)||null}function OS(n,e){return(P0(e)?e.asyncValidators:n)||null}function P0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function V4(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new O(1e3,"");if(!r[t])throw new O(1001,"")}function U4(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new O(1002,"")})}class N0{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Tg}get invalid(){return this.status===M0}get pending(){return this.status==zh}get disabled(){return this.status===Cg}get enabled(){return this.status!==Cg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(N4(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(N4(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(O4(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(O4(e,this._rawAsyncValidators))}hasValidator(e){return D0(this._rawValidators,e)}hasAsyncValidator(e){return D0(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Cg,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Tg,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tg||this.status===zh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cg:Tg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zh,this._hasOwnPendingAsyncValidator=!0;const t=T4(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new gn,this.statusChanges=new gn}_calculateStatus(){return this._allControlsDisabled()?Cg:this.errors?M0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zh)?zh:this._anyControlsHaveStatus(M0)?M0:Tg}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){P0(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Lne(n){return Array.isArray(n)?SS(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Vne(n){return Array.isArray(n)?xS(n):n||null}(this._rawAsyncValidators)}}class Ag extends N0{constructor(e,t,r){super(NS(t),OS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){U4(this,0,e),Object.keys(e).forEach(r=>{V4(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class B4 extends Ag{}const ru=new oe("CallSetDisabledState",{providedIn:"root",factory:()=>Dg}),Dg="always";function O0(n,e){return[...e.path,n]}function Sg(n,e,t=Dg){kS(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Bne(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&j4(n,e)})}(n,e),function Hne(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function jne(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&j4(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Une(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function k0(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),L0(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function F0(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function kS(n,e){const t=M4(n);null!==e.validator?n.setValidators(R4(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=P4(n);null!==e.asyncValidator?n.setAsyncValidators(R4(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();F0(e._rawValidators,i),F0(e._rawAsyncValidators,i)}function L0(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=M4(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=P4(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return F0(e._rawValidators,r),F0(e._rawAsyncValidators,r),t}function j4(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function H4(n,e){kS(n,e)}function LS(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function $4(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function VS(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===$h?t=s:function qne(n){return Object.getPrototypeOf(n.constructor)===nu}(s)?r=s:i=s}),i||r||t||null}const Wne={provide:fi,useExisting:L(()=>V0)},xg=(()=>Promise.resolve())();let V0=(()=>{class n extends fi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new gn,this.form=new Ag({},SS(t),xS(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){xg.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Sg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){xg.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){xg.then(()=>{const r=this._findContainer(t.path),i=new Ag({});H4(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){xg.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){xg.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,$4(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(z(Gr,10),z(vc,10),z(ru,8))};static#t=this.\u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&Cn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_n([Wne]),pt]})}return n})();function z4(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function q4(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Rg=class extends N0{constructor(e=null,t,r){super(NS(t),OS(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),P0(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=q4(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){z4(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){z4(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){q4(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Qne={provide:bc,useExisting:L(()=>US)},K4=(()=>Promise.resolve())();let US=(()=>{class n extends bc{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Rg,this._registered=!1,this.name="",this.update=new gn,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=VS(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),LS(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Sg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){K4.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&Nd(r);K4.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?O0(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(z(fi,9),z(Gr,10),z(vc,10),z(Co,10),z(Lp,8),z(ru,8))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_n([Qne]),pt,ni]})}return n})(),U0=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),Q4=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({})}return n})();const BS=new oe("NgModelWithFormControlWarning"),nre={provide:fi,useExisting:L(()=>Mg)};let Mg=(()=>{class n extends fi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new gn,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(L0(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Sg(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){k0(t.control||null,t,!1),function Gne(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,$4(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(k0(r||null,t),(n=>n instanceof Rg)(i)&&(Sg(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);H4(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function $ne(n,e){return L0(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){kS(this.form,this),this._oldForm&&L0(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(r){return new(r||n)(z(Gr,10),z(vc,10),z(ru,8))};static#t=this.\u0275dir=Ne({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Cn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_n([nre]),pt,ni]})}return n})();const sre={provide:bc,useExisting:L(()=>B0)};let B0=(()=>{class n extends bc{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new gn,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=VS(0,s)}ngOnChanges(t){this._added||this._setUpControl(),LS(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return O0(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(r){return new(r||n)(z(fi,13),z(Gr,10),z(vc,10),z(Co,10),z(BS,8))};static#n=this.\u0275dir=Ne({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[_n([sre]),pt,ni]})}return n})(),f3=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({imports:[Q4]})}return n})();class p3 extends N0{constructor(e,t,r){super(NS(t),OS(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){U4(this,0,e),e.forEach((r,i)=>{V4(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function m3(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let g3=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let s={};return m3(r)?s=r:null!==r&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Ag(i,s)}record(t,r=null){const i=this._reduceControls(t);return new B4(i,r)}control(t,r,i){let s={};return this.useNonNullable?(m3(r)?s=r:(s.validators=r,s.asyncValidators=i),new Rg(t,{...s,nonNullable:!0})):new Rg(t,r,i)}array(t,r,i){const s=t.map(o=>this._createControl(o));return new p3(s,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Rg||t instanceof N0?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),bre=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ru,useValue:t.callSetDisabledState??Dg}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({imports:[f3]})}return n})(),Ere=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:BS,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ru,useValue:t.callSetDisabledState??Dg}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({imports:[f3]})}return n})();class j0{}class H0{}class Ao{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ao?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ao;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ao?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Ire{encodeKey(e){return _3(e)}encodeValue(e){return _3(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Tre=/%(\d[a-f0-9])/gi,Cre={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _3(n){return encodeURIComponent(n).replace(Tre,(e,t)=>Cre[t]??e)}function $0(n){return`${n}`}class Ec{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ire,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function wre(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map($0):[$0(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ec({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push($0(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf($0(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Are{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function y3(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function v3(n){return typeof Blob<"u"&&n instanceof Blob}function b3(n){return typeof FormData<"u"&&n instanceof FormData}class Pg{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Dre(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ao),this.context||(this.context=new Are),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Ec,this.urlWithParams=t}serializeBody(){return null===this.body?null:y3(this.body)||v3(this.body)||b3(this.body)||function Sre(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ec?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||b3(this.body)?null:v3(this.body)?this.body.type||null:y3(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ec?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const h=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((m,g)=>m.set(g,e.setHeaders[g]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((m,g)=>m.set(g,e.setParams[g]),u)),new Pg(t,r,s,{params:u,headers:c,context:h,reportProgress:a,responseType:i,withCredentials:o})}}var qh=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(qh||{});class GS{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ao,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class WS extends GS{constructor(e={}){super(e),this.type=qh.ResponseHeader}clone(e={}){return new WS({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Gh extends GS{constructor(e={}){super(e),this.type=qh.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Gh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class E3 extends GS{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function KS(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ZS=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Pg)s=t;else{let c,u;c=i.headers instanceof Ao?i.headers:new Ao(i.headers),i.params&&(u=i.params instanceof Ec?i.params:new Ec({fromObject:i.params})),s=new Pg(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=q(s).pipe($d(c=>this.handler.handle(c)));if(t instanceof Pg||"events"===i.observe)return o;const a=o.pipe(Li(c=>c instanceof Gh));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(be(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(be(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(be(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(be(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Ec).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,KS(i,r))}post(t,r,i={}){return this.request("POST",t,KS(i,r))}put(t,r,i={}){return this.request("PUT",t,KS(i,r))}static#e=this.\u0275fac=function(r){return new(r||n)(Y(j0))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function T3(n,e){return e(n)}function Rre(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const Pre=new oe(""),Ng=new oe(""),C3=new oe("");function Nre(){let n=null;return(e,t)=>{null===n&&(n=(ce(Pre,{optional:!0})??[]).reduceRight(Rre,T3));const r=ce(nv),i=r.add();return n(e,t).pipe(Qp(()=>r.remove(i)))}}let A3=(()=>{class n extends j0{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=ce(nv)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Ng),...this.injector.get(C3,[])]));this.chain=i.reduceRight((s,o)=>function Mre(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(s,o,this.injector),T3)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Qp(()=>this.pendingTasks.remove(r)))}static#e=this.\u0275fac=function(r){return new(r||n)(Y(H0),Y(Pi))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();const Lre=/^\)\]\}',?\n/;let S3=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new O(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?S(r.\u0275loadImpl()):q(null)).pipe(It(()=>new dt(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((E,w)=>o.setRequestHeader(E,w.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const E=t.detectContentTypeHeader();null!==E&&o.setRequestHeader("Content-Type",E)}if(t.responseType){const E=t.responseType.toLowerCase();o.responseType="json"!==E?E:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const E=o.statusText||"OK",w=new Ao(o.getAllResponseHeaders()),M=function Vre(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return c=new WS({headers:w,status:o.status,statusText:E,url:M}),c},h=()=>{let{headers:E,status:w,statusText:M,url:x}=u(),F=null;204!==w&&(F=typeof o.response>"u"?o.responseText:o.response),0===w&&(w=F?200:0);let Q=w>=200&&w<300;if("json"===t.responseType&&"string"==typeof F){const le=F;F=F.replace(Lre,"");try{F=""!==F?JSON.parse(F):null}catch(De){F=le,Q&&(Q=!1,F={error:De,text:F})}}Q?(s.next(new Gh({body:F,headers:E,status:w,statusText:M,url:x||void 0})),s.complete()):s.error(new E3({error:F,headers:E,status:w,statusText:M,url:x||void 0}))},m=E=>{const{url:w}=u(),M=new E3({error:E,status:o.status||0,statusText:o.statusText||"Unknown Error",url:w||void 0});s.error(M)};let g=!1;const y=E=>{g||(s.next(u()),g=!0);let w={type:qh.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(w.total=E.total),"text"===t.responseType&&o.responseText&&(w.partialText=o.responseText),s.next(w)},b=E=>{let w={type:qh.UploadProgress,loaded:E.loaded};E.lengthComputable&&(w.total=E.total),s.next(w)};return o.addEventListener("load",h),o.addEventListener("error",m),o.addEventListener("timeout",m),o.addEventListener("abort",m),t.reportProgress&&(o.addEventListener("progress",y),null!==a&&o.upload&&o.upload.addEventListener("progress",b)),o.send(a),s.next({type:qh.Sent}),()=>{o.removeEventListener("error",m),o.removeEventListener("abort",m),o.removeEventListener("load",h),o.removeEventListener("timeout",m),t.reportProgress&&(o.removeEventListener("progress",y),null!==a&&o.upload&&o.upload.removeEventListener("progress",b)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(r){return new(r||n)(Y(qO))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();const QS=new oe("XSRF_ENABLED"),x3=new oe("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),R3=new oe("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class M3{}let jre=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=NO(t,this.cookieName),this.lastCookieString=t),this.lastToken}static#e=this.\u0275fac=function(r){return new(r||n)(Y(yn),Y(as),Y(x3))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();function Hre(n,e){const t=n.url.toLowerCase();if(!ce(QS)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=ce(M3).getToken(),i=ce(R3);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Ic=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Ic||{});function $re(...n){const e=[ZS,S3,A3,{provide:j0,useExisting:A3},{provide:H0,useExisting:S3},{provide:Ng,useValue:Hre,multi:!0},{provide:QS,useValue:!0},{provide:M3,useClass:jre}];for(const t of n)e.push(...t.\u0275providers);return function OI(n){return{\u0275providers:n}}(e)}const P3=new oe("LEGACY_INTERCEPTOR_FN");function zre(){return function su(n,e){return{\u0275kind:n,\u0275providers:e}}(Ic.LegacyInterceptors,[{provide:P3,useFactory:Nre},{provide:Ng,useExisting:P3,multi:!0}])}let qre=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({providers:[$re(zre())]})}return n})(),N3=(()=>{class n{constructor(t){this.http=t,this.baseUrl="http://localhost:3000"}registerUser(t){return this.http.post(`${this.baseUrl}/users`,t)}getUserByEmail(t){return this.http.get(`${this.baseUrl}/users?email=${t}`)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(ZS))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wr=(()=>class n{static STARTS_WITH="startsWith";static CONTAINS="contains";static NOT_CONTAINS="notContains";static ENDS_WITH="endsWith";static EQUALS="equals";static NOT_EQUALS="notEquals";static IN="in";static LESS_THAN="lt";static LESS_THAN_OR_EQUAL_TO="lte";static GREATER_THAN="gt";static GREATER_THAN_OR_EQUAL_TO="gte";static BETWEEN="between";static IS="is";static IS_NOT="isNot";static BEFORE="before";static AFTER="after";static DATE_IS="dateIs";static DATE_IS_NOT="dateIsNot";static DATE_BEFORE="dateBefore";static DATE_AFTER="dateAfter"})(),q0=(()=>{class n{messageSource=new j;clearSource=new j;messageObserver=this.messageSource.asObservable();clearObserver=this.clearSource.asObservable();add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),O3=(()=>{class n{ripple=!1;inputStyle="outlined";overlayOptions={};filterMatchModeOptions={text:[Wr.STARTS_WITH,Wr.CONTAINS,Wr.NOT_CONTAINS,Wr.ENDS_WITH,Wr.EQUALS,Wr.NOT_EQUALS],numeric:[Wr.EQUALS,Wr.NOT_EQUALS,Wr.LESS_THAN,Wr.LESS_THAN_OR_EQUAL_TO,Wr.GREATER_THAN,Wr.GREATER_THAN_OR_EQUAL_TO],date:[Wr.DATE_IS,Wr.DATE_IS_NOT,Wr.DATE_BEFORE,Wr.DATE_AFTER]};translation={startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}};zIndex={modal:1100,overlay:1e3,menu:1e3,tooltip:1100};translationSource=new j;translationObserver=this.translationSource.asObservable();getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xre=(()=>{class n{template;type;name;constructor(t){this.template=t}getType(){return this.name}static \u0275fac=function(r){return new(r||n)(z(uo))};static \u0275dir=Ne({type:n,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})}return n})(),Jre=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xt({type:n});static \u0275inj=Yt({imports:[jp]})}return n})();function eie(n,e){1&n&&(ue(0,"div"),tt(1,"Email is required"),Ce())}function tie(n,e){1&n&&(ue(0,"div"),tt(1,"Email should be valid"),Ce())}function nie(n,e){if(1&n&&(ue(0,"small",9),wt(1,eie,2,0,"div",10),wt(2,tie,2,0,"div",10),Ce()),2&n){const t=Fn();Pe(1),je("ngIf",null==t.email.errors?null:t.email.errors.required),Pe(1),je("ngIf",null==t.email.errors?null:t.email.errors.email)}}function rie(n,e){1&n&&(ue(0,"div"),tt(1,"Password is required"),Ce())}function iie(n,e){if(1&n&&(ue(0,"small",9),wt(1,rie,2,0,"div",10),Ce()),2&n){const t=Fn();Pe(1),je("ngIf",null==t.password.errors?null:t.password.errors.required)}}let sie=(()=>{class n{constructor(t,r,i,s){this.fb=t,this.authService=r,this.router=i,this.msgService=s,this.loginForm=this.fb.group({email:["",[aa.required,aa.email]],password:["",aa.required]})}get email(){return this.loginForm.controls.email}get password(){return this.loginForm.controls.password}loginUser(){const{email:t,password:r}=this.loginForm.value;this.authService.getUserByEmail(t).subscribe(i=>{i.length>0&&i[0].password===r?(sessionStorage.setItem("email",t),this.router.navigate(["/to-do"])):this.msgService.add({severity:"error",summary:"Error",detail:"Email or Password Is Wrong.Check Again"})},i=>{this.msgService.add({severity:"error",summary:"Error",detail:"Login Failed !!!"})})}static#e=this.\u0275fac=function(r){return new(r||n)(z(g3),z(N3),z(Cr),z(q0))};static#t=this.\u0275cmp=En({type:n,selectors:[["app-login"]],decls:18,vars:4,consts:[[1,"loginbody"],[1,"form",3,"formGroup","ngSubmit"],[1,"title"],["name","email","placeholder","Email","type","email","formControlName","email",1,"input"],["style","color: red;",4,"ngIf"],["name","password","placeholder","Password","type","password","formControlName","password",1,"input"],[1,"login-with"],["type","submit",1,"button-confirm",3,"disabled"],["routerLink","/signup"],[2,"color","red"],[4,"ngIf"]],template:function(r,i){1&r&&(ue(0,"div",0)(1,"form",1),Cn("ngSubmit",function(){return i.loginUser()}),ue(2,"div",2),tt(3,"Welcome to TaskWeatherApp,"),Ye(4,"br"),ue(5,"span"),tt(6,"Login to continue"),Ce()(),Ye(7,"input",3),wt(8,nie,3,2,"small",4),Ye(9,"input",5),wt(10,iie,2,1,"small",4),Ye(11,"div",6),ue(12,"button",7),tt(13,"Login\u2192"),Ce(),ue(14,"div"),tt(15," Not a member? "),ue(16,"a",8),tt(17," Signup"),Ce()()()()),2&r&&(Pe(1),je("formGroup",i.loginForm),Pe(7),je("ngIf",i.email.invalid&&i.email.dirty||i.email.touched),Pe(2),je("ngIf",i.password.invalid&&i.password.dirty||i.password.touched),Pe(2),je("disabled",i.loginForm.invalid))},dependencies:[kd,Jd,U0,$h,S0,x0,Mg,B0],styles:[".loginbody[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;justify-content:center;height:100vh}.form[_ngcontent-%COMP%]{--input-focus: #2d8cf0;--font-color: #323232;--font-color-sub: #666;--bg-color: beige;--main-color: black;padding:40px;background:lightblue;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:30px;border-radius:10px;border:3px solid var(--main-color);box-shadow:6px 6px var(--main-color)}.title[_ngcontent-%COMP%]{color:var(--font-color);font-weight:900;font-size:24px;margin-bottom:30px}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color-sub);font-weight:600;font-size:20px}.input[_ngcontent-%COMP%]{width:300px;height:50px;border-radius:8px;border:3px solid var(--main-color);background-color:var(--bg-color);box-shadow:6px 6px var(--main-color);font-size:18px;font-weight:600;color:var(--font-color);padding:10px 15px;outline:none}.input[_ngcontent-%COMP%]::placeholder{color:var(--font-color-sub);opacity:.8}.input[_ngcontent-%COMP%]:focus{border:3px solid var(--input-focus)}.login-with[_ngcontent-%COMP%]{display:flex;gap:30px}.button-log[_ngcontent-%COMP%], .button-confirm[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:100%;border:3px solid var(--main-color);background-color:var(--bg-color);box-shadow:6px 6px var(--main-color);font-size:30px;display:flex;justify-content:center;align-items:center}.icon[_ngcontent-%COMP%]{width:30px;height:30px}.button-log[_ngcontent-%COMP%]:active, .button-confirm[_ngcontent-%COMP%]:active{box-shadow:0 0 var(--main-color);transform:translate(4px,4px)}.button-confirm[_ngcontent-%COMP%]{margin:70px auto 0;width:150px;height:50px;border-radius:8px;border:3px solid var(--main-color);background-color:var(--bg-color);box-shadow:6px 6px var(--main-color);font-size:20px;font-weight:600;color:var(--font-color);cursor:pointer}",".checkerboard-background[_ngcontent-%COMP%]{width:100%;height:100%;--color: rgba(114, 114, 114, .3);background-color:#191a1a;background-image:linear-gradient(0deg,transparent 24%,var(--color) 25%,var(--color) 26%,transparent 27%,transparent 74%,var(--color) 75%,var(--color) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,var(--color) 25%,var(--color) 26%,transparent 27%,transparent 74%,var(--color) 75%,var(--color) 76%,transparent 77%,transparent);background-size:55px 55px}"]})}return n})();const oie=n=>{const e=n.get("password"),t=n.get("confirmPassword");return e&&t&&e.value!==t.value?{passwordMismatch:!0}:null};function aie(n,e){1&n&&(ue(0,"div"),tt(1,"Name is required"),Ce())}function cie(n,e){1&n&&(ue(0,"div"),tt(1,"Name should be valid"),Ce())}function lie(n,e){if(1&n&&(ue(0,"small",13),wt(1,aie,2,0,"div",8),wt(2,cie,2,0,"div",8),Ce()),2&n){const t=Fn();Pe(1),je("ngIf",null==t.fullName.errors?null:t.fullName.errors.required),Pe(1),je("ngIf",null==t.fullName.errors?null:t.fullName.errors.pattern)}}function uie(n,e){1&n&&(ue(0,"div"),tt(1,"Email is required"),Ce())}function die(n,e){1&n&&(ue(0,"div"),tt(1,"Email should be valid"),Ce())}function hie(n,e){if(1&n&&(ue(0,"small",13),wt(1,uie,2,0,"div",8),wt(2,die,2,0,"div",8),Ce()),2&n){const t=Fn();Pe(1),je("ngIf",null==t.email.errors?null:t.email.errors.required),Pe(1),je("ngIf",null==t.email.errors?null:t.email.errors.email)}}function fie(n,e){1&n&&(ue(0,"div"),tt(1,"Password is required"),Ce())}function pie(n,e){if(1&n&&(ue(0,"small",13),wt(1,fie,2,0,"div",8),Ce()),2&n){const t=Fn();Pe(1),je("ngIf",null==t.password.errors?null:t.password.errors.required)}}function mie(n,e){1&n&&(ue(0,"div"),tt(1,"Make sure passwords are same."),Ce())}function gie(n,e){if(1&n&&(ue(0,"small",13),wt(1,mie,2,0,"div",8),Ce()),2&n){const t=Fn();Pe(1),je("ngIf",null==t.password.errors?null:t.password.errors.required)}}function _ie(n,e){1&n&&(ue(0,"small"),tt(1," Password should match "),Ce())}let yie=(()=>{class n{constructor(t,r,i,s){this.fb=t,this.authService=r,this.router=i,this.messageService=s,this.signupForm=this.fb.group({fullName:["",[aa.required,aa.pattern(/(^[a-zA-Z][a-zA-Z\s]{0,20}[a-zA-Z]$)/)]],email:["",[aa.required,aa.email]],password:["",aa.required],confirmPassword:["",aa.required]},{validators:oie})}get fullName(){return this.signupForm.controls.fullName}get email(){return this.signupForm.controls.email}get password(){return this.signupForm.controls.password}get confirmPassword(){return this.signupForm.controls.confirmPassword}submitDetails(){const t={...this.signupForm.value};delete t.confirmPassword,this.authService.registerUser(t).subscribe(r=>{console.log(r),this.messageService.add({severity:"success",summary:"Success",detail:"SignUp Successful!"}),this.router.navigate(["login"])},r=>{this.messageService.add({severity:"error",summary:"Error",detail:"SignUp Failed !!!"})})}static#e=this.\u0275fac=function(r){return new(r||n)(z(g3),z(N3),z(Cr),z(q0))};static#t=this.\u0275cmp=En({type:n,selectors:[["app-signup"]],decls:23,vars:7,consts:[[1,"loginbody"],[1,"form",3,"formGroup","ngSubmit"],[1,"title"],["name","fullName","placeholder","Full Name","type","text","formControlName","fullName",1,"input"],["style","color: red;",4,"ngIf"],["name","email","placeholder","Email","type","email","formControlName","email",1,"input"],["name","password","placeholder","Password","type","password","formControlName","password",1,"input"],["name","confirmPassword","placeholder","Confirm Password","type","password","formControlName","confirmPassword",1,"input"],[4,"ngIf"],[1,"login-with"],["type","submit",1,"button-confirm",3,"disabled"],[1,"centered-text"],["routerLink","/login"],[2,"color","red"]],template:function(r,i){1&r&&(ue(0,"div",0)(1,"form",1),Cn("ngSubmit",function(){return i.submitDetails()}),ue(2,"div",2),tt(3,"Welcome to TaskWeatherApp,"),Ye(4,"br"),ue(5,"span"),tt(6,"Signup to continue"),Ce()(),Ye(7,"input",3),wt(8,lie,3,2,"small",4),Ye(9,"input",5),wt(10,hie,3,2,"small",4),Ye(11,"input",6),wt(12,pie,2,1,"small",4),Ye(13,"input",7),wt(14,gie,2,1,"small",4),wt(15,_ie,2,0,"small",8),Ye(16,"div",9),ue(17,"button",10),tt(18,"SignUp\u2192"),Ce(),ue(19,"div",11),tt(20," Already a member? "),ue(21,"a",12),tt(22,"Login"),Ce()()()()),2&r&&(Pe(1),je("formGroup",i.signupForm),Pe(7),je("ngIf",i.fullName.invalid&&i.fullName.dirty||i.fullName.touched),Pe(2),je("ngIf",i.email.invalid&&i.email.dirty||i.email.touched),Pe(2),je("ngIf",i.password.invalid&&i.password.dirty||i.password.touched),Pe(2),je("ngIf",i.confirmPassword.invalid&&i.confirmPassword.dirty||i.confirmPassword.touched),Pe(1),je("ngIf",(null==i.signupForm.errors?null:i.signupForm.errors.passwordMismatch)&&i.confirmPassword.valid&&i.password.valid),Pe(2),je("disabled",i.signupForm.invalid))},dependencies:[kd,Jd,U0,$h,S0,x0,Mg,B0],styles:[".loginbody[_ngcontent-%COMP%]{margin:0;display:flex;align-items:center;justify-content:center;height:100vh}.form[_ngcontent-%COMP%]{--input-focus: #2d8cf0;--font-color: #323232;--font-color-sub: #666;--bg-color: beige;--main-color: black;padding:30px;background:lightblue;display:flex;flex-direction:column;align-items:flex-start;justify-content:center;gap:30px;border-radius:10px;border:3px solid var(--main-color);box-shadow:6px 6px var(--main-color)}.title[_ngcontent-%COMP%]{color:var(--font-color);font-weight:900;font-size:24px;margin-bottom:35px}.title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--font-color-sub);font-weight:600;font-size:20px}.input[_ngcontent-%COMP%]{width:300px;height:50px;border-radius:8px;border:3px solid var(--main-color);background-color:var(--bg-color);box-shadow:6px 6px var(--main-color);font-size:18px;font-weight:600;color:var(--font-color);padding:10px 15px;outline:none}.input[_ngcontent-%COMP%]::placeholder{color:var(--font-color-sub);opacity:.8}.input[_ngcontent-%COMP%]:focus{border:3px solid var(--input-focus)}.login-with[_ngcontent-%COMP%]{display:flex;gap:30px}.button-log[_ngcontent-%COMP%]{cursor:pointer;width:50px;height:50px;border-radius:100%;border:3px solid var(--main-color);background-color:var(--bg-color);box-shadow:6px 6px var(--main-color);color:var(--font-color);font-size:30px;display:flex;justify-content:center;align-items:center}.icon[_ngcontent-%COMP%]{width:30px;height:30px}.button-log[_ngcontent-%COMP%]:active, .button-confirm[_ngcontent-%COMP%]:active{box-shadow:0 0 var(--main-color);transform:translate(4px,4px)}.button-confirm[_ngcontent-%COMP%]{margin:70px auto 0;width:150px;height:50px;border-radius:8px;border:3px solid var(--main-color);background-color:var(--bg-color);box-shadow:6px 6px var(--main-color);font-size:22px;font-weight:600;color:var(--font-color);cursor:pointer}.centered-text[_ngcontent-%COMP%]{margin-left:70px}"]})}return n})(),vie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=En({type:n,selectors:[["app-error-page"]],decls:8,vars:0,consts:[[1,"site"],[1,"sketch"],[1,"bee-sketch","red"],[1,"bee-sketch","blue"]],template:function(r,i){1&r&&(ue(0,"div",0)(1,"div",1),Ye(2,"div",2)(3,"div",3),Ce(),ue(4,"h1"),tt(5,"404: "),ue(6,"small"),tt(7,"Page Not Found"),Ce()()())},styles:['@import"https://fonts.googleapis.com/css?family=Cabin+Sketch";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0;display:flex;align-items:center;justify-content:center}h1[_ngcontent-%COMP%]{font-family:Cabin Sketch,cursive;font-size:4em;text-align:center;opacity:.8;order:1;color:#fff}h1[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{display:block}.site[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;margin:0 auto;justify-content:center;text-align:center}.sketch[_ngcontent-%COMP%]{position:relative;height:400px;min-width:400px;margin:0;overflow:visible;order:2}.bee-sketch[_ngcontent-%COMP%]{height:100%;width:100%;position:absolute;top:0;left:0}.red[_ngcontent-%COMP%]{background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-1.png) no-repeat center center;opacity:1;animation:_ngcontent-%COMP%_red 3s linear infinite,opacityRed 5s linear alternate infinite}.blue[_ngcontent-%COMP%]{background:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-1.png) no-repeat center center;opacity:0;animation:_ngcontent-%COMP%_blue 3s linear infinite,opacityBlue 5s linear alternate infinite}@media only screen and (min-width: 780px){.site[_ngcontent-%COMP%]{flex-direction:row;padding:1em 3em 1em 0}h1[_ngcontent-%COMP%]{text-align:right;order:2;padding-bottom:2em;padding-left:2em}.sketch[_ngcontent-%COMP%]{order:1}}@keyframes _ngcontent-%COMP%_blue{0%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-1.png)}9.09%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-2.png)}27.27%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-3.png)}36.36%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-4.png)}45.45%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-5.png)}54.54%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-6.png)}63.63%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-7.png)}72.72%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-8.png)}81.81%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-9.png)}to{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/blue-1.png)}}@keyframes _ngcontent-%COMP%_red{0%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-1.png)}9.09%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-2.png)}27.27%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-3.png)}36.36%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-4.png)}45.45%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-5.png)}54.54%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-6.png)}63.63%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-7.png)}72.72%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-8.png)}81.81%{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-9.png)}to{background-image:url(https://s3-us-west-2.amazonaws.com/s.cdpn.io/198554/red-1.png)}}@keyframes _ngcontent-%COMP%_opacityBlue{0%{opacity:0}25%{opacity:0}75%{opacity:1}to{opacity:1}}@keyframes _ngcontent-%COMP%_opacityRed{0%{opacity:1}25%{opacity:1}75%{opacity:.3}to{opacity:.3}}',".checkerboard-background[_ngcontent-%COMP%]{width:100%;height:100%;--color: rgba(114, 114, 114, .3);background-color:#191a1a;background-image:linear-gradient(0deg,transparent 24%,var(--color) 25%,var(--color) 26%,transparent 27%,transparent 74%,var(--color) 75%,var(--color) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,var(--color) 25%,var(--color) 26%,transparent 27%,transparent 74%,var(--color) 75%,var(--color) 76%,transparent 77%,transparent);background-size:55px 55px}"]})}return n})();const k3=(n,e)=>!!sessionStorage.getItem("email")||ce(Cr).navigate(["login"]);let bie=(()=>{class n{constructor(t){this.http=t,this.apiKey="97d61e42deea494dda6e2dac71dd06c9"}getWeatherData(t){return this.http.get(`https://api.openweathermap.org/data/2.5/weather?q=${t}&appid=97d61e42deea494dda6e2dac71dd06c9&units=metric`)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(ZS))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Eie(n,e){1&n&&Ye(0,"img",22)}function Iie(n,e){1&n&&Ye(0,"img",23)}function wie(n,e){if(1&n&&(ue(0,"div",5)(1,"div",6),wt(2,Eie,1,0,"img",7),wt(3,Iie,1,0,"img",8),ue(4,"div",9)(5,"div",10),tt(6),Ce(),ue(7,"div",11),tt(8),Qy(9,"number"),Ce()()(),ue(10,"div",12)(11,"div",13),tt(12," More Data "),Ce(),ue(13,"div",14)(14,"div",15)(15,"div",16),Ye(16,"img",17),ue(17,"span"),tt(18,"Min Temp"),Ce()(),ue(19,"div",18),tt(20),Qy(21,"number"),Ce()(),ue(22,"div",15)(23,"div",16),Ye(24,"img",19),ue(25,"span"),tt(26,"Max Temp"),Ce()(),ue(27,"div",18),tt(28),Qy(29,"number"),Ce()(),ue(30,"div",15)(31,"div",16),Ye(32,"img",20),ue(33,"span"),tt(34,"Humidity"),Ce()(),ue(35,"div",18),tt(36),Ce()(),ue(37,"div",15)(38,"div",16),Ye(39,"img",21),ue(40,"span"),tt(41,"Wind Speed"),Ce()(),ue(42,"div",18),tt(43),Ce()()()()()),2&n){const t=Fn();Pe(2),je("ngIf",t.weatherData.main.temp<=15),Pe(1),je("ngIf",t.weatherData.main.temp>15),Pe(3),Dp(t.weatherData.name),Pe(2),qo("",Yy(9,8,t.weatherData.main.temp,"1.0-0"),"\xb0C"),Pe(12),qo(" ",Yy(21,11,t.weatherData.main.temp_min,"1.0-0"),"\xb0C "),Pe(8),qo(" ",Yy(29,14,t.weatherData.main.temp_max,"1.0-0"),"\xb0C "),Pe(8),qo(" ",t.weatherData.main.humidity,"% "),Pe(7),qo(" ",t.weatherData.wind.speed," Km/Hr ")}}const Tie=[{path:"to-do",component:Ane,canActivate:[k3]},{path:"login",component:sie},{path:"signup",component:yie},{path:"weather",component:(()=>{class n{constructor(t){this.weatherService=t,this.cityName="Mumbai"}ngOnInit(){this.getWeatherData(this.cityName),this.cityName=""}onSubmit(){this.getWeatherData(this.cityName),this.cityName=""}getWeatherData(t){this.weatherService.getWeatherData(t).subscribe({next:r=>{this.weatherData=r,console.log(r)}})}static#e=this.\u0275fac=function(r){return new(r||n)(z(bie))};static#t=this.\u0275cmp=En({type:n,selectors:[["app-weather"]],decls:6,vars:2,consts:[[1,"search"],[3,"submit"],["form","ngForm"],["type","text","placeholder","Search City","name","city",3,"ngModel","ngModelChange"],["class","container",4,"ngIf"],[1,"container"],[1,"upper-data"],["src","../assets/images/cold-bg.jpg",4,"ngIf"],["src","../assets/images/warm-bg.jpg",4,"ngIf"],[1,"weather-data"],[1,"location"],[1,"temperature"],[1,"lower-data"],[1,"more-info-label"],[1,"more-info-container"],[1,"info-block"],[1,"info-block-label"],["src","../assets/images/temperature.png"],[1,"info-block-value"],["src","../assets/images/hot.png"],["src","../assets/images/humidity.png"],["src","../assets/images/wind.png"],["src","../assets/images/cold-bg.jpg"],["src","../assets/images/warm-bg.jpg"]],template:function(r,i){1&r&&(ue(0,"body")(1,"div",0)(2,"form",1,2),Cn("submit",function(){return i.onSubmit()}),ue(4,"input",3),Cn("ngModelChange",function(o){return i.cityName=o}),Ce()()(),wt(5,wie,44,17,"div",4),Ce()),2&r&&(Pe(4),je("ngModel",i.cityName),Pe(1),je("ngIf",i.weatherData))},dependencies:[kd,U0,$h,S0,x0,US,V0,HO],styles:["[_ngcontent-%COMP%]:root{-shadow-light:rgba(255,255,255,.1);-shadow-dark:rgba(0,0,0,.95)}*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Verdana,Geneva,Tahoma,sans-serif;font-size:17px;width:100%;height:100vh;background-color:transparent;display:flex;justify-content:center;align-items:center}.search[_ngcontent-%COMP%]{margin-top:1em;margin-bottom:1em;text-align:center}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-top:1rem;border-radius:10px;outline:2px solid #67917a;border:0;font-family:Montserrat,sans-serif;background-color:#d6f1ff;outline-offset:3px;padding:10px 12.5px;transition:all .2s ease;width:300px}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:hover{background-color:#fff}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline-offset:-6px;background-color:#d6f1ff}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#000}.container[_ngcontent-%COMP%]{width:700px;height:80vh;--s: 140px;--_g: #0000 52%, #170409 54% 57%, #0000 59%;background:radial-gradient(farthest-side at -33.33% 50%,var(--_g)) 0 calc(var(--s) / 2),radial-gradient(farthest-side at 50% 133.33%,var(--_g)) calc(var(--s) / 2) 0,radial-gradient(farthest-side at 133.33% 50%,var(--_g)),radial-gradient(farthest-side at 50% -33.33%,var(--_g)),#67917a;background-size:calc(var(--s) / 4.667) var(--s),var(--s) calc(var(--s) / 4.667);border-radius:20px;box-shadow:0 0 20px 5px #fff;margin:0 auto}.upper-data[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;height:50%;border-top-left-radius:20px;border-top-right-radius:20px}.upper-data[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.lower-data[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%;height:50%;border-bottom-left-radius:20px;border-bottom-right-radius:20px;padding:1em;display:flex;flex-direction:column}.weather-data[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;height:100%;background-color:#0006;display:flex;flex-direction:column;align-items:center;justify-content:center}.location[_ngcontent-%COMP%]{color:#fff;text-align:center;font-size:2.5em}.temperature[_ngcontent-%COMP%]{color:#fff;font-size:6em;text-align:center;font-weight:900}.more-info-label[_ngcontent-%COMP%]{color:#000;font-size:1.5em;text-align:center;font-weight:1000;background-color:#67917a;border-radius:20px;display:inline;padding:5px 1px}.more-info-container[_ngcontent-%COMP%]{flex:1;background:#121212;background:linear-gradient(135deg,#121212 25%,#1a1a1a 25%,#1a1a1a 50%,#121212 50%,#121212 75%,#1a1a1a 75%,#1a1a1a);background-size:40px 40px;animation:_ngcontent-%COMP%_move 4s linear infinite;border-radius:20px;margin-top:1em;display:flex;flex-direction:row;flex-wrap:wrap}@keyframes _ngcontent-%COMP%_move{0%{background-position:0 0}to{background-position:40px 40px}}.info-block[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:row}.info-block-label[_ngcontent-%COMP%]{width:50%;display:flex;flex-direction:column;justify-content:center;align-items:center}.info-block-label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:5em}.info-block-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-size:1.2em}.info-block-value[_ngcontent-%COMP%]{width:50%;display:flex;justify-content:flex-start;align-items:center;color:#fff;font-size:1.5em}"]})}return n})(),canActivate:[k3]},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",component:vie}];let Cie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({imports:[tL.forRoot(Tie),tL]})}return n})();class F3{}class Aie{}const ca="*";function L3(n,e){return{type:7,name:n,definitions:e,options:{}}}function V3(n,e=null){return{type:4,styles:e,timings:n}}function U3(n,e=null){return{type:2,steps:n,options:e}}function Og(n){return{type:6,styles:n,offset:null}}function Die(n,e,t){return{type:0,name:n,styles:e,options:t}}function YS(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Sie(n=null){return{type:9,options:n}}function xie(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}class kg{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class B3{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class G0{static equals(e,t,r){return r?this.resolveFieldData(e,r)===this.resolveFieldData(t,r):this.equalsByValue(e,t)}static equalsByValue(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var s,o,a,r=Array.isArray(e),i=Array.isArray(t);if(r&&i){if((o=e.length)!=t.length)return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[s],t[s]))return!1;return!0}if(r!=i)return!1;var c=this.isDate(e),u=this.isDate(t);if(c!=u)return!1;if(c&&u)return e.getTime()==t.getTime();var h=e instanceof RegExp,m=t instanceof RegExp;if(h!=m)return!1;if(h&&m)return e.toString()==t.toString();var g=Object.keys(e);if((o=g.length)!==Object.keys(t).length)return!1;for(s=o;0!=s--;)if(!Object.prototype.hasOwnProperty.call(t,g[s]))return!1;for(s=o;0!=s--;)if(!this.equalsByValue(e[a=g[s]],t[a]))return!1;return!0}return e!=e&&t!=t}static resolveFieldData(e,t){if(e&&t){if(this.isFunction(t))return t(e);if(-1==t.indexOf("."))return e[t];{let r=t.split("."),i=e;for(let s=0,o=r.length;s<o;++s){if(null==i)return null;i=i[r[s]]}return i}}return null}static isFunction(e){return!!(e&&e.constructor&&e.call&&e.apply)}static reorderArray(e,t,r){e&&t!==r&&(r>=e.length&&(r%=e.length,t%=e.length),e.splice(r,0,e.splice(t,1)[0]))}static insertIntoOrderedArray(e,t,r,i){if(r.length>0){let s=!1;for(let o=0;o<r.length;o++)if(this.findIndexInList(r[o],i)>t){r.splice(o,0,e),s=!0;break}s||r.push(e)}else r.push(e)}static findIndexInList(e,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==e){r=i;break}return r}static contains(e,t){if(null!=e&&t&&t.length)for(let r of t)if(this.equals(e,r))return!0;return!1}static removeAccents(e){return e&&e.search(/[\xC0-\xFF]/g)>-1&&(e=e.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),e}static isDate(e){return"[object Date]"===Object.prototype.toString.call(e)}static isEmpty(e){return null==e||""===e||Array.isArray(e)&&0===e.length||!this.isDate(e)&&"object"==typeof e&&0===Object.keys(e).length}static isNotEmpty(e){return!this.isEmpty(e)}static compare(e,t,r,i=1){let s=-1;const o=this.isEmpty(e),a=this.isEmpty(t);return s=o&&a?0:o?i:a?-i:"string"==typeof e&&"string"==typeof t?e.localeCompare(t,r,{numeric:!0}):e<t?-1:e>t?1:0,s}static sort(e,t,r=1,i,s=1){return(1===s?r:s)*G0.compare(e,t,i,r)}static merge(e,t){if(null!=e||null!=t)return null!=e&&"object"!=typeof e||null!=t&&"object"!=typeof t?null!=e&&"string"!=typeof e||null!=t&&"string"!=typeof t?t||e:[e||"",t||""].join(" "):{...e||{},...t||{}}}static isPrintableCharacter(e=""){return this.isNotEmpty(e)&&1===e.length&&e.match(/\S| /)}static getItemValue(e,...t){return this.isFunction(e)?e(...t):e}static findLastIndex(e,t){let r=-1;if(this.isNotEmpty(e))try{r=e.findLastIndex(t)}catch{r=e.lastIndexOf([...e].reverse().find(t))}return r}static findLast(e,t){let r;if(this.isNotEmpty(e))try{r=e.findLast(t)}catch{r=[...e].reverse().find(t)}return r}}var j3=0;function W0(n="pn_id_"){return`${n}${++j3}`}var JS=function Rie(){let n=[];const i=s=>s&&parseInt(s.style.zIndex,10)||0;return{get:i,set:(s,o,a)=>{o&&(o.style.zIndex=String(((s,o)=>{let a=n.length>0?n[n.length-1]:{key:s,value:o},c=a.value+(a.key===s?0:o)+2;return n.push({key:s,value:c}),c})(s,a)))},clear:s=>{s&&((s=>{n=n.filter(o=>o.value!==s)})(i(s)),s.style.zIndex="")},getCurrent:()=>n.length>0?n[n.length-1].value:0}}();const Mie=["*"];let Fg=(()=>{class n{label;spin=!1;styleClass;role;ariaLabel;ariaHidden;ngOnInit(){this.getAttributes()}getAttributes(){const t=G0.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=En({type:n,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[Ha],ngContentSelectors:Mie,decls:1,vars:0,template:function(r,i){1&r&&(Hy(),gl(0))},encapsulation:2,changeDetection:0})}return n})(),H3=(()=>{class n extends Fg{static \u0275fac=function(){let t;return function(i){return(t||(t=pn(n)))(i||n)}}();static \u0275cmp=En({type:n,selectors:[["CheckIcon"]],standalone:!0,features:[pt,Ha],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(r,i){1&r&&(eo(),ue(0,"svg",0),Ye(1,"path",1),Ce()),2&r&&(co(i.getClassNames()),Rt("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),$3=(()=>{class n extends Fg{pathId;ngOnInit(){this.pathId="url(#"+W0()+")"}static \u0275fac=function(){let t;return function(i){return(t||(t=pn(n)))(i||n)}}();static \u0275cmp=En({type:n,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[pt,Ha],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){1&r&&(eo(),ue(0,"svg",0)(1,"g"),Ye(2,"path",1)(3,"path",2)(4,"path",3),Ce(),ue(5,"defs")(6,"clipPath",4),Ye(7,"rect",5),Ce()()()),2&r&&(co(i.getClassNames()),Rt("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),Pe(1),Rt("clip-path",i.pathId),Pe(5),je("id",i.pathId))},encapsulation:2})}return n})(),z3=(()=>{class n extends Fg{pathId;ngOnInit(){this.pathId="url(#"+W0()+")"}static \u0275fac=function(){let t;return function(i){return(t||(t=pn(n)))(i||n)}}();static \u0275cmp=En({type:n,selectors:[["InfoCircleIcon"]],standalone:!0,features:[pt,Ha],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){1&r&&(eo(),ue(0,"svg",0)(1,"g"),Ye(2,"path",1),Ce(),ue(3,"defs")(4,"clipPath",2),Ye(5,"rect",3),Ce()()()),2&r&&(co(i.getClassNames()),Rt("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),Pe(1),Rt("clip-path",i.pathId),Pe(3),je("id",i.pathId))},encapsulation:2})}return n})(),q3=(()=>{class n extends Fg{static \u0275fac=function(){let t;return function(i){return(t||(t=pn(n)))(i||n)}}();static \u0275cmp=En({type:n,selectors:[["TimesIcon"]],standalone:!0,features:[pt,Ha],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(r,i){1&r&&(eo(),ue(0,"svg",0),Ye(1,"path",1),Ce()),2&r&&(co(i.getClassNames()),Rt("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role))},encapsulation:2})}return n})(),G3=(()=>{class n extends Fg{pathId;ngOnInit(){this.pathId="url(#"+W0()+")"}static \u0275fac=function(){let t;return function(i){return(t||(t=pn(n)))(i||n)}}();static \u0275cmp=En({type:n,selectors:[["TimesCircleIcon"]],standalone:!0,features:[pt,Ha],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(r,i){1&r&&(eo(),ue(0,"svg",0)(1,"g"),Ye(2,"path",1),Ce(),ue(3,"defs")(4,"clipPath",2),Ye(5,"rect",3),Ce()()()),2&r&&(co(i.getClassNames()),Rt("aria-label",i.ariaLabel)("aria-hidden",i.ariaHidden)("role",i.role),Pe(1),Rt("clip-path",i.pathId),Pe(3),je("id",i.pathId))},encapsulation:2})}return n})(),Ci=(()=>{class n{static zindex=1e3;static calculatedScrollbarWidth=null;static calculatedScrollbarHeight=null;static browser;static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let s=0;s<i.length;s++)t.classList.add(i[s])}else{let i=r.split(" ");for(let s=0;s<i.length;s++)t.className+=" "+i[s]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static removeMultipleClasses(t,r){t&&r&&[r].flat().filter(Boolean).forEach(i=>i.split(" ").forEach(s=>this.removeClass(t,s)))}static hasClass(t,r){return!(!t||!r)&&(t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var s=0;s<r.length;s++){if(r[s]==t)return i;1==r[s].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],s=0;for(var o=0;o<i.length;o++){if(i[o]==t)return s;i[o].attributes&&i[o].attributes[r]&&1==i[o].nodeType&&s++}return-1}static appendOverlay(t,r,i="self"){"self"!==i&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",s=!0){t&&r&&(s&&(t.style.minWidth=`${n.getOuterWidth(r)}px`),"self"===i?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r){const i=M=>{if(M)return"relative"===getComputedStyle(M).getPropertyValue("position")?M:i(M.parentElement)},s=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=r.offsetHeight,a=r.getBoundingClientRect(),c=this.getWindowScrollTop(),u=this.getWindowScrollLeft(),h=this.getViewport(),g=i(t)?.getBoundingClientRect()||{top:-1*c,left:-1*u};let y,b;a.top+o+s.height>h.height?(y=a.top-g.top-s.height,t.style.transformOrigin="bottom",a.top+y<0&&(y=-1*a.top)):(y=o+a.top-g.top,t.style.transformOrigin="top");const E=a.left+s.width-h.width;b=s.width>h.width?-1*(a.left-g.left):E>0?a.left-g.left-E:a.left-g.left,t.style.top=y+"px",t.style.left=b+"px"}static absolutePosition(t,r){const i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=i.height,o=i.width,a=r.offsetHeight,c=r.offsetWidth,u=r.getBoundingClientRect(),h=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),g=this.getViewport();let y,b;u.top+a+s>g.height?(y=u.top+h-s,t.style.transformOrigin="bottom",y<0&&(y=h)):(y=a+u.top+h,t.style.transformOrigin="top"),b=u.left+o>g.width?Math.max(0,u.left+m+c-o):u.left+m,t.style.top=y+"px",t.style.left=b+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const s=/(auto|scroll)/,o=a=>{let c=window.getComputedStyle(a,null);return s.test(c.getPropertyValue("overflow"))||s.test(c.getPropertyValue("overflowX"))||s.test(c.getPropertyValue("overflowY"))};for(let a of i){let c=1===a.nodeType&&a.dataset.scrollselectors;if(c){let u=c.split(",");for(let h of u){let m=this.findSingle(a,h);m&&o(m)&&r.push(m)}}9!==a.nodeType&&o(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),s=i?parseFloat(i):0,o=getComputedStyle(t).getPropertyValue("paddingTop"),a=o?parseFloat(o):0,c=t.getBoundingClientRect(),h=r.getBoundingClientRect().top+document.body.scrollTop-(c.top+document.body.scrollTop)-s-a,m=t.scrollTop,g=t.clientHeight,y=this.getOuterHeight(r);h<0?t.scrollTop=m+h:h+y>g&&(t.scrollTop=m+h-g+y)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,s=0,o=function(){s=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=s,i=+new Date,+s<1&&(window.requestAnimationFrame&&requestAnimationFrame(o)||setTimeout(o,16))};o()}static fadeOut(t,r){var i=1,a=50/r;let c=setInterval(()=>{(i-=a)<=0&&(i=0,clearInterval(c)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(o){return-1!==[].indexOf.call(document.querySelectorAll(o),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginLeft)+parseFloat(s.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let s=getComputedStyle(t);i+=parseFloat(s.marginTop)+parseFloat(s.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,s=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||s.clientWidth,height:t.innerHeight||i.clientHeight||s.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableElements(t,r=""){let i=this.find(t,`button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r},\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])${r}`),s=[];for(let o of i)"none"!=getComputedStyle(o).display&&"hidden"!=getComputedStyle(o).visibility&&s.push(o);return s}static getFirstFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[0]:null}static getLastFocusableElement(t,r){const i=this.getFocusableElements(t,r);return i.length>0?i[i.length-1]:null}static getNextFocusableElement(t,r=!1){const i=n.getFocusableElements(t);let s=0;if(i&&i.length>0){const o=i.indexOf(i[0].ownerDocument.activeElement);r?s=-1==o||0===o?i.length-1:o-1:-1!=o&&o!==i.length-1&&(s=o+1)}return i[s]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const i=typeof t;if("string"===i)return document.querySelector(t);if("object"===i&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const o=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return o&&9===o.nodeType||this.isExist(o)?o:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){const i=t.getAttribute(r);return isNaN(i)?"true"===i||"false"===i?"true"===i:i:+i}}static calculateBodyScrollbarWidth(){return window.innerWidth-document.documentElement.offsetWidth}static blockBodyScroll(t="p-overflow-hidden"){document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,t)}static unblockBodyScroll(t="p-overflow-hidden"){document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,t)}}return n})(),Pie=(()=>{class n{document;platformId;renderer;el;zone;config;constructor(t,r,i,s,o,a){this.document=t,this.platformId=r,this.renderer=i,this.el=s,this.zone=o,this.config=a}animationListener;mouseDownListener;timeout;ngAfterViewInit(){zO(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(Ci.removeClass(r,"p-ink-active"),!Ci.getHeight(r)&&!Ci.getWidth(r)){let a=Math.max(Ci.getOuterWidth(this.el.nativeElement),Ci.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=Ci.getOffset(this.el.nativeElement),s=t.pageX-i.left+this.document.body.scrollTop-Ci.getWidth(r)/2,o=t.pageY-i.top+this.document.body.scrollLeft-Ci.getHeight(r)/2;this.renderer.setStyle(r,"top",o+"px"),this.renderer.setStyle(r,"left",s+"px"),Ci.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&Ci.removeClass(a,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&Ci.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),Ci.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,Ci.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}static \u0275fac=function(r){return new(r||n)(z(yn),z(as),z(Ds),z(or),z(at),z(O3,8))};static \u0275dir=Ne({type:n,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})}return n})(),Nie=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xt({type:n});static \u0275inj=Yt({imports:[jp]})}return n})();const W3=["container"];function Oie(n,e){1&n&&Ye(0,"span"),2&n&&co("p-toast-message-icon pi "+Fn(2).message.icon)}function kie(n,e){1&n&&Ye(0,"CheckIcon"),2&n&&Rt("aria-hidden",!0)("data-pc-section","icon")}function Fie(n,e){1&n&&Ye(0,"InfoCircleIcon"),2&n&&Rt("aria-hidden",!0)("data-pc-section","icon")}function Lie(n,e){1&n&&Ye(0,"TimesCircleIcon"),2&n&&Rt("aria-hidden",!0)("data-pc-section","icon")}function Vie(n,e){1&n&&Ye(0,"ExclamationTriangleIcon"),2&n&&Rt("aria-hidden",!0)("data-pc-section","icon")}function Uie(n,e){if(1&n&&(ue(0,"span",11),Ip(1),wt(2,kie,1,2,"CheckIcon",3),wt(3,Fie,1,2,"InfoCircleIcon",3),wt(4,Lie,1,2,"TimesCircleIcon",3),wt(5,Vie,1,2,"ExclamationTriangleIcon",3),wp(),Ce()),2&n){const t=Fn(2);Rt("aria-hidden",!0)("data-pc-section","icon"),Pe(2),je("ngIf","success"===t.message.severity),Pe(1),je("ngIf","info"===t.message.severity),Pe(1),je("ngIf","error"===t.message.severity),Pe(1),je("ngIf","warn"===t.message.severity)}}function Bie(n,e){if(1&n&&(Ip(0),wt(1,Oie,1,2,"span",6),wt(2,Uie,6,6,"span",7),ue(3,"div",8)(4,"div",9),tt(5),Ce(),ue(6,"div",10),tt(7),Ce()(),wp()),2&n){const t=Fn();Pe(1),je("ngIf",t.message.icon),Pe(1),je("ngIf",!t.message.icon),Pe(1),Rt("data-pc-section","text"),Pe(1),Rt("data-pc-section","summary"),Pe(1),Dp(t.message.summary),Pe(1),Rt("data-pc-section","detail"),Pe(1),Dp(t.message.detail)}}function jie(n,e){1&n&&Tw(0)}function Hie(n,e){1&n&&Ye(0,"span"),2&n&&co("pt-1 text-base p-toast-message-icon pi "+Fn(2).message.closeIcon)}function $ie(n,e){1&n&&Ye(0,"TimesIcon",14),2&n&&(je("styleClass","p-toast-icon-close-icon"),Rt("aria-hidden",!0)("data-pc-section","closeicon"))}function zie(n,e){if(1&n){const t=Tp();ue(0,"button",12),Cn("click",function(i){return ws(t),Ts(Fn().onCloseIconClick(i))})("keydown.enter",function(i){return ws(t),Ts(Fn().onCloseIconClick(i))}),wt(1,Hie,1,2,"span",6),wt(2,$ie,1,3,"TimesIcon",13),Ce()}if(2&n){const t=Fn();Rt("aria-label","Close")("data-pc-section","closebutton"),Pe(1),je("ngIf",t.message.closeIcon),Pe(1),je("ngIf",!t.message.closeIcon)}}const qie=function(n){return[n,"p-toast-message"]},Gie=function(n,e,t,r){return{showTransformParams:n,hideTransformParams:e,showTransitionParams:t,hideTransitionParams:r}},Wie=function(n){return{value:"visible",params:n}},Kie=function(n){return{$implicit:n}};function Zie(n,e){if(1&n){const t=Tp();ue(0,"p-toastItem",3),Cn("onClose",function(i){return ws(t),Ts(Fn().onMessageClose(i))})("@toastAnimation.start",function(i){return ws(t),Ts(Fn().onAnimationStart(i))})("@toastAnimation.done",function(i){return ws(t),Ts(Fn().onAnimationEnd(i))}),Ce()}if(2&n){const t=e.$implicit,r=e.index,i=Fn();je("message",t)("index",r)("life",i.life)("template",i.template)("@toastAnimation",void 0)("showTransformOptions",i.showTransformOptions)("hideTransformOptions",i.hideTransformOptions)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions)}}let Qie=(()=>{class n{zone;message;index;life;template;showTransformOptions;hideTransformOptions;showTransitionOptions;hideTransitionOptions;onClose=new gn;containerViewChild;timeout;constructor(t){this.zone=t}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||this.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(t){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()}ngOnDestroy(){this.clearTimeout()}static \u0275fac=function(r){return new(r||n)(z(at))};static \u0275cmp=En({type:n,selectors:[["p-toastItem"]],viewQuery:function(r,i){if(1&r&&Ww(W3,5),2&r){let s;xd(s=Rd())&&(i.containerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",life:"life",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:24,consts:[["role","alert","aria-live","assertive","aria-atomic","true",3,"ngClass","mouseenter","mouseleave"],["container",""],[1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(r,i){1&r&&(ue(0,"div",0,1),Cn("mouseenter",function(){return i.onMouseEnter()})("mouseleave",function(){return i.onMouseLeave()}),ue(2,"div",2),wt(3,Bie,8,7,"ng-container",3),wt(4,jie,1,0,"ng-container",4),wt(5,zie,3,4,"button",5),Ce()()),2&r&&(co(null==i.message?null:i.message.styleClass),je("ngClass",Zy(13,qie,"p-toast-message-"+(null==i.message?null:i.message.severity)))("@messageState",Zy(20,Wie,nN(15,Gie,i.showTransformOptions,i.hideTransformOptions,i.showTransitionOptions,i.hideTransitionOptions))),Rt("id",null==i.message?null:i.message.id)("data-pc-name","toast")("data-pc-section","root"),Pe(2),je("ngClass",null==i.message?null:i.message.contentStyleClass),Rt("data-pc-section","content"),Pe(1),je("ngIf",!i.template),Pe(1),je("ngTemplateOutlet",i.template)("ngTemplateOutletContext",Zy(22,Kie,i.message)),Pe(1),je("ngIf",!1!==(null==i.message?null:i.message.closable)))},dependencies:function(){return[bv,kd,BO,Pie,H3,z3,G3,$3,q3]},encapsulation:2,data:{animation:[L3("messageState",[Die("visible",Og({transform:"translateY(0)",opacity:1})),YS("void => *",[Og({transform:"{{showTransformParams}}",opacity:0}),V3("{{showTransitionParams}}")]),YS("* => void",[V3("{{hideTransitionParams}}",Og({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})}return n})(),Yie=(()=>{class n{document;renderer;messageService;cd;config;key;autoZIndex=!0;baseZIndex=0;life=3e3;style;styleClass;get position(){return this._position}set position(t){this._position=t,this.cd.markForCheck()}preventOpenDuplicates=!1;preventDuplicates=!1;showTransformOptions="translateY(100%)";hideTransformOptions="translateY(-100%)";showTransitionOptions="300ms ease-out";hideTransitionOptions="250ms ease-in";breakpoints;onClose=new gn;containerViewChild;templates;messageSubscription;clearSubscription;messages;messagesArchieve;template;_position="top-right";constructor(t,r,i,s,o){this.document=t,this.renderer=r,this.messageService=i,this.cd=s,this.config=o}styleElement;id=W0();ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(Array.isArray(t)){const r=t.filter(i=>this.canAdd(i));this.add(r)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let r=this.key===t.key;return r&&this.preventOpenDuplicates&&(r=!this.containsMessage(this.messages,t)),r&&this.preventDuplicates&&(r=!this.containsMessage(this.messagesArchieve,t)),r}containsMessage(t,r){return!!t&&null!=t.find(i=>i.summary===r.summary&&i.detail==r.detail&&i.severity===r.severity)}ngAfterContentInit(){this.templates?.forEach(t=>{t.getType(),this.template=t.template})}onMessageClose(t){this.messages?.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){"void"===t.fromState&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&""===this.containerViewChild?.nativeElement.style.zIndex&&JS.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(t){"void"===t.toState&&this.autoZIndex&&G0.isEmpty(this.messages)&&JS.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let r in this.breakpoints){let i="";for(let s in this.breakpoints[r])i+=s+":"+this.breakpoints[r][s]+" !important;";t+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-toast[${this.id}] {\n                           ${i}\n                        }\n                    }\n                `}this.renderer.setProperty(this.styleElement,"innerHTML",t)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&JS.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}static \u0275fac=function(r){return new(r||n)(z(yn),z(Ds),z(q0),z(Lp),z(O3))};static \u0275cmp=En({type:n,selectors:[["p-toast"]],contentQueries:function(r,i,s){if(1&r&&ev(s,Xre,4),2&r){let o;xd(o=Rd())&&(i.templates=o)}},viewQuery:function(r,i){if(1&r&&Ww(W3,5),2&r){let s;xd(s=Rd())&&(i.containerViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",life:"life",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[1,"p-toast","p-component",3,"ngClass","ngStyle"],["container",""],[3,"message","index","life","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","life","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(r,i){1&r&&(ue(0,"div",0,1),wt(2,Zie,1,9,"p-toastItem",2),Ce()),2&r&&(co(i.styleClass),je("ngClass","p-toast-"+i._position)("ngStyle",i.style),Pe(2),je("ngForOf",i.messages))},dependencies:[bv,ST,UO,Qie],styles:["@layer primeng{.p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex:none}.p-toast-icon-close.p-link{cursor:pointer}}\n"],encapsulation:2,data:{animation:[L3("toastAnimation",[YS(":enter, :leave",[xie("@*",Sie())])])]},changeDetection:0})}return n})(),Xie=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Xt({type:n});static \u0275inj=Yt({imports:[jp,Nie,H3,z3,G3,$3,q3,Jre]})}return n})(),Jie=(()=>{class n{constructor(t){this.router=t}logOut(){sessionStorage.clear(),this.router.navigate(["login"])}static#e=this.\u0275fac=function(r){return new(r||n)(z(Cr))};static#t=this.\u0275cmp=En({type:n,selectors:[["app-navbar"]],decls:11,vars:0,consts:[["color","primary",1,"mat-elevation-z6"],["src","assets/images/favicon.png",1,"toolbar-logo"],[1,"title"],[1,"spacer"],["mat-raised-button","","color","accent","routerLink","to-do",1,"toolbar-link"],["mat-raised-button","","color","accent","routerLink","weather",1,"toolbar-link"],["mat-raised-button","","color","warn",1,"toolbar-link",3,"click"]],template:function(r,i){1&r&&(ue(0,"mat-toolbar",0),Ye(1,"img",1),ue(2,"span",2),tt(3,"TaskWeatherApp"),Ce(),Ye(4,"div",3),ue(5,"a",4),tt(6,"To-do"),Ce(),ue(7,"a",5),tt(8,"Weather"),Ce(),ue(9,"a",6),Cn("click",function(){return i.logOut()}),tt(10,"Logout"),Ce()())},dependencies:[Jd,oK,yK],styles:[".spacer[_ngcontent-%COMP%]{flex:1 1 auto}.toolbar-link[_ngcontent-%COMP%]{margin-left:10px}.title[_ngcontent-%COMP%]{font-weight:700;font-size:25px}.toolbar-logo[_ngcontent-%COMP%]{width:50px;height:50px;margin-right:10px}"]})}return n})();function ese(n,e){1&n&&Ye(0,"app-navbar")}let tse=(()=>{class n{constructor(t){this.router=t,this.title="TaskWeatherApp"}isAuthPage(){return"/login"===this.router.url||"/signup"===this.router.url||"**"===this.router.url}static#e=this.\u0275fac=function(r){return new(r||n)(z(Cr))};static#t=this.\u0275cmp=En({type:n,selectors:[["app-root"]],decls:7,vars:1,consts:[[4,"ngIf"],[1,"container"],[1,"row","justify-content-center"]],template:function(r,i){1&r&&(wt(0,ese,1,0,"app-navbar",0),ue(1,"body")(2,"div",1)(3,"div",2)(4,"div"),Ye(5,"router-outlet")(6,"p-toast"),Ce()()()()),2&r&&je("ngIf",!i.isAuthPage())},dependencies:[kd,fC,Yie,Jie],styles:["body[_ngcontent-%COMP%]{width:100%;height:100%;--color: rgba(114, 114, 114, .3);background-color:#191a1a;background-image:linear-gradient(0deg,transparent 24%,var(--color) 25%,var(--color) 26%,transparent 27%,transparent 74%,var(--color) 75%,var(--color) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,var(--color) 25%,var(--color) 26%,transparent 27%,transparent 74%,var(--color) 75%,var(--color) 76%,transparent 77%,transparent);background-size:55px 55px}"]})}return n})();const nse_firebaseConfig={apiKey:"AIzaSyAECt4RvctrGG5_kQ7sgHE8kk6KLiHxxH0",authDomain:"taskweatherapp-be7ed.firebaseapp.com",projectId:"taskweatherapp-be7ed",storageBucket:"taskweatherapp-be7ed.appspot.com",messagingSenderId:"129859748985",appId:"1:129859748985:web:c5ef7d7775a194882240a8"};function K3(n){return new O(3e3,!1)}function wc(n){switch(n.length){case 0:return new kg;case 1:return n[0];default:return new B3(n)}}function Z3(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(c=>{const u=c.get("offset"),h=u==o,m=h&&a||new Map;c.forEach((g,y)=>{let b=y,E=g;if("offset"!==y)switch(b=n.normalizePropertyName(b,i),E){case"!":E=t.get(y);break;case ca:E=r.get(y);break;default:E=n.normalizeStyleValue(y,b,E,i)}m.set(b,E)}),h||s.push(m),a=m,o=u}),i.length)throw function Cse(n){return new O(3502,!1)}();return s}function ex(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&tx(t,"start",n)));break;case"done":n.onDone(()=>r(t&&tx(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&tx(t,"destroy",n)))}}function tx(n,e,t){const s=nx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function nx(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function ji(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Q3(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const Lse=(()=>typeof document>"u"?null:document.documentElement)();function rx(n){const e=n.parentNode||n.host||null;return e===Lse?null:e}let ou=null,Y3=!1;function X3(n,e){for(;e;){if(e===n)return!0;e=rx(e)}return!1}function J3(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let e5=(()=>{class n{validateStyleProperty(t){return function Use(n){ou||(ou=function Bse(){return typeof document<"u"?document.body:null}()||{},Y3=!!ou.style&&"WebkitAppearance"in ou.style);let e=!0;return ou.style&&!function Vse(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ou.style,!e&&Y3&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ou.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return X3(t,r)}getParentElement(t){return rx(t)}query(t,r,i){return J3(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new kg(i,s)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})(),ix=(()=>{class n{static#e=this.NOOP=new e5}return n})();const jse=1e3,sx="ng-enter",K0="ng-leave",Z0="ng-trigger",Q0=".ng-trigger",n5="ng-animating",ox=".ng-animating";function la(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ax(parseFloat(e[1]),e[2])}function ax(n,e){return"s"===e?n*jse:n}function Y0(n,e,t){return n.hasOwnProperty("duration")?n:function $se(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(K3()),{duration:0,delay:0,easing:""};i=ax(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=ax(parseFloat(c),a[4]));const u=a[5];u&&(o=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function rse(){return new O(3100,!1)}()),a=!0),s<0&&(e.push(function ise(){return new O(3101,!1)}()),a=!0),a&&e.splice(c,0,K3())}return{duration:i,delay:s,easing:o}}(n,e,t)}function Lg(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function r5(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Tc(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Do(n,e,t){e.forEach((r,i)=>{const s=lx(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function au(n,e){e.forEach((t,r)=>{const i=lx(r);n.style[i]=""})}function Vg(n){return Array.isArray(n)?1==n.length?n[0]:U3(n):n}const cx=new RegExp("{{\\s*(.+?)\\s*}}","g");function s5(n){let e=[];if("string"==typeof n){let t;for(;t=cx.exec(n);)e.push(t[1]);cx.lastIndex=0}return e}function Ug(n,e,t){const r=n.toString(),i=r.replace(cx,(s,o)=>{let a=e[o];return null==a&&(t.push(function ose(n){return new O(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function X0(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Gse=/-+([a-z0-9])/g;function lx(n){return n.replace(Gse,(...e)=>e[1].toUpperCase())}function Hi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function ase(n){return new O(3004,!1)}()}}function o5(n,e){return window.getComputedStyle(n)[e]}const J0="*";function Zse(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Qse(n,e,t){if(":"==n[0]){const c=function Yse(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Ese(n){return new O(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function bse(n){return new O(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(a5(i,o));"<"==s[0]&&!(i==J0&&o==J0)&&e.push(a5(o,i))}(r,t,e)):t.push(n),t}const eE=new Set(["true","1"]),tE=new Set(["false","0"]);function a5(n,e){const t=eE.has(n)||tE.has(n),r=eE.has(e)||tE.has(e);return(i,s)=>{let o=n==J0||n==i,a=e==J0||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?eE.has(n):tE.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?eE.has(e):tE.has(e)),o&&a}}const Xse=new RegExp("s*:selfs*,?","g");function ux(n,e,t,r){return new Jse(n).build(e,t,r)}class Jse{constructor(e){this._driver=e}build(e,t,r){const i=new noe(t);return this._resetContextStyleTimingState(i),Hi(this,Vg(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function lse(){return new O(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(h=>{c.name=h,s.push(this.visitState(c,t))}),c.name=u}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function use(){return new O(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{s5(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(X0(s.values()),t.errors.push(function dse(n,e){return new O(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Hi(this,Vg(e.animation),t);return{type:1,matchers:Zse(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:cu(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Hi(this,r,t)),options:cu(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Hi(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:cu(e.options)}}visitAnimate(e,t){const r=function ioe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return dx(Y0(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=dx(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=Y0(t,e);return dx(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:Og({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=Og(u)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===ca?r.push(a):t.errors.push(new O(3002,!1)):r.push(r5(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const u=t.collectedStyles.get(t.currentQuerySelector),h=u.get(c);let m=!0;h&&(s!=i&&s>=h.startTime&&i<=h.endTime&&(t.errors.push(function fse(n,e,t,r,i){return new O(3010,!1)}()),m=!1),s=h.startTime),m&&u.set(c,{startTime:s,endTime:i}),t.options&&function qse(n,e,t){const r=e.params||{},i=s5(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function sse(n){return new O(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function pse(){return new O(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,u=0;const h=e.steps.map(M=>{const x=this._makeStyleAst(M,t);let F=null!=x.offset?x.offset:function roe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(x.styles),Q=0;return null!=F&&(s++,Q=x.offset=F),c=c||Q<0||Q>1,a=a||Q<u,u=Q,o.push(Q),x});c&&t.errors.push(function mse(){return new O(3012,!1)}()),a&&t.errors.push(function gse(){return new O(3200,!1)}());const m=e.steps.length;let g=0;s>0&&s<m?t.errors.push(function _se(){return new O(3202,!1)}()):0==s&&(g=1/(m-1));const y=m-1,b=t.currentTime,E=t.currentAnimateTimings,w=E.duration;return h.forEach((M,x)=>{const F=g>0?x==y?1:g*x:o[x],Q=F*w;t.currentTime=b+E.delay+Q,E.duration=Q,this._validateStyleAst(M,t),M.offset=F,r.styles.push(M)}),r}visitReference(e,t){return{type:8,animation:Hi(this,Vg(e.animation),t),options:cu(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:cu(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:cu(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function eoe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Xse,"")),n=n.replace(/@\*/g,Q0).replace(/@\w+/g,t=>Q0+"-"+t.slice(1)).replace(/:animating/g,ox),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,ji(t.collectedStyles,t.currentQuerySelector,new Map);const a=Hi(this,Vg(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:cu(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function yse(){return new O(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:Y0(e.timings,t.errors,!0);return{type:12,animation:Hi(this,Vg(e.animation),t),timings:r,options:null}}}class noe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function cu(n){return n?(n=Lg(n)).params&&(n.params=function toe(n){return n?Lg(n):null}(n.params)):n={},n}function dx(n,e,t){return{duration:n,delay:e,easing:t}}function hx(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class nE{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const aoe=new RegExp(":enter","g"),loe=new RegExp(":leave","g");function fx(n,e,t,r,i,s=new Map,o=new Map,a,c,u=[]){return(new uoe).buildKeyframes(n,e,t,r,i,s,o,a,c,u)}class uoe{buildKeyframes(e,t,r,i,s,o,a,c,u,h=[]){u=u||new nE;const m=new px(e,t,u,i,s,h,[]);m.options=c;const g=c.delay?la(c.delay):0;m.currentTimeline.delayNextStep(g),m.currentTimeline.setStyles([o],null,m.errors,c),Hi(this,r,m);const y=m.timelines.filter(b=>b.containsAnimation());if(y.length&&a.size){let b;for(let E=y.length-1;E>=0;E--){const w=y[E];if(w.element===t){b=w;break}}b&&!b.allowOnlyTimelineStyles()&&b.setStyles([a],null,m.errors,c)}return y.length?y.map(b=>b.buildKeyframes()):[hx(t,[],[],[],0,g,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:la(Ug(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?la(r.duration):null,a=null!=r.delay?la(r.delay):null;return 0!==o&&e.forEach(c=>{const u=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Hi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=rE);const o=la(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Hi(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?la(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Hi(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return Y0(t.params?Ug(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?la(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=rE);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,h)=>{t.currentQueryIndex=h;const m=t.createSubContext(e.options,u);s&&m.delayNextStep(s),u===t.element&&(c=m.currentTimeline),Hi(this,e.animation,m),m.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const h=t.currentTimeline;c&&h.delayNextStep(c);const m=h.currentTime;Hi(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const rE={};class px{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new iE(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=la(r.duration)),null!=r.delay&&(i.delay=la(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Ug(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new px(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=rE,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new doe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(aoe,"."+this._enterClassName)).replace(loe,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function vse(n){return new O(3014,!1)}()),a}}class iE{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new iE(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||ca),this._currentKeyframe.set(t,ca);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function hoe(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,ca)}else Tc(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const u=Ug(c,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ca),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const u=Tc(a,new Map,this._backFill);u.forEach((h,m)=>{"!"===h?e.add(m):h===ca&&t.add(m)}),r||u.set("offset",c/this.duration),i.push(u)});const s=e.size?X0(e.values()):[],o=t.size?X0(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return hx(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class doe extends iE{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=Tc(e[0]);c.set("offset",0),s.push(c);const u=Tc(e[0]);u.set("offset",u5(a)),s.push(u);const h=e.length-1;for(let m=1;m<=h;m++){let g=Tc(e[m]);const y=g.get("offset");g.set("offset",u5((t+y*r)/o)),s.push(g)}r=o,t=0,i="",e=s}return hx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function u5(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class mx{}const foe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class poe extends mx{normalizePropertyName(e,t){return lx(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(foe.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function cse(n,e){return new O(3005,!1)}())}return o+s}}function d5(n,e,t,r,i,s,o,a,c,u,h,m,g){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:h,totalTime:m,errors:g}}const gx={};class h5{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function moe(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,u,h){const m=[],g=this.ast.options&&this.ast.options.params||gx,b=this.buildStyles(r,a&&a.params||gx,m),E=c&&c.params||gx,w=this.buildStyles(i,E,m),M=new Set,x=new Map,F=new Map,Q="void"===i,le={params:goe(E,g),delay:this.ast.options?.delay},De=h?[]:fx(e,t,this.ast.animation,s,o,b,w,le,u,m);let qe=0;if(De.forEach(pi=>{qe=Math.max(pi.duration+pi.delay,qe)}),m.length)return d5(t,this._triggerName,r,i,Q,b,w,[],[],x,F,qe,m);De.forEach(pi=>{const Ai=pi.element,cE=ji(x,Ai,new Set);pi.preStyleProps.forEach(lu=>cE.add(lu));const jg=ji(F,Ai,new Set);pi.postStyleProps.forEach(lu=>jg.add(lu)),Ai!==t&&M.add(Ai)});const jt=X0(M.values());return d5(t,this._triggerName,r,i,Q,b,w,De,jt,x,F,qe)}}function goe(n,e){const t=Lg(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class _oe{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Lg(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=Ug(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class voe{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new _oe(i.style,i.options&&i.options.params||{},r))}),f5(this.states,"true","1"),f5(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new h5(e,i,this.states))}),this.fallbackTransition=function boe(n,e,t){return new h5(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function f5(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const Eoe=new nE;class Ioe{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=ux(this._driver,t,r,[]);if(r.length)throw function Ase(n){return new O(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Z3(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=fx(this._driver,t,s,sx,K0,new Map,new Map,r,Eoe,i),o.forEach(h=>{const m=ji(a,h.element,new Map);h.postStyleProps.forEach(g=>m.set(g,null))})):(i.push(function Dse(){return new O(3300,!1)}()),o=[]),i.length)throw function Sse(n){return new O(3504,!1)}();a.forEach((h,m)=>{h.forEach((g,y)=>{h.set(y,this._driver.computeStyle(m,y,ca))})});const u=wc(o.map(h=>{const m=a.get(h.element);return this._buildPlayer(h,new Map,m)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function xse(n){return new O(3301,!1)}();return t}listen(e,t,r,i){const s=nx(t,"","","");return ex(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const p5="ng-animate-queued",_x="ng-animate-disabled",Doe=[],m5={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Soe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ls="__ng_removed";class yx{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function Poe(n){return n??null}(r?e.value:e),r){const s=Lg(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Bg="void",vx=new yx(Bg);class xoe{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,fs(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function Rse(n,e){return new O(3302,!1)}();if(null==r||0==r.length)throw function Mse(n){return new O(3303,!1)}();if(!function Noe(n){return"start"==n||"done"==n}(r))throw function Pse(n,e){return new O(3400,!1)}();const s=ji(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=ji(this._engine.statesByElement,e,new Map);return a.has(t)||(fs(e,Z0),fs(e,Z0+"-"+t),a.set(t,vx)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Nse(n){return new O(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new bx(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(fs(e,Z0),fs(e,Z0+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const u=new yx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=vx),u.value!==Bg&&c.value===u.value){if(!function Foe(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,u.params)){const E=[],w=s.matchStyles(c.value,c.params,E),M=s.matchStyles(u.value,u.params,E);E.length?this._engine.reportError(E):this._engine.afterFlush(()=>{au(e,w),Do(e,M)})}return}const g=ji(this._engine.playersByElement,e,[]);g.forEach(E=>{E.namespaceId==this.id&&E.triggerName==t&&E.queued&&E.destroy()});let y=s.matchTransition(c.value,u.value,e,u.params),b=!1;if(!y){if(!i)return;y=s.fallbackTransition,b=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:y,fromState:c,toState:u,player:o,isFallbackTransition:b}),b||(fs(e,p5),o.onStart(()=>{Wh(e,p5)})),o.onDone(()=>{let E=this.players.indexOf(o);E>=0&&this.players.splice(E,1);const w=this._engine.playersByElement.get(e);if(w){let M=w.indexOf(o);M>=0&&w.splice(M,1)}}),this.players.push(o),g.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Q0,!0);r.forEach(i=>{if(i[Ls])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){const h=this.trigger(e,u,Bg,i);h&&a.push(h)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&wc(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,u=r.get(o)||vx,h=new yx(Bg),m=new bx(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:h,player:m,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Ls];(!s||s===m5)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){fs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=nx(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,ex(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class Roe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new xoe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const u=r.indexOf(c);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(sE(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!sE(t))return;const s=t[Ls];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),fs(e,_x)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Wh(e,_x))}removeNode(e,t,r){if(sE(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[Ls]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return sE(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Q0,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,ox,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return wc(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Ls];if(t&&t.setForRemoval){if(e[Ls]=m5,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(_x)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)fs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?wc(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Ose(n){return new O(3402,!1)}()}_flushAnimations(e,t){const r=new nE,i=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,h=new Set;this.disabledNodes.forEach(Se=>{h.add(Se);const ke=this.driver.query(Se,".ng-animate-queued",!0);for(let He=0;He<ke.length;He++)h.add(ke[He])});const m=this.bodyNode,g=Array.from(this.statesByElement.keys()),y=y5(g,this.collectedEnterElements),b=new Map;let E=0;y.forEach((Se,ke)=>{const He=sx+E++;b.set(ke,He),Se.forEach(St=>fs(St,He))});const w=[],M=new Set,x=new Set;for(let Se=0;Se<this.collectedLeaveElements.length;Se++){const ke=this.collectedLeaveElements[Se],He=ke[Ls];He&&He.setForRemoval&&(w.push(ke),M.add(ke),He.hasAnimation?this.driver.query(ke,".ng-star-inserted",!0).forEach(St=>M.add(St)):x.add(ke))}const F=new Map,Q=y5(g,Array.from(M));Q.forEach((Se,ke)=>{const He=K0+E++;F.set(ke,He),Se.forEach(St=>fs(St,He))}),e.push(()=>{y.forEach((Se,ke)=>{const He=b.get(ke);Se.forEach(St=>Wh(St,He))}),Q.forEach((Se,ke)=>{const He=F.get(ke);Se.forEach(St=>Wh(St,He))}),w.forEach(Se=>{this.processLeaveNode(Se)})});const le=[],De=[];for(let Se=this._namespaceList.length-1;Se>=0;Se--)this._namespaceList[Se].drainQueuedTransitions(t).forEach(He=>{const St=He.player,yr=He.element;if(le.push(St),this.collectedEnterElements.length){const Kr=yr[Ls];if(Kr&&Kr.setForMove){if(Kr.previousTriggersValues&&Kr.previousTriggersValues.has(He.triggerName)){const uu=Kr.previousTriggersValues.get(He.triggerName),ps=this.statesByElement.get(He.element);if(ps&&ps.has(He.triggerName)){const lE=ps.get(He.triggerName);lE.value=uu,ps.set(He.triggerName,lE)}}return void St.destroy()}}const So=!m||!this.driver.containsElement(m,yr),$i=F.get(yr),Cc=b.get(yr),An=this._buildInstruction(He,r,Cc,$i,So);if(An.errors&&An.errors.length)return void De.push(An);if(So)return St.onStart(()=>au(yr,An.fromStyles)),St.onDestroy(()=>Do(yr,An.toStyles)),void i.push(St);if(He.isFallbackTransition)return St.onStart(()=>au(yr,An.fromStyles)),St.onDestroy(()=>Do(yr,An.toStyles)),void i.push(St);const x5=[];An.timelines.forEach(Kr=>{Kr.stretchStartingKeyframe=!0,this.disabledNodes.has(Kr.element)||x5.push(Kr)}),An.timelines=x5,r.append(yr,An.timelines),o.push({instruction:An,player:St,element:yr}),An.queriedElements.forEach(Kr=>ji(a,Kr,[]).push(St)),An.preStyleProps.forEach((Kr,uu)=>{if(Kr.size){let ps=c.get(uu);ps||c.set(uu,ps=new Set),Kr.forEach((lE,wx)=>ps.add(wx))}}),An.postStyleProps.forEach((Kr,uu)=>{let ps=u.get(uu);ps||u.set(uu,ps=new Set),Kr.forEach((lE,wx)=>ps.add(wx))})});if(De.length){const Se=[];De.forEach(ke=>{Se.push(function kse(n,e){return new O(3505,!1)}())}),le.forEach(ke=>ke.destroy()),this.reportError(Se)}const qe=new Map,jt=new Map;o.forEach(Se=>{const ke=Se.element;r.has(ke)&&(jt.set(ke,ke),this._beforeAnimationBuild(Se.player.namespaceId,Se.instruction,qe))}),i.forEach(Se=>{const ke=Se.element;this._getPreviousPlayers(ke,!1,Se.namespaceId,Se.triggerName,null).forEach(St=>{ji(qe,ke,[]).push(St),St.destroy()})});const pi=w.filter(Se=>b5(Se,c,u)),Ai=new Map;_5(Ai,this.driver,x,u,ca).forEach(Se=>{b5(Se,c,u)&&pi.push(Se)});const jg=new Map;y.forEach((Se,ke)=>{_5(jg,this.driver,new Set(Se),c,"!")}),pi.forEach(Se=>{const ke=Ai.get(Se),He=jg.get(Se);Ai.set(Se,new Map([...ke?.entries()??[],...He?.entries()??[]]))});const lu=[],D5=[],S5={};o.forEach(Se=>{const{element:ke,player:He,instruction:St}=Se;if(r.has(ke)){if(h.has(ke))return He.onDestroy(()=>Do(ke,St.toStyles)),He.disabled=!0,He.overrideTotalTime(St.totalTime),void i.push(He);let yr=S5;if(jt.size>1){let $i=ke;const Cc=[];for(;$i=$i.parentNode;){const An=jt.get($i);if(An){yr=An;break}Cc.push($i)}Cc.forEach(An=>jt.set(An,yr))}const So=this._buildAnimation(He.namespaceId,St,qe,s,jg,Ai);if(He.setRealPlayer(So),yr===S5)lu.push(He);else{const $i=this.playersByElement.get(yr);$i&&$i.length&&(He.parentPlayer=wc($i)),i.push(He)}}else au(ke,St.fromStyles),He.onDestroy(()=>Do(ke,St.toStyles)),D5.push(He),h.has(ke)&&i.push(He)}),D5.forEach(Se=>{const ke=s.get(Se.element);if(ke&&ke.length){const He=wc(ke);Se.setRealPlayer(He)}}),i.forEach(Se=>{Se.parentPlayer?Se.syncPlayerEvents(Se.parentPlayer):Se.destroy()});for(let Se=0;Se<w.length;Se++){const ke=w[Se],He=ke[Ls];if(Wh(ke,K0),He&&He.hasAnimation)continue;let St=[];if(a.size){let So=a.get(ke);So&&So.length&&St.push(...So);let $i=this.driver.query(ke,ox,!0);for(let Cc=0;Cc<$i.length;Cc++){let An=a.get($i[Cc]);An&&An.length&&St.push(...An)}}const yr=St.filter(So=>!So.destroyed);yr.length?Ooe(this,ke,yr):this.processLeaveNode(ke)}return w.length=0,lu.forEach(Se=>{this.players.push(Se),Se.onDone(()=>{Se.destroy();const ke=this.players.indexOf(Se);this.players.splice(ke,1)}),Se.play()}),lu}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==Bg;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const u=c.element,h=u!==s,m=ji(r,u,[]);this._getPreviousPlayers(u,h,o,a,t.toState).forEach(y=>{const b=y.getRealPlayer();b.beforeDestroy&&b.beforeDestroy(),y.destroy(),m.push(y)})}au(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,u=[],h=new Set,m=new Set,g=t.timelines.map(b=>{const E=b.element;h.add(E);const w=E[Ls];if(w&&w.removedBeforeQueried)return new kg(b.duration,b.delay);const M=E!==c,x=function koe(n){const e=[];return v5(n,e),e}((r.get(E)||Doe).map(qe=>qe.getRealPlayer())).filter(qe=>!!qe.element&&qe.element===E),F=s.get(E),Q=o.get(E),le=Z3(this._normalizer,b.keyframes,F,Q),De=this._buildPlayer(b,le,x);if(b.subTimeline&&i&&m.add(E),M){const qe=new bx(e,a,E);qe.setRealPlayer(De),u.push(qe)}return De});u.forEach(b=>{ji(this.playersByQueriedElement,b.element,[]).push(b),b.onDone(()=>function Moe(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,b.element,b))}),h.forEach(b=>fs(b,n5));const y=wc(g);return y.onDestroy(()=>{h.forEach(b=>Wh(b,n5)),Do(c,t.toStyles)}),m.forEach(b=>{ji(i,b,[]).push(y)}),y}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new kg(e.duration,e.delay)}}class bx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new kg,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>ex(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ji(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function sE(n){return n&&1===n.nodeType}function g5(n,e){const t=n.style.display;return n.style.display=e??"none",t}function _5(n,e,t,r,i){const s=[];t.forEach(c=>s.push(g5(c)));const o=[];r.forEach((c,u)=>{const h=new Map;c.forEach(m=>{const g=e.computeStyle(u,m,i);h.set(m,g),(!g||0==g.length)&&(u[Ls]=Soe,o.push(u))}),n.set(u,h)});let a=0;return t.forEach(c=>g5(c,s[a++])),o}function y5(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let c=s.get(a);if(c)return c;const u=a.parentNode;return c=t.has(u)?u:i.has(u)?1:o(u),s.set(a,c),c}return e.forEach(a=>{const c=o(a);1!==c&&t.get(c).push(a)}),t}function fs(n,e){n.classList?.add(e)}function Wh(n,e){n.classList?.remove(e)}function Ooe(n,e,t){wc(t).onDone(()=>n.processLeaveNode(e))}function v5(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof B3?v5(r.players,e):e.push(r)}}function b5(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class oE{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new Roe(e,t,r),this._timelineEngine=new Ioe(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],h=ux(this._driver,s,c,[]);if(c.length)throw function Tse(n,e){return new O(3404,!1)}();a=function yoe(n,e,t){return new voe(n,e,t)}(i,h,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=Q3(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=Q3(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let Voe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Do(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Do(this._element,this._initialStyles),this._endStyles&&(Do(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(au(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(au(this._element,this._endStyles),this._endStyles=null),Do(this._element,this._initialStyles),this._state=3)}}return n})();function Ex(n){let e=null;return n.forEach((t,r)=>{(function Uoe(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class E5{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:o5(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Boe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return X3(e,t)}getParentElement(e){return rx(e)}query(e,t,r){return J3(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const u=new Map,h=o.filter(y=>y instanceof E5);(function Wse(n,e){return 0===n||0===e})(r,i)&&h.forEach(y=>{y.currentSnapshot.forEach((b,E)=>u.set(E,b))});let m=function zse(n){return n.length?n[0]instanceof Map?n:n.map(e=>r5(e)):[]}(t).map(y=>Tc(y));m=function Kse(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,o5(n,a)))}}return e}(e,m,u);const g=function Loe(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Ex(e[0]),e.length>1&&(r=Ex(e[e.length-1]))):e instanceof Map&&(t=Ex(e)),t||r?new Voe(n,t,r):null}(e,m);return new E5(e,m,c,g)}}let joe=(()=>{class n extends F3{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:Xr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?U3(t):t;return I5(this._renderer,null,r,"register",[i]),new Hoe(r,this._renderer)}static#e=this.\u0275fac=function(r){return new(r||n)(Y(hp),Y(yn))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();class Hoe extends Aie{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new $oe(this._id,e,t||{},this._renderer)}}class $oe{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return I5(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function I5(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const w5="@.disabled";let zoe=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let h=this._rendererCache.get(s);return h||(h=new T5("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,h)),h}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=h=>{Array.isArray(h)?h.forEach(c):this.engine.registerTrigger(o,a,t,h.name,h)};return r.data.animation.forEach(c),new qoe(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(hp),Y(oE),Y(at))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();class T5{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==w5?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class qoe extends T5{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==w5?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function Goe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function Woe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let Koe=(()=>{class n extends oE{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(r){return new(r||n)(Y(yn),Y(ix),Y(mx),Y(bl))};static#t=this.\u0275prov=me({token:n,factory:n.\u0275fac})}return n})();const C5=[{provide:F3,useClass:joe},{provide:mx,useFactory:function Zoe(){return new poe}},{provide:oE,useClass:Koe},{provide:hp,useFactory:function Qoe(n,e,t){return new zoe(n,e,t)},deps:[BT,oE,at]}],Ix=[{provide:ix,useFactory:()=>new Boe},{provide:lp,useValue:"BrowserAnimations"},...C5],A5=[{provide:ix,useClass:e5},{provide:lp,useValue:"NoopAnimations"},...C5];let Yoe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?A5:Ix}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n});static#n=this.\u0275inj=Yt({providers:Ix,imports:[ck]})}return n})(),Xoe=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Xt({type:n,bootstrap:[tse]});static#n=this.\u0275inj=Yt({providers:[q0],imports:[ck,Cie,tW.initializeApp(nse_firebaseConfig),Yoe,jp,aK,bK,Ere,qre,Xie,bre]})}return n})();SG().bootstrapModule(Xoe).catch(n=>console.error(n))},106:(ms,Kn,We)=>{We.d(Kn,{Z:()=>Qn});var I=We(58),Le=We(537),$=We(534),Ve=We(879);class bt{constructor($e,Xe){this._delegate=$e,this.firebase=Xe,(0,$._addComponent)($e,new Le.wA("app-compat",()=>this,"PUBLIC")),this.container=$e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled($e){this._delegate.automaticDataCollectionEnabled=$e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise($e=>{this._delegate.checkDestroyed(),$e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,$.deleteApp)(this._delegate)))}_getService($e,Xe=$._DEFAULT_ENTRY_NAME){var Yn;this._delegate.checkDestroyed();const Xn=this._delegate.container.getProvider($e);return!Xn.isInitialized()&&"EXPLICIT"===(null===(Yn=Xn.getComponent())||void 0===Yn?void 0:Yn.instantiationMode)&&Xn.initialize(),Xn.getImmediate({identifier:Xe})}_removeServiceInstance($e,Xe=$._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider($e).clearInstance(Xe)}_addComponent($e){(0,$._addComponent)(this._delegate,$e)}_addOrOverwriteComponent($e){(0,$._addOrOverwriteComponent)(this._delegate,$e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const hn=new I.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function ct(){const At=function Zn(At){const $e={},Xe={__esModule:!0,initializeApp:function Gt(Je,Bn={}){const J=$.initializeApp(Je,Bn);if((0,I.r3)($e,J.name))return $e[J.name];const sn=new At(J,Xe);return $e[J.name]=sn,sn},app:Xn,registerVersion:$.registerVersion,setLogLevel:$.setLogLevel,onLog:$.onLog,apps:null,SDK_VERSION:$.SDK_VERSION,INTERNAL:{registerComponent:function Vt(Je){const Bn=Je.name,J=Bn.replace("-compat","");if($._registerComponent(Je)&&"PUBLIC"===Je.type){const sn=(Wt=Xn())=>{if("function"!=typeof Wt[J])throw hn.create("invalid-app-argument",{appName:Bn});return Wt[J]()};void 0!==Je.serviceProps&&(0,I.ZB)(sn,Je.serviceProps),Xe[J]=sn,At.prototype[J]=function(...Wt){return this._getService.bind(this,Bn).apply(this,Je.multipleInstances?Wt:[])}}return"PUBLIC"===Je.type?Xe[J]:null},removeApp:function Yn(Je){delete $e[Je]},useAsService:function Mr(Je,Bn){return"serverAuth"===Bn?null:Bn},modularAPIs:$}};function Xn(Je){if(!(0,I.r3)($e,Je=Je||$._DEFAULT_ENTRY_NAME))throw hn.create("no-app",{appName:Je});return $e[Je]}return Xe.default=Xe,Object.defineProperty(Xe,"apps",{get:function Dt(){return Object.keys($e).map(Je=>$e[Je])}}),Xn.App=At,Xe}(bt);return At.INTERNAL=Object.assign(Object.assign({},At.INTERNAL),{createFirebaseNamespace:ct,extendNamespace:function $e(Xe){(0,I.ZB)(At,Xe)},createSubscribe:I.ne,ErrorFactory:I.LL,deepExtend:I.ZB}),At}(),ae=new Ve.Yd("@firebase/app-compat");if((0,I.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const At=self.firebase.SDK_VERSION;At&&At.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qn=ee;!function Et(At){(0,$.registerVersion)("@firebase/app-compat","0.2.23",At)}()},534:(ms,Kn,We)=>{We.r(Kn),We.d(Kn,{FirebaseError:()=>Ve.ZR,SDK_VERSION:()=>Us,_DEFAULT_ENTRY_NAME:()=>Di,_addComponent:()=>Vs,_addOrOverwriteComponent:()=>dr,_apps:()=>Nr,_clearComponents:()=>Hn,_components:()=>_s,_getProvider:()=>Kt,_registerComponent:()=>Ro,_removeServiceInstance:()=>Si,deleteApp:()=>br,getApp:()=>Bs,getApps:()=>fa,initializeApp:()=>ha,onLog:()=>pa,registerVersion:()=>js,setLogLevel:()=>du});var I=We(861),Le=We(537),$=We(879),Ve=We(58);const bt=(L,R)=>R.some(ie=>L instanceof ie);let rn,hn;const ee=new WeakMap,ae=new WeakMap,Te=new WeakMap,ot=new WeakMap,Et=new WeakMap;let $e={get(L,R,ie){if(L instanceof IDBTransaction){if("done"===R)return ae.get(L);if("objectStoreNames"===R)return L.objectStoreNames||Te.get(L);if("store"===R)return ie.objectStoreNames[1]?void 0:ie.objectStore(ie.objectStoreNames[0])}return Gt(L[R])},set:(L,R,ie)=>(L[R]=ie,!0),has:(L,R)=>L instanceof IDBTransaction&&("done"===R||"store"===R)||R in L};function Xn(L){return"function"==typeof L?function Yn(L){return L!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ct(){return hn||(hn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(L)?function(...R){return L.apply(Dt(this),R),Gt(ee.get(this))}:function(...R){return Gt(L.apply(Dt(this),R))}:function(R,...ie){const xe=L.call(Dt(this),R,...ie);return Te.set(xe,R.sort?R.sort():[R]),Gt(xe)}}(L):(L instanceof IDBTransaction&&function At(L){if(ae.has(L))return;const R=new Promise((ie,xe)=>{const ze=()=>{L.removeEventListener("complete",it),L.removeEventListener("error",O),L.removeEventListener("abort",O)},it=()=>{ie(),ze()},O=()=>{xe(L.error||new DOMException("AbortError","AbortError")),ze()};L.addEventListener("complete",it),L.addEventListener("error",O),L.addEventListener("abort",O)});ae.set(L,R)}(L),bt(L,function Zn(){return rn||(rn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(L,$e):L)}function Gt(L){if(L instanceof IDBRequest)return function Qn(L){const R=new Promise((ie,xe)=>{const ze=()=>{L.removeEventListener("success",it),L.removeEventListener("error",O)},it=()=>{ie(Gt(L.result)),ze()},O=()=>{xe(L.error),ze()};L.addEventListener("success",it),L.addEventListener("error",O)});return R.then(ie=>{ie instanceof IDBCursor&&ee.set(ie,L)}).catch(()=>{}),Et.set(R,L),R}(L);if(ot.has(L))return ot.get(L);const R=Xn(L);return R!==L&&(ot.set(L,R),Et.set(R,L)),R}const Dt=L=>Et.get(L),Je=["get","getKey","getAll","getAllKeys","count"],Bn=["put","add","delete","clear"],J=new Map;function sn(L,R){if(!(L instanceof IDBDatabase)||R in L||"string"!=typeof R)return;if(J.get(R))return J.get(R);const ie=R.replace(/FromIndex$/,""),xe=R!==ie,ze=Bn.includes(ie);if(!(ie in(xe?IDBIndex:IDBObjectStore).prototype)||!ze&&!Je.includes(ie))return;const it=function(){var O=(0,I.Z)(function*(Dn,...we){const lt=this.transaction(Dn,ze?"readwrite":"readonly");let ga=lt.store;return xe&&(ga=ga.index(we.shift())),(yield Promise.all([ga[ie](...we),ze&&lt.done]))[0]});return function(we){return O.apply(this,arguments)}}();return J.set(R,it),it}!function Xe(L){$e=L($e)}(L=>({...L,get:(R,ie,xe)=>sn(R,ie)||L.get(R,ie,xe),has:(R,ie)=>!!sn(R,ie)||L.has(R,ie)}));class Wt{constructor(R){this.container=R}getPlatformInfoString(){return this.container.getProviders().map(ie=>{if(function Pn(L){const R=L.getComponent();return"VERSION"===R?.type}(ie)){const xe=ie.getImmediate();return`${xe.library}/${xe.version}`}return null}).filter(ie=>ie).join(" ")}}const zi="@firebase/app",dt=new $.Yd("@firebase/app"),Di="[DEFAULT]",Sc={[zi]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nr=new Map,_s=new Map;function Vs(L,R){try{L.container.addComponent(R)}catch(ie){dt.debug(`Component ${R.name} failed to register with FirebaseApp ${L.name}`,ie)}}function dr(L,R){L.container.addOrOverwriteComponent(R)}function Ro(L){const R=L.name;if(_s.has(R))return dt.debug(`There were multiple attempts to register component ${R}.`),!1;_s.set(R,L);for(const ie of Nr.values())Vs(ie,L);return!0}function Kt(L,R){const ie=L.container.getProvider("heartbeat").getImmediate({optional:!0});return ie&&ie.triggerHeartbeat(),L.container.getProvider(R)}function Si(L,R,ie=Di){Kt(L,R).clearInstance(ie)}function Hn(){_s.clear()}const mi=new Ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class gi{constructor(R,ie,xe){this._isDeleted=!1,this._options=Object.assign({},R),this._config=Object.assign({},ie),this._name=ie.name,this._automaticDataCollectionEnabled=ie.automaticDataCollectionEnabled,this._container=xe,this.container.addComponent(new Le.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(R){this.checkDestroyed(),this._automaticDataCollectionEnabled=R}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(R){this._isDeleted=R}checkDestroyed(){if(this.isDeleted)throw mi.create("app-deleted",{appName:this._name})}}const Us="10.6.0";function ha(L,R={}){let ie=L;"object"!=typeof R&&(R={name:R});const xe=Object.assign({name:Di,automaticDataCollectionEnabled:!1},R),ze=xe.name;if("string"!=typeof ze||!ze)throw mi.create("bad-app-name",{appName:String(ze)});if(ie||(ie=(0,Ve.aH)()),!ie)throw mi.create("no-options");const it=Nr.get(ze);if(it){if((0,Ve.vZ)(ie,it.options)&&(0,Ve.vZ)(xe,it.config))return it;throw mi.create("duplicate-app",{appName:ze})}const O=new Le.H0(ze);for(const we of _s.values())O.addComponent(we);const Dn=new gi(ie,xe,O);return Nr.set(ze,Dn),Dn}function Bs(L=Di){const R=Nr.get(L);if(!R&&L===Di&&(0,Ve.aH)())return ha();if(!R)throw mi.create("no-app",{appName:L});return R}function fa(){return Array.from(Nr.values())}function br(L){return Or.apply(this,arguments)}function Or(){return(Or=(0,I.Z)(function*(L){const R=L.name;Nr.has(R)&&(Nr.delete(R),yield Promise.all(L.container.getProviders().map(ie=>ie.delete())),L.isDeleted=!0)})).apply(this,arguments)}function js(L,R,ie){var xe;let ze=null!==(xe=Sc[L])&&void 0!==xe?xe:L;ie&&(ze+=`-${ie}`);const it=ze.match(/\s|\//),O=R.match(/\s|\//);if(it||O){const Dn=[`Unable to register library "${ze}" with version "${R}":`];return it&&Dn.push(`library name "${ze}" contains illegal characters (whitespace or "/")`),it&&O&&Dn.push("and"),O&&Dn.push(`version name "${R}" contains illegal characters (whitespace or "/")`),void dt.warn(Dn.join(" "))}Ro(new Le.wA(`${ze}-version`,()=>({library:ze,version:R}),"VERSION"))}function pa(L,R){if(null!==L&&"function"!=typeof L)throw mi.create("invalid-log-argument");(0,$.Am)(L,R)}function du(L){(0,$.Ub)(L)}const xc="firebase-heartbeat-database",ma=1,D="firebase-heartbeat-store";let C=null;function S(){return C||(C=function Vt(L,R,{blocked:ie,upgrade:xe,blocking:ze,terminated:it}={}){const O=indexedDB.open(L,R),Dn=Gt(O);return xe&&O.addEventListener("upgradeneeded",we=>{xe(Gt(O.result),we.oldVersion,we.newVersion,Gt(O.transaction),we)}),ie&&O.addEventListener("blocked",we=>ie(we.oldVersion,we.newVersion,we)),Dn.then(we=>{it&&we.addEventListener("close",()=>it()),ze&&we.addEventListener("versionchange",lt=>ze(lt.oldVersion,lt.newVersion,lt))}).catch(()=>{}),Dn}(xc,ma,{upgrade:(L,R)=>{0===R&&L.createObjectStore(D)}}).catch(L=>{throw mi.create("idb-open",{originalErrorMessage:L.message})})),C}function N(){return(N=(0,I.Z)(function*(L){try{return yield(yield S()).transaction(D).objectStore(D).get(et(L))}catch(R){if(R instanceof Ve.ZR)dt.warn(R.message);else{const ie=mi.create("idb-get",{originalErrorMessage:R?.message});dt.warn(ie.message)}}})).apply(this,arguments)}function q(L,R){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,I.Z)(function*(L,R){try{const xe=(yield S()).transaction(D,"readwrite");yield xe.objectStore(D).put(R,et(L)),yield xe.done}catch(ie){if(ie instanceof Ve.ZR)dt.warn(ie.message);else{const xe=mi.create("idb-set",{originalErrorMessage:ie?.message});dt.warn(xe.message)}}})).apply(this,arguments)}function et(L){return`${L.name}!${L.options.appId}`}class $n{constructor(R){this.container=R,this._heartbeatsCache=null;const ie=this.container.getProvider("app").getImmediate();this._storage=new Ot(ie),this._heartbeatsCachePromise=this._storage.read().then(xe=>(this._heartbeatsCache=xe,xe))}triggerHeartbeat(){var R=this;return(0,I.Z)(function*(){var ie;const ze=R.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),it=Ee();if(null==(null===(ie=R._heartbeatsCache)||void 0===ie?void 0:ie.heartbeats)&&(R._heartbeatsCache=yield R._heartbeatsCachePromise),R._heartbeatsCache.lastSentHeartbeatDate!==it&&!R._heartbeatsCache.heartbeats.some(O=>O.date===it))return R._heartbeatsCache.heartbeats.push({date:it,agent:ze}),R._heartbeatsCache.heartbeats=R._heartbeatsCache.heartbeats.filter(O=>{const Dn=new Date(O.date).valueOf();return Date.now()-Dn<=2592e6}),R._storage.overwrite(R._heartbeatsCache)})()}getHeartbeatsHeader(){var R=this;return(0,I.Z)(function*(){var ie;if(null===R._heartbeatsCache&&(yield R._heartbeatsCachePromise),null==(null===(ie=R._heartbeatsCache)||void 0===ie?void 0:ie.heartbeats)||0===R._heartbeatsCache.heartbeats.length)return"";const xe=Ee(),{heartbeatsToSend:ze,unsentEntries:it}=function Jn(L,R=1024){const ie=[];let xe=L.slice();for(const ze of L){const it=ie.find(O=>O.agent===ze.agent);if(it){if(it.dates.push(ze.date),Wi(ie)>R){it.dates.pop();break}}else if(ie.push({agent:ze.agent,dates:[ze.date]}),Wi(ie)>R){ie.pop();break}xe=xe.slice(1)}return{heartbeatsToSend:ie,unsentEntries:xe}}(R._heartbeatsCache.heartbeats),O=(0,Ve.L)(JSON.stringify({version:2,heartbeats:ze}));return R._heartbeatsCache.lastSentHeartbeatDate=xe,it.length>0?(R._heartbeatsCache.heartbeats=it,yield R._storage.overwrite(R._heartbeatsCache)):(R._heartbeatsCache.heartbeats=[],R._storage.overwrite(R._heartbeatsCache)),O})()}}function Ee(){return(new Date).toISOString().substring(0,10)}class Ot{constructor(R){this.app=R,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!(0,Ve.hl)()&&(0,Ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var R=this;return(0,I.Z)(function*(){return(yield R._canUseIndexedDBPromise)&&(yield function K(L){return N.apply(this,arguments)}(R.app))||{heartbeats:[]}})()}overwrite(R){var ie=this;return(0,I.Z)(function*(){var xe;if(yield ie._canUseIndexedDBPromise){const it=yield ie.read();return q(ie.app,{lastSentHeartbeatDate:null!==(xe=R.lastSentHeartbeatDate)&&void 0!==xe?xe:it.lastSentHeartbeatDate,heartbeats:R.heartbeats})}})()}add(R){var ie=this;return(0,I.Z)(function*(){var xe;if(yield ie._canUseIndexedDBPromise){const it=yield ie.read();return q(ie.app,{lastSentHeartbeatDate:null!==(xe=R.lastSentHeartbeatDate)&&void 0!==xe?xe:it.lastSentHeartbeatDate,heartbeats:[...it.heartbeats,...R.heartbeats]})}})()}}function Wi(L){return(0,Ve.L)(JSON.stringify({version:2,heartbeats:L})).length}!function hu(L){Ro(new Le.wA("platform-logger",R=>new Wt(R),"PRIVATE")),Ro(new Le.wA("heartbeat",R=>new $n(R),"PRIVATE")),js(zi,"0.9.23",L),js(zi,"0.9.23","esm2017"),js("fire-js","")}("")},537:(ms,Kn,We)=>{We.d(Kn,{H0:()=>Zn,wA:()=>$});var I=We(861),Le=We(58);class ${constructor(ee,ae,Te){this.name=ee,this.instanceFactory=ae,this.type=Te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const Ve="[DEFAULT]";class bt{constructor(ee,ae){this.name=ee,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ae=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ae)){const Te=new Le.BH;if(this.instancesDeferred.set(ae,Te),this.isInitialized(ae)||this.shouldAutoInitialize())try{const ot=this.getOrInitializeService({instanceIdentifier:ae});ot&&Te.resolve(ot)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ee){var ae;const Te=this.normalizeInstanceIdentifier(ee?.identifier),ot=null!==(ae=ee?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(Te)&&!this.shouldAutoInitialize()){if(ot)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Te})}catch(Et){if(ot)return null;throw Et}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function hn(ct){return"EAGER"===ct.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch{}for(const[ae,Te]of this.instancesDeferred.entries()){const ot=this.normalizeInstanceIdentifier(ae);try{const Et=this.getOrInitializeService({instanceIdentifier:ot});Te.resolve(Et)}catch{}}}}clearInstance(ee=Ve){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,I.Z)(function*(){const ae=Array.from(ee.instances.values());yield Promise.all([...ae.filter(Te=>"INTERNAL"in Te).map(Te=>Te.INTERNAL.delete()),...ae.filter(Te=>"_delete"in Te).map(Te=>Te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=Ve){return this.instances.has(ee)}getOptions(ee=Ve){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ae={}}=ee,Te=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(Te))throw Error(`${this.name}(${Te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ot=this.getOrInitializeService({instanceIdentifier:Te,options:ae});for(const[Et,Qn]of this.instancesDeferred.entries())Te===this.normalizeInstanceIdentifier(Et)&&Qn.resolve(ot);return ot}onInit(ee,ae){var Te;const ot=this.normalizeInstanceIdentifier(ae),Et=null!==(Te=this.onInitCallbacks.get(ot))&&void 0!==Te?Te:new Set;Et.add(ee),this.onInitCallbacks.set(ot,Et);const Qn=this.instances.get(ot);return Qn&&ee(Qn,ot),()=>{Et.delete(ee)}}invokeOnInitCallbacks(ee,ae){const Te=this.onInitCallbacks.get(ae);if(Te)for(const ot of Te)try{ot(ee,ae)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ae={}}){let Te=this.instances.get(ee);if(!Te&&this.component&&(Te=this.component.instanceFactory(this.container,{instanceIdentifier:(ct=ee,ct===Ve?void 0:ct),options:ae}),this.instances.set(ee,Te),this.instancesOptions.set(ee,ae),this.invokeOnInitCallbacks(Te,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,Te)}catch{}var ct;return Te||null}normalizeInstanceIdentifier(ee=Ve){return this.component?this.component.multipleInstances?ee:Ve:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Zn{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ae=this.getProvider(ee.name);if(ae.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ae.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ae=new bt(ee,this);return this.providers.set(ee,ae),ae}getProviders(){return Array.from(this.providers.values())}}},879:(ms,Kn,We)=>{We.d(Kn,{Am:()=>ct,Ub:()=>Zn,Yd:()=>hn,in:()=>Le});const I=[];var Le=function(ee){return ee[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",ee}(Le||{});const $={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Ve=Le.INFO,bt={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},rn=(ee,ae,...Te)=>{if(ae<ee.logLevel)return;const ot=(new Date).toISOString(),Et=bt[ae];if(!Et)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Et](`[${ot}]  ${ee.name}:`,...Te)};class hn{constructor(ae){this.name=ae,this._logLevel=Ve,this._logHandler=rn,this._userLogHandler=null,I.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in Le))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?$[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...ae),this._logHandler(this,Le.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...ae),this._logHandler(this,Le.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...ae),this._logHandler(this,Le.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...ae),this._logHandler(this,Le.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...ae),this._logHandler(this,Le.ERROR,...ae)}}function Zn(ee){I.forEach(ae=>{ae.setLogLevel(ee)})}function ct(ee,ae){for(const Te of I){let ot=null;ae&&ae.level&&(ot=$[ae.level]),Te.userLogHandler=null===ee?null:(Et,Qn,...At)=>{const $e=At.map(Xe=>{if(null==Xe)return null;if("string"==typeof Xe)return Xe;if("number"==typeof Xe||"boolean"==typeof Xe)return Xe.toString();if(Xe instanceof Error)return Xe.message;try{return JSON.stringify(Xe)}catch{return null}}).filter(Xe=>Xe).join(" ");Qn>=(ot??Et.logLevel)&&ee({level:Le[Qn].toLowerCase(),message:$e,args:At,type:Et.name})}}}},956:(ms,Kn,We)=>{We.r(Kn);var I=We(861),Le=We(106),$=We(58),Ve=We(534),bt=We(879),rn=We(582),hn=We(537);const ct={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Qn=function ot(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},At=function Et(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},$e=new $.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Yn=new bt.Yd("@firebase/auth");function Gt(f,...l){Yn.logLevel<=bt.in.ERROR&&Yn.error(`Auth (${Ve.SDK_VERSION}): ${f}`,...l)}function Dt(f,...l){throw Bn(f,...l)}function Vt(f,...l){return Bn(f,...l)}function Mr(f,l,d){const p=Object.assign(Object.assign({},At()),{[l]:d});return new $.LL("auth","Firebase",p).create(l,{appName:f.name})}function Je(f,l,d){if(!(l instanceof d))throw d.name!==l.constructor.name&&Dt(f,"argument-error"),Mr(f,"argument-error",`Type of ${l.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bn(f,...l){if("string"!=typeof f){const d=l[0],p=[...l.slice(1)];return p[0]&&(p[0].appName=f.name),f._errorFactory.create(d,...p)}return $e.create(f,...l)}function J(f,l,...d){if(!f)throw Bn(l,...d)}function sn(f){const l="INTERNAL ASSERTION FAILED: "+f;throw Gt(l),new Error(l)}function Wt(f,l){f||sn(l)}function Pn(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.href)||""}function zi(){return"http:"===qi()||"https:"===qi()}function qi(){var f;return typeof self<"u"&&(null===(f=self.location)||void 0===f?void 0:f.protocol)||null}class Gi{constructor(l,d){this.shortDelay=l,this.longDelay=d,Wt(d>l,"Short delay should be less than long delay!"),this.isMobile=(0,$.uI)()||(0,$.b$)()}get(){return function dt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(zi()||(0,$.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function V(f,l){Wt(f.emulator,"Emulator should always be set here");const{url:d}=f.emulator;return l?`${d}${l.startsWith("/")?l.slice(1):l}`:d}class B{static initialize(l,d,p){this.fetchImpl=l,d&&(this.headersImpl=d),p&&(this.responseImpl=p)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},G=new Gi(3e4,6e4);function te(f,l){return f.tenantId&&!l.tenantId?Object.assign(Object.assign({},l),{tenantId:f.tenantId}):l}function H(f,l,d,p){return ge.apply(this,arguments)}function ge(){return(ge=(0,I.Z)(function*(f,l,d,p,_={}){return mt(f,_,(0,I.Z)(function*(){let v={},T={};p&&("GET"===l?T=p:v={body:JSON.stringify(p)});const P=(0,$.xO)(Object.assign({key:f.config.apiKey},T)).slice(1),W=yield f._getAdditionalHeaders();return W["Content-Type"]="application/json",f.languageCode&&(W["X-Firebase-Locale"]=f.languageCode),B.fetch()(on(f,f.config.apiHost,d,P),Object.assign({method:l,headers:W,referrerPolicy:"no-referrer"},v))}))})).apply(this,arguments)}function mt(f,l,d){return be.apply(this,arguments)}function be(){return(be=(0,I.Z)(function*(f,l,d){f._canInitEmulator=!1;const p=Object.assign(Object.assign({},j),l);try{const _=new ur(f),v=yield Promise.race([d(),_.promise]);_.clearNetworkTimeout();const T=yield v.json();if("needConfirmation"in T)throw jn(f,"account-exists-with-different-credential",T);if(v.ok&&!("errorMessage"in T))return T;{const P=v.ok?T.errorMessage:T.error.message,[W,he]=P.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===W)throw jn(f,"credential-already-in-use",T);if("EMAIL_EXISTS"===W)throw jn(f,"email-already-in-use",T);if("USER_DISABLED"===W)throw jn(f,"user-disabled",T);const ye=p[W]||W.toLowerCase().replace(/[_\s]+/g,"-");if(he)throw Mr(f,ye,he);Dt(f,ye)}}catch(_){if(_ instanceof $.ZR)throw _;Dt(f,"network-request-failed",{message:String(_)})}})).apply(this,arguments)}function Ae(f,l,d,p){return yt.apply(this,arguments)}function yt(){return(yt=(0,I.Z)(function*(f,l,d,p,_={}){const v=yield H(f,l,d,p,_);return"mfaPendingCredential"in v&&Dt(f,"multi-factor-auth-required",{_serverResponse:v}),v})).apply(this,arguments)}function on(f,l,d,p){const _=`${l}${d}?${p}`;return f.config.emulator?V(f.config,_):`${f.config.apiScheme}://${_}`}function Ht(f){switch(f){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ur{constructor(l){this.auth=l,this.timer=null,this.promise=new Promise((d,p)=>{this.timer=setTimeout(()=>p(Vt(this.auth,"network-request-failed")),G.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(f,l,d){const p={appName:f.name};d.email&&(p.email=d.email),d.phoneNumber&&(p.phoneNumber=d.phoneNumber);const _=Vt(f,l,p);return _.customData._tokenResponse=d,_}function vr(f){return void 0!==f&&void 0!==f.getResponse}function Pr(f){return void 0!==f&&void 0!==f.enterprise}class Zr{constructor(l){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===l.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=l.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=l.recaptchaEnforcementState}getProviderEnforcementState(l){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const d of this.recaptchaEnforcementState)if(d.provider&&d.provider===l)return Ht(d.enforcementState);return null}isProviderEnabled(l){return"ENFORCE"===this.getProviderEnforcementState(l)||"AUDIT"===this.getProviderEnforcementState(l)}}function gs(){return(gs=(0,I.Z)(function*(f){return(yield H(f,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Nn(f,l){return ua.apply(this,arguments)}function ua(){return(ua=(0,I.Z)(function*(f,l){return H(f,"GET","/v2/recaptchaConfig",te(f,l))})).apply(this,arguments)}function Di(){return(Di=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:delete",l)})).apply(this,arguments)}function Nr(){return(Nr=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Vs(){return(Vs=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:lookup",l)})).apply(this,arguments)}function dr(f){if(f)try{const l=new Date(Number(f));if(!isNaN(l.getTime()))return l.toUTCString()}catch{}}function Si(){return(Si=(0,I.Z)(function*(f,l=!1){const d=(0,$.m9)(f),p=yield d.getIdToken(l),_=da(p);J(_&&_.exp&&_.auth_time&&_.iat,d.auth,"internal-error");const v="object"==typeof _.firebase?_.firebase:void 0,T=v?.sign_in_provider;return{claims:_,token:p,authTime:dr(Hn(_.auth_time)),issuedAtTime:dr(Hn(_.iat)),expirationTime:dr(Hn(_.exp)),signInProvider:T||null,signInSecondFactor:v?.sign_in_second_factor||null}})).apply(this,arguments)}function Hn(f){return 1e3*Number(f)}function da(f){const[l,d,p]=f.split(".");if(void 0===l||void 0===d||void 0===p)return Gt("JWT malformed, contained fewer than 3 sections"),null;try{const _=(0,$.tV)(d);return _?JSON.parse(_):(Gt("Failed to decode base64 JWT payload"),null)}catch(_){return Gt("Caught error parsing JWT payload as JSON",_?.toString()),null}}function gi(f,l){return Us.apply(this,arguments)}function Us(){return(Us=(0,I.Z)(function*(f,l,d=!1){if(d)return l;try{return yield l}catch(p){throw p instanceof $.ZR&&function ha({code:f}){return"auth/user-disabled"===f||"auth/user-token-expired"===f}(p)&&f.auth.currentUser===f&&(yield f.auth.signOut()),p}})).apply(this,arguments)}class Bs{constructor(l){this.user=l,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(l){var d;if(l){const p=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),p}{this.errorBackoff=3e4;const _=(null!==(d=this.user.stsTokenManager.expirationTime)&&void 0!==d?d:0)-Date.now()-3e5;return Math.max(0,_)}}schedule(l=!1){var d=this;if(!this.isRunning)return;const p=this.getInterval(l);this.timerId=setTimeout((0,I.Z)(function*(){yield d.iteration()}),p)}iteration(){var l=this;return(0,I.Z)(function*(){try{yield l.user.getIdToken(!0)}catch(d){return void("auth/network-request-failed"===d?.code&&l.schedule(!0))}l.schedule()})()}}class fa{constructor(l,d){this.createdAt=l,this.lastLoginAt=d,this._initializeTime()}_initializeTime(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}_copy(l){this.createdAt=l.createdAt,this.lastLoginAt=l.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function br(f){return Or.apply(this,arguments)}function Or(){return Or=(0,I.Z)(function*(f){var l;const d=f.auth,p=yield f.getIdToken(),_=yield gi(f,function _s(f,l){return Vs.apply(this,arguments)}(d,{idToken:p}));J(_?.users.length,d,"internal-error");const v=_.users[0];f._notifyReloadListener(v);const T=null!==(l=v.providerUserInfo)&&void 0!==l&&l.length?function xc(f){return f.map(l=>{var{providerId:d}=l,p=(0,rn._T)(l,["providerId"]);return{providerId:d,uid:p.rawId||"",displayName:p.displayName||null,email:p.email||null,phoneNumber:p.phoneNumber||null,photoURL:p.photoUrl||null}})}(v.providerUserInfo):[],P=function du(f,l){return[...f.filter(p=>!l.some(_=>_.providerId===p.providerId)),...l]}(f.providerData,T),ye=!!f.isAnonymous&&!(f.email&&v.passwordHash||P?.length),Ie={uid:v.localId,displayName:v.displayName||null,photoURL:v.photoUrl||null,email:v.email||null,emailVerified:v.emailVerified||!1,phoneNumber:v.phoneNumber||null,tenantId:v.tenantId||null,providerData:P,metadata:new fa(v.createdAt,v.lastLoginAt),isAnonymous:ye};Object.assign(f,Ie)}),Or.apply(this,arguments)}function pa(){return(pa=(0,I.Z)(function*(f){const l=(0,$.m9)(f);yield br(l),yield l.auth._persistUserIfCurrent(l),l.auth._notifyListenersIfCurrent(l)})).apply(this,arguments)}function D(){return(D=(0,I.Z)(function*(f,l){const d=yield mt(f,{},(0,I.Z)(function*(){const p=(0,$.xO)({grant_type:"refresh_token",refresh_token:l}).slice(1),{tokenApiHost:_,apiKey:v}=f.config,T=on(f,_,"/v1/token",`key=${v}`),P=yield f._getAdditionalHeaders();return P["Content-Type"]="application/x-www-form-urlencoded",B.fetch()(T,{method:"POST",headers:P,body:p})}));return{accessToken:d.access_token,expiresIn:d.expires_in,refreshToken:d.refresh_token}})).apply(this,arguments)}function S(){return(S=(0,I.Z)(function*(f,l){return H(f,"POST","/v2/accounts:revokeToken",te(f,l))})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(l){J(l.idToken,"internal-error"),J(typeof l.idToken<"u","internal-error"),J(typeof l.refreshToken<"u","internal-error");const d="expiresIn"in l&&typeof l.expiresIn<"u"?Number(l.expiresIn):function mi(f){const l=da(f);return J(l,"internal-error"),J(typeof l.exp<"u","internal-error"),J(typeof l.iat<"u","internal-error"),Number(l.exp)-Number(l.iat)}(l.idToken);this.updateTokensAndExpiration(l.idToken,l.refreshToken,d)}getToken(l,d=!1){var p=this;return(0,I.Z)(function*(){return J(!p.accessToken||p.refreshToken,l,"user-token-expired"),d||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(l,p.refreshToken),p.accessToken):null:p.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(l,d){var p=this;return(0,I.Z)(function*(){const{accessToken:_,refreshToken:v,expiresIn:T}=yield function ma(f,l){return D.apply(this,arguments)}(l,d);p.updateTokensAndExpiration(_,v,Number(T))})()}updateTokensAndExpiration(l,d,p){this.refreshToken=d||null,this.accessToken=l||null,this.expirationTime=Date.now()+1e3*p}static fromJSON(l,d){const{refreshToken:p,accessToken:_,expirationTime:v}=d,T=new K;return p&&(J("string"==typeof p,"internal-error",{appName:l}),T.refreshToken=p),_&&(J("string"==typeof _,"internal-error",{appName:l}),T.accessToken=_),v&&(J("number"==typeof v,"internal-error",{appName:l}),T.expirationTime=v),T}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(l){this.accessToken=l.accessToken,this.refreshToken=l.refreshToken,this.expirationTime=l.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return sn("not implemented")}}function N(f,l){J("string"==typeof f||typeof f>"u","internal-error",{appName:l})}class q{constructor(l){var{uid:d,auth:p,stsTokenManager:_}=l,v=(0,rn._T)(l,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=d,this.auth=p,this.stsTokenManager=_,this.accessToken=_.accessToken,this.displayName=v.displayName||null,this.email=v.email||null,this.emailVerified=v.emailVerified||!1,this.phoneNumber=v.phoneNumber||null,this.photoURL=v.photoURL||null,this.isAnonymous=v.isAnonymous||!1,this.tenantId=v.tenantId||null,this.providerData=v.providerData?[...v.providerData]:[],this.metadata=new fa(v.createdAt||void 0,v.lastLoginAt||void 0)}getIdToken(l){var d=this;return(0,I.Z)(function*(){const p=yield gi(d,d.stsTokenManager.getToken(d.auth,l));return J(p,d.auth,"internal-error"),d.accessToken!==p&&(d.accessToken=p,yield d.auth._persistUserIfCurrent(d),d.auth._notifyListenersIfCurrent(d)),p})()}getIdTokenResult(l){return function Kt(f){return Si.apply(this,arguments)}(this,l)}reload(){return function js(f){return pa.apply(this,arguments)}(this)}_assign(l){this!==l&&(J(this.uid===l.uid,this.auth,"internal-error"),this.displayName=l.displayName,this.photoURL=l.photoURL,this.email=l.email,this.emailVerified=l.emailVerified,this.phoneNumber=l.phoneNumber,this.isAnonymous=l.isAnonymous,this.tenantId=l.tenantId,this.providerData=l.providerData.map(d=>Object.assign({},d)),this.metadata._copy(l.metadata),this.stsTokenManager._assign(l.stsTokenManager))}_clone(l){const d=new q(Object.assign(Object.assign({},this),{auth:l,stsTokenManager:this.stsTokenManager._clone()}));return d.metadata._copy(this.metadata),d}_onReload(l){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=l,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(l){this.reloadListener?this.reloadListener(l):this.reloadUserInfo=l}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(l,d=!1){var p=this;return(0,I.Z)(function*(){let _=!1;l.idToken&&l.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(l),_=!0),d&&(yield br(p)),yield p.auth._persistUserIfCurrent(p),_&&p.auth._notifyListenersIfCurrent(p)})()}delete(){var l=this;return(0,I.Z)(function*(){const d=yield l.getIdToken();return yield gi(l,function Dc(f,l){return Di.apply(this,arguments)}(l.auth,{idToken:d})),l.stsTokenManager.clearRefreshToken(),l.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(l=>Object.assign({},l)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(l,d){var p,_,v,T,P,W,he,ye;const Ie=null!==(p=d.displayName)&&void 0!==p?p:void 0,mn=null!==(_=d.email)&&void 0!==_?_:void 0,Mi=null!==(v=d.phoneNumber)&&void 0!==v?v:void 0,nd=null!==(T=d.photoURL)&&void 0!==T?T:void 0,ny=null!==(P=d.tenantId)&&void 0!==P?P:void 0,Fa=null!==(W=d._redirectEventId)&&void 0!==W?W:void 0,Jf=null!==(he=d.createdAt)&&void 0!==he?he:void 0,ry=null!==(ye=d.lastLoginAt)&&void 0!==ye?ye:void 0,{uid:rd,emailVerified:dI,isAnonymous:ep,providerData:iy,stsTokenManager:sy}=d;J(rd&&sy,l,"internal-error");const hI=K.fromJSON(this.name,sy);J("string"==typeof rd,l,"internal-error"),N(Ie,l.name),N(mn,l.name),J("boolean"==typeof dI,l,"internal-error"),J("boolean"==typeof ep,l,"internal-error"),N(Mi,l.name),N(nd,l.name),N(ny,l.name),N(Fa,l.name),N(Jf,l.name),N(ry,l.name);const hl=new q({uid:rd,auth:l,email:mn,emailVerified:dI,displayName:Ie,isAnonymous:ep,photoURL:nd,phoneNumber:Mi,tenantId:ny,stsTokenManager:hI,createdAt:Jf,lastLoginAt:ry});return iy&&Array.isArray(iy)&&(hl.providerData=iy.map(c1=>Object.assign({},c1))),Fa&&(hl._redirectEventId=Fa),hl}static _fromIdTokenResponse(l,d,p=!1){return(0,I.Z)(function*(){const _=new K;_.updateFromServerResponse(d);const v=new q({uid:d.localId,auth:l,stsTokenManager:_,isAnonymous:p});return yield br(v),v})()}}const Ue=new Map;function et(f){Wt(f instanceof Function,"Expected a class definition");let l=Ue.get(f);return l?(Wt(l instanceof f,"Instance stored in cache mismatched with class"),l):(l=new f,Ue.set(f,l),l)}const Zt=(()=>{class f{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(d,p){var _=this;return(0,I.Z)(function*(){_.storage[d]=p})()}_get(d){var p=this;return(0,I.Z)(function*(){const _=p.storage[d];return void 0===_?null:_})()}_remove(d){var p=this;return(0,I.Z)(function*(){delete p.storage[d]})()}_addListener(d,p){}_removeListener(d,p){}}return f.type="NONE",f})();function $n(f,l,d){return`firebase:${f}:${l}:${d}`}class Ee{constructor(l,d,p){this.persistence=l,this.auth=d,this.userKey=p;const{config:_,name:v}=this.auth;this.fullUserKey=$n(this.userKey,_.apiKey,v),this.fullPersistenceKey=$n("persistence",_.apiKey,v),this.boundEventHandler=d._onStorageEvent.bind(d),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(l){return this.persistence._set(this.fullUserKey,l.toJSON())}getCurrentUser(){var l=this;return(0,I.Z)(function*(){const d=yield l.persistence._get(l.fullUserKey);return d?q._fromJSON(l.auth,d):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(l){var d=this;return(0,I.Z)(function*(){if(d.persistence===l)return;const p=yield d.getCurrentUser();return yield d.removeCurrentUser(),d.persistence=l,p?d.setCurrentUser(p):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(l,d,p="authUser"){return(0,I.Z)(function*(){if(!d.length)return new Ee(et(Zt),l,p);const _=(yield Promise.all(d.map(function(){var he=(0,I.Z)(function*(ye){if(yield ye._isAvailable())return ye});return function(ye){return he.apply(this,arguments)}}()))).filter(he=>he);let v=_[0]||et(Zt);const T=$n(p,l.config.apiKey,l.name);let P=null;for(const he of d)try{const ye=yield he._get(T);if(ye){const Ie=q._fromJSON(l,ye);he!==v&&(P=Ie),v=he;break}}catch{}const W=_.filter(he=>he._shouldAllowMigration);return v._shouldAllowMigration&&W.length?(v=W[0],P&&(yield v._set(T,P.toJSON())),yield Promise.all(d.map(function(){var he=(0,I.Z)(function*(ye){if(ye!==v)try{yield ye._remove(T)}catch{}});return function(ye){return he.apply(this,arguments)}}())),new Ee(v,l,p)):new Ee(v,l,p)})()}}function Jn(f){const l=f.toLowerCase();if(l.includes("opera/")||l.includes("opr/")||l.includes("opios/"))return"Opera";if(L(l))return"IEMobile";if(l.includes("msie")||l.includes("trident/"))return"IE";if(l.includes("edge/"))return"Edge";if(Ot(l))return"Firefox";if(l.includes("silk/"))return"Silk";if(ie(l))return"Blackberry";if(xe(l))return"Webos";if(Wi(l))return"Safari";if((l.includes("chrome/")||hu(l))&&!l.includes("edge/"))return"Chrome";if(R(l))return"Android";{const p=f.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===p?.length)return p[1]}return"Other"}function Ot(f=(0,$.z$)()){return/firefox\//i.test(f)}function Wi(f=(0,$.z$)()){const l=f.toLowerCase();return l.includes("safari/")&&!l.includes("chrome/")&&!l.includes("crios/")&&!l.includes("android")}function hu(f=(0,$.z$)()){return/crios\//i.test(f)}function L(f=(0,$.z$)()){return/iemobile/i.test(f)}function R(f=(0,$.z$)()){return/android/i.test(f)}function ie(f=(0,$.z$)()){return/blackberry/i.test(f)}function xe(f=(0,$.z$)()){return/webos/i.test(f)}function ze(f=(0,$.z$)()){return/iphone|ipad|ipod/i.test(f)||/macintosh/i.test(f)&&/mobile/i.test(f)}function we(f=(0,$.z$)()){return ze(f)||R(f)||xe(f)||ie(f)||/windows phone/i.test(f)||L(f)}function ga(f,l=[]){let d;switch(f){case"Browser":d=Jn((0,$.z$)());break;case"Worker":d=`${Jn((0,$.z$)())}-${f}`;break;default:d=f}const p=l.length?l.join(","):"FirebaseCore-web";return`${d}/JsCore/${Ve.SDK_VERSION}/${p}`}class Tx{constructor(l){this.auth=l,this.queue=[]}pushCallback(l,d){const p=v=>new Promise((T,P)=>{try{T(l(v))}catch(W){P(W)}});p.onAbort=d,this.queue.push(p);const _=this.queue.length-1;return()=>{this.queue[_]=()=>Promise.resolve()}}runMiddleware(l){var d=this;return(0,I.Z)(function*(){if(d.auth.currentUser===l)return;const p=[];try{for(const _ of d.queue)yield _(l),_.onAbort&&p.push(_.onAbort)}catch(_){p.reverse();for(const v of p)try{v()}catch{}throw d.auth._errorFactory.create("login-blocked",{originalMessage:_?.message})}})()}}function Rc(){return(Rc=(0,I.Z)(function*(f,l={}){return H(f,"GET","/v2/passwordPolicy",te(f,l))})).apply(this,arguments)}class Cx{constructor(l){var d,p,_,v;const T=l.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(d=T.minPasswordLength)&&void 0!==d?d:6,T.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=T.maxPasswordLength),void 0!==T.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=T.containsLowercaseCharacter),void 0!==T.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=T.containsUppercaseCharacter),void 0!==T.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=T.containsNumericCharacter),void 0!==T.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=T.containsNonAlphanumericCharacter),this.enforcementState=l.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(_=null===(p=l.allowedNonAlphanumericCharacters)||void 0===p?void 0:p.join(""))&&void 0!==_?_:"",this.forceUpgradeOnSignin=null!==(v=l.forceUpgradeOnSignin)&&void 0!==v&&v,this.schemaVersion=l.schemaVersion}validatePassword(l){var d,p,_,v,T,P;const W={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(l,W),this.validatePasswordCharacterOptions(l,W),W.isValid&&(W.isValid=null===(d=W.meetsMinPasswordLength)||void 0===d||d),W.isValid&&(W.isValid=null===(p=W.meetsMaxPasswordLength)||void 0===p||p),W.isValid&&(W.isValid=null===(_=W.containsLowercaseLetter)||void 0===_||_),W.isValid&&(W.isValid=null===(v=W.containsUppercaseLetter)||void 0===v||v),W.isValid&&(W.isValid=null===(T=W.containsNumericCharacter)||void 0===T||T),W.isValid&&(W.isValid=null===(P=W.containsNonAlphanumericCharacter)||void 0===P||P),W}validatePasswordLengthOptions(l,d){const p=this.customStrengthOptions.minPasswordLength,_=this.customStrengthOptions.maxPasswordLength;p&&(d.meetsMinPasswordLength=l.length>=p),_&&(d.meetsMaxPasswordLength=l.length<=_)}validatePasswordCharacterOptions(l,d){let p;this.updatePasswordCharacterOptionsStatuses(d,!1,!1,!1,!1);for(let _=0;_<l.length;_++)p=l.charAt(_),this.updatePasswordCharacterOptionsStatuses(d,p>="a"&&p<="z",p>="A"&&p<="Z",p>="0"&&p<="9",this.allowedNonAlphanumericCharacters.includes(p))}updatePasswordCharacterOptionsStatuses(l,d,p,_,v){this.customStrengthOptions.containsLowercaseLetter&&(l.containsLowercaseLetter||(l.containsLowercaseLetter=d)),this.customStrengthOptions.containsUppercaseLetter&&(l.containsUppercaseLetter||(l.containsUppercaseLetter=p)),this.customStrengthOptions.containsNumericCharacter&&(l.containsNumericCharacter||(l.containsNumericCharacter=_)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(l.containsNonAlphanumericCharacter||(l.containsNonAlphanumericCharacter=v))}}class dE{constructor(l,d,p,_){this.app=l,this.heartbeatServiceProvider=d,this.appCheckServiceProvider=p,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hs(this),this.idTokenSubscription=new Hs(this),this.beforeStateQueue=new Tx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$e,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=l.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(l,d){var p=this;return d&&(this._popupRedirectResolver=et(d)),this._initializationPromise=this.queue((0,I.Z)(function*(){var _,v;if(!p._deleted&&(p.persistenceManager=yield Ee.create(p,l),!p._deleted)){if(null!==(_=p._popupRedirectResolver)&&void 0!==_&&_._shouldInitProactively)try{yield p._popupRedirectResolver._initialize(p)}catch{}yield p.initializeCurrentUser(d),p.lastNotifiedUid=(null===(v=p.currentUser)||void 0===v?void 0:v.uid)||null,!p._deleted&&(p._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var l=this;return(0,I.Z)(function*(){if(l._deleted)return;const d=yield l.assertedPersistence.getCurrentUser();if(l.currentUser||d){if(l.currentUser&&d&&l.currentUser.uid===d.uid)return l._currentUser._assign(d),void(yield l.currentUser.getIdToken());yield l._updateCurrentUser(d,!0)}})()}initializeCurrentUser(l){var d=this;return(0,I.Z)(function*(){var p;const _=yield d.assertedPersistence.getCurrentUser();let v=_,T=!1;if(l&&d.config.authDomain){yield d.getOrInitRedirectPersistenceManager();const P=null===(p=d.redirectUser)||void 0===p?void 0:p._redirectEventId,W=v?._redirectEventId,he=yield d.tryRedirectSignIn(l);(!P||P===W)&&he?.user&&(v=he.user,T=!0)}if(!v)return d.directlySetCurrentUser(null);if(!v._redirectEventId){if(T)try{yield d.beforeStateQueue.runMiddleware(v)}catch(P){v=_,d._popupRedirectResolver._overrideRedirectResult(d,()=>Promise.reject(P))}return v?d.reloadAndSetCurrentUserOrClear(v):d.directlySetCurrentUser(null)}return J(d._popupRedirectResolver,d,"argument-error"),yield d.getOrInitRedirectPersistenceManager(),d.redirectUser&&d.redirectUser._redirectEventId===v._redirectEventId?d.directlySetCurrentUser(v):d.reloadAndSetCurrentUserOrClear(v)})()}tryRedirectSignIn(l){var d=this;return(0,I.Z)(function*(){let p=null;try{p=yield d._popupRedirectResolver._completeRedirectFn(d,l,!0)}catch{yield d._setRedirectUser(null)}return p})()}reloadAndSetCurrentUserOrClear(l){var d=this;return(0,I.Z)(function*(){try{yield br(l)}catch(p){if("auth/network-request-failed"!==p?.code)return d.directlySetCurrentUser(null)}return d.directlySetCurrentUser(l)})()}useDeviceLanguage(){this.languageCode=function xo(){if(typeof navigator>"u")return null;const f=navigator;return f.languages&&f.languages[0]||f.language||null}()}_delete(){var l=this;return(0,I.Z)(function*(){l._deleted=!0})()}updateCurrentUser(l){var d=this;return(0,I.Z)(function*(){const p=l?(0,$.m9)(l):null;return p&&J(p.auth.config.apiKey===d.config.apiKey,d,"invalid-user-token"),d._updateCurrentUser(p&&p._clone(d))})()}_updateCurrentUser(l,d=!1){var p=this;return(0,I.Z)(function*(){if(!p._deleted)return l&&J(p.tenantId===l.tenantId,p,"tenant-id-mismatch"),d||(yield p.beforeStateQueue.runMiddleware(l)),p.queue((0,I.Z)(function*(){yield p.directlySetCurrentUser(l),p.notifyAuthListeners()}))})()}signOut(){var l=this;return(0,I.Z)(function*(){return yield l.beforeStateQueue.runMiddleware(null),(l.redirectPersistenceManager||l._popupRedirectResolver)&&(yield l._setRedirectUser(null)),l._updateCurrentUser(null,!0)})()}setPersistence(l){var d=this;return this.queue((0,I.Z)(function*(){yield d.assertedPersistence.setPersistence(et(l))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(l){var d=this;return(0,I.Z)(function*(){d._getPasswordPolicyInternal()||(yield d._updatePasswordPolicy());const p=d._getPasswordPolicyInternal();return p.schemaVersion!==d.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(d._errorFactory.create("unsupported-password-policy-schema-version",{})):p.validatePassword(l)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var l=this;return(0,I.Z)(function*(){const d=yield function uE(f){return Rc.apply(this,arguments)}(l),p=new Cx(d);null===l.tenantId?l._projectPasswordPolicy=p:l._tenantPasswordPolicies[l.tenantId]=p})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(l){this._errorFactory=new $.LL("auth","Firebase",l())}onAuthStateChanged(l,d,p){return this.registerStateListener(this.authStateSubscription,l,d,p)}beforeAuthStateChanged(l,d){return this.beforeStateQueue.pushCallback(l,d)}onIdTokenChanged(l,d,p){return this.registerStateListener(this.idTokenSubscription,l,d,p)}authStateReady(){return new Promise((l,d)=>{if(this.currentUser)l();else{const p=this.onAuthStateChanged(()=>{p(),l()},d)}})}revokeAccessToken(l){var d=this;return(0,I.Z)(function*(){if(d.currentUser){const p=yield d.currentUser.getIdToken(),_={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:l,idToken:p};null!=d.tenantId&&(_.tenantId=d.tenantId),yield function C(f,l){return S.apply(this,arguments)}(d,_)}})()}toJSON(){var l;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(l=this._currentUser)||void 0===l?void 0:l.toJSON()}}_setRedirectUser(l,d){var p=this;return(0,I.Z)(function*(){const _=yield p.getOrInitRedirectPersistenceManager(d);return null===l?_.removeCurrentUser():_.setCurrentUser(l)})()}getOrInitRedirectPersistenceManager(l){var d=this;return(0,I.Z)(function*(){if(!d.redirectPersistenceManager){const p=l&&et(l)||d._popupRedirectResolver;J(p,d,"argument-error"),d.redirectPersistenceManager=yield Ee.create(d,[et(p._redirectPersistence)],"redirectUser"),d.redirectUser=yield d.redirectPersistenceManager.getCurrentUser()}return d.redirectPersistenceManager})()}_redirectUserForId(l){var d=this;return(0,I.Z)(function*(){var p,_;return d._isInitialized&&(yield d.queue((0,I.Z)(function*(){}))),(null===(p=d._currentUser)||void 0===p?void 0:p._redirectEventId)===l?d._currentUser:(null===(_=d.redirectUser)||void 0===_?void 0:_._redirectEventId)===l?d.redirectUser:null})()}_persistUserIfCurrent(l){var d=this;return(0,I.Z)(function*(){if(l===d.currentUser)return d.queue((0,I.Z)(function*(){return d.directlySetCurrentUser(l)}))})()}_notifyListenersIfCurrent(l){l===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var l,d;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const p=null!==(d=null===(l=this.currentUser)||void 0===l?void 0:l.uid)&&void 0!==d?d:null;this.lastNotifiedUid!==p&&(this.lastNotifiedUid=p,this.authStateSubscription.next(this.currentUser))}registerStateListener(l,d,p,_){if(this._deleted)return()=>{};const v="function"==typeof d?d:d.next.bind(d);let T=!1;const P=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(P,this,"internal-error"),P.then(()=>{T||v(this.currentUser)}),"function"==typeof d){const W=l.addObserver(d,p,_);return()=>{T=!0,W()}}{const W=l.addObserver(d);return()=>{T=!0,W()}}}directlySetCurrentUser(l){var d=this;return(0,I.Z)(function*(){d.currentUser&&d.currentUser!==l&&d._currentUser._stopProactiveRefresh(),l&&d.isProactiveRefreshEnabled&&l._startProactiveRefresh(),d.currentUser=l,l?yield d.assertedPersistence.setCurrentUser(l):yield d.assertedPersistence.removeCurrentUser()})()}queue(l){return this.operations=this.operations.then(l,l),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(l){!l||this.frameworks.includes(l)||(this.frameworks.push(l),this.frameworks.sort(),this.clientVersion=ga(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var l=this;return(0,I.Z)(function*(){var d;const p={"X-Client-Version":l.clientVersion};l.app.options.appId&&(p["X-Firebase-gmpid"]=l.app.options.appId);const _=yield null===(d=l.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getHeartbeatsHeader();_&&(p["X-Firebase-Client"]=_);const v=yield l._getAppCheckToken();return v&&(p["X-Firebase-AppCheck"]=v),p})()}_getAppCheckToken(){var l=this;return(0,I.Z)(function*(){var d;const p=yield null===(d=l.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===d?void 0:d.getToken();return p?.error&&function Xn(f,...l){Yn.logLevel<=bt.in.WARN&&Yn.warn(`Auth (${Ve.SDK_VERSION}): ${f}`,...l)}(`Error while retrieving App Check token: ${p.error}`),p?.token})()}}function Qt(f){return(0,$.m9)(f)}class Hs{constructor(l){this.auth=l,this.observer=null,this.addObserver=(0,$.ne)(d=>this.observer=d)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Hg(f){return new Promise((l,d)=>{const p=document.createElement("script");p.setAttribute("src",f),p.onload=l,p.onerror=_=>{const v=Vt("internal-error");v.customData=_,d(v)},p.type="text/javascript",p.charset="UTF-8",function Ax(){var f,l;return null!==(l=null===(f=document.getElementsByTagName("head"))||void 0===f?void 0:f[0])&&void 0!==l?l:document}().appendChild(p)})}function hE(f){return`__${f}${Math.floor(1e6*Math.random())}`}class $g{constructor(l){this.type="recaptcha-enterprise",this.auth=Qt(l)}verify(l="verify",d=!1){var p=this;return(0,I.Z)(function*(){function v(){return v=(0,I.Z)(function*(P){if(!d){if(null==P.tenantId&&null!=P._agentRecaptchaConfig)return P._agentRecaptchaConfig.siteKey;if(null!=P.tenantId&&void 0!==P._tenantRecaptchaConfigs[P.tenantId])return P._tenantRecaptchaConfigs[P.tenantId].siteKey}return new Promise(function(){var W=(0,I.Z)(function*(he,ye){Nn(P,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ie=>{if(void 0!==Ie.recaptchaKey){const mn=new Zr(Ie);return null==P.tenantId?P._agentRecaptchaConfig=mn:P._tenantRecaptchaConfigs[P.tenantId]=mn,he(mn.siteKey)}ye(new Error("recaptcha Enterprise site key undefined"))}).catch(Ie=>{ye(Ie)})});return function(he,ye){return W.apply(this,arguments)}}())}),v.apply(this,arguments)}function T(P,W,he){const ye=window.grecaptcha;Pr(ye)?ye.enterprise.ready(()=>{ye.enterprise.execute(P,{action:l}).then(Ie=>{W(Ie)}).catch(()=>{W("NO_RECAPTCHA")})}):he(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((P,W)=>{(function _(P){return v.apply(this,arguments)})(p.auth).then(he=>{if(!d&&Pr(window.grecaptcha))T(he,P,W);else{if(typeof window>"u")return void W(new Error("RecaptchaVerifier is only supported in browser"));Hg("https://www.google.com/recaptcha/enterprise.js?render="+he).then(()=>{T(he,P,W)}).catch(ye=>{W(ye)})}}).catch(he=>{W(he)})})})()}}function pE(f,l,d){return kr.apply(this,arguments)}function kr(){return(kr=(0,I.Z)(function*(f,l,d,p=!1){const _=new $g(f);let v;try{v=yield _.verify(d)}catch{v=yield _.verify(d,!0)}const T=Object.assign({},l);return Object.assign(T,p?{captchaResp:v}:{captchaResponse:v}),Object.assign(T,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(T,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),T})).apply(this,arguments)}function Oe(f,l,d,p){return zg.apply(this,arguments)}function zg(){return zg=(0,I.Z)(function*(f,l,d,p){var _;if(null!==(_=f._getRecaptchaConfig())&&void 0!==_&&_.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const v=yield pE(f,l,d,"getOobCode"===d);return p(f,v)}return p(f,l).catch(function(){var v=(0,I.Z)(function*(T){if("auth/missing-recaptcha-token"===T.code){console.log(`${d} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const P=yield pE(f,l,d,"getOobCode"===d);return p(f,P)}return Promise.reject(T)});return function(T){return v.apply(this,arguments)}}())}),zg.apply(this,arguments)}function Mc(f){const l=f.indexOf(":");return l<0?"":f.substr(0,l+1)}function Kh(f){if(!f)return null;const l=Number(f);return isNaN(l)?null:l}class ys{constructor(l,d){this.providerId=l,this.signInMethod=d}toJSON(){return sn("not implemented")}_getIdTokenResponse(l){return sn("not implemented")}_linkToIdToken(l,d){return sn("not implemented")}_getReauthenticationResolver(l){return sn("not implemented")}}function Pc(f,l){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:resetPassword",te(f,l))})).apply(this,arguments)}function Zh(){return(Zh=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function ut(f,l){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:signUp",l)})).apply(this,arguments)}function hr(){return(hr=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:update",te(f,l))})).apply(this,arguments)}function Kg(f,l){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,I.Z)(function*(f,l){return Ae(f,"POST","/v1/accounts:signInWithPassword",te(f,l))})).apply(this,arguments)}function xt(f,l){return Qg.apply(this,arguments)}function Qg(){return(Qg=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:sendOobCode",te(f,l))})).apply(this,arguments)}function oe(){return(oe=(0,I.Z)(function*(f,l){return xt(f,l)})).apply(this,arguments)}function Qh(f,l){return kc.apply(this,arguments)}function kc(){return(kc=(0,I.Z)(function*(f,l){return xt(f,l)})).apply(this,arguments)}function Yg(f,l){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,I.Z)(function*(f,l){return xt(f,l)})).apply(this,arguments)}function Lc(){return(Lc=(0,I.Z)(function*(f,l){return xt(f,l)})).apply(this,arguments)}function Xg(){return(Xg=(0,I.Z)(function*(f,l){return Ae(f,"POST","/v1/accounts:signInWithEmailLink",te(f,l))})).apply(this,arguments)}function Jg(){return(Jg=(0,I.Z)(function*(f,l){return Ae(f,"POST","/v1/accounts:signInWithEmailLink",te(f,l))})).apply(this,arguments)}class fu extends ys{constructor(l,d,p,_=null){super("password",p),this._email=l,this._password=d,this._tenantId=_}static _fromEmailAndPassword(l,d){return new fu(l,d,"password")}static _fromEmailAndCode(l,d,p=null){return new fu(l,d,"emailLink",p)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l;if(d?.email&&d?.password){if("password"===d.signInMethod)return this._fromEmailAndPassword(d.email,d.password);if("emailLink"===d.signInMethod)return this._fromEmailAndCode(d.email,d.password,d.tenantId)}return null}_getIdTokenResponse(l){var d=this;return(0,I.Z)(function*(){switch(d.signInMethod){case"password":return Oe(l,{returnSecureToken:!0,email:d._email,password:d._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Kg);case"emailLink":return function Px(f,l){return Xg.apply(this,arguments)}(l,{email:d._email,oobCode:d._password});default:Dt(l,"internal-error")}})()}_linkToIdToken(l,d){var p=this;return(0,I.Z)(function*(){switch(p.signInMethod){case"password":return Oe(l,{idToken:d,returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ut);case"emailLink":return function Nx(f,l){return Jg.apply(this,arguments)}(l,{idToken:d,email:p._email,oobCode:p._password});default:Dt(l,"internal-error")}})()}_getReauthenticationResolver(l){return this._getIdTokenResponse(l)}}function Yr(f,l){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,I.Z)(function*(f,l){return Ae(f,"POST","/v1/accounts:signInWithIdp",te(f,l))})).apply(this,arguments)}class Ki extends ys{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(l){const d=new Ki(l.providerId,l.signInMethod);return l.idToken||l.accessToken?(l.idToken&&(d.idToken=l.idToken),l.accessToken&&(d.accessToken=l.accessToken),l.nonce&&!l.pendingToken&&(d.nonce=l.nonce),l.pendingToken&&(d.pendingToken=l.pendingToken)):l.oauthToken&&l.oauthTokenSecret?(d.accessToken=l.oauthToken,d.secret=l.oauthTokenSecret):Dt("argument-error"),d}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:p,signInMethod:_}=d,v=(0,rn._T)(d,["providerId","signInMethod"]);if(!p||!_)return null;const T=new Ki(p,_);return T.idToken=v.idToken||void 0,T.accessToken=v.accessToken||void 0,T.secret=v.secret,T.nonce=v.nonce,T.pendingToken=v.pendingToken||null,T}_getIdTokenResponse(l){return Yr(l,this.buildRequest())}_linkToIdToken(l,d){const p=this.buildRequest();return p.idToken=d,Yr(l,p)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Yr(l,d)}buildRequest(){const l={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)l.pendingToken=this.pendingToken;else{const d={};this.idToken&&(d.id_token=this.idToken),this.accessToken&&(d.access_token=this.accessToken),this.secret&&(d.oauth_token_secret=this.secret),d.providerId=this.providerId,this.nonce&&!this.pendingToken&&(d.nonce=this.nonce),l.postBody=(0,$.xO)(d)}return l}}function Yh(){return(Yh=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:sendVerificationCode",te(f,l))})).apply(this,arguments)}function $s(){return($s=(0,I.Z)(function*(f,l){return Ae(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,l))})).apply(this,arguments)}function Zi(){return(Zi=(0,I.Z)(function*(f,l){const d=yield Ae(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,l));if(d.temporaryProof)throw jn(f,"account-exists-with-different-credential",d);return d})).apply(this,arguments)}const bE={USER_NOT_FOUND:"user-not-found"};function mu(){return(mu=(0,I.Z)(function*(f,l){return Ae(f,"POST","/v1/accounts:signInWithPhoneNumber",te(f,Object.assign(Object.assign({},l),{operation:"REAUTH"})),bE)})).apply(this,arguments)}class ce extends ys{constructor(l){super("phone","phone"),this.params=l}static _fromVerification(l,d){return new ce({verificationId:l,verificationCode:d})}static _fromTokenResponse(l,d){return new ce({phoneNumber:l,temporaryProof:d})}_getIdTokenResponse(l){return function e_(f,l){return $s.apply(this,arguments)}(l,this._makeVerificationRequest())}_linkToIdToken(l,d){return function vE(f,l){return Zi.apply(this,arguments)}(l,Object.assign({idToken:d},this._makeVerificationRequest()))}_getReauthenticationResolver(l){return function Y(f,l){return mu.apply(this,arguments)}(l,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:l,phoneNumber:d,verificationId:p,verificationCode:_}=this.params;return l&&d?{temporaryProof:l,phoneNumber:d}:{sessionInfo:p,code:_}}toJSON(){const l={providerId:this.providerId};return this.params.phoneNumber&&(l.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(l.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(l.verificationCode=this.params.verificationCode),this.params.verificationId&&(l.verificationId=this.params.verificationId),l}static fromJSON(l){"string"==typeof l&&(l=JSON.parse(l));const{verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}=l;return p||d||_||v?new ce({verificationId:d,verificationCode:p,phoneNumber:_,temporaryProof:v}):null}}class vs{constructor(l){var d,p,_,v,T,P;const W=(0,$.zd)((0,$.pd)(l)),he=null!==(d=W.apiKey)&&void 0!==d?d:null,ye=null!==(p=W.oobCode)&&void 0!==p?p:null,Ie=function gu(f){switch(f){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(_=W.mode)&&void 0!==_?_:null);J(he&&ye&&Ie,"argument-error"),this.apiKey=he,this.operation=Ie,this.code=ye,this.continueUrl=null!==(v=W.continueUrl)&&void 0!==v?v:null,this.languageCode=null!==(T=W.languageCode)&&void 0!==T?T:null,this.tenantId=null!==(P=W.tenantId)&&void 0!==P?P:null}static parseLink(l){const d=function Xh(f){const l=(0,$.zd)((0,$.pd)(f)).link,d=l?(0,$.zd)((0,$.pd)(l)).deep_link_id:null,p=(0,$.zd)((0,$.pd)(f)).deep_link_id;return(p?(0,$.zd)((0,$.pd)(p)).link:null)||p||d||l||f}(l);try{return new vs(d)}catch{return null}}}let Jh=(()=>{class f{constructor(){this.providerId=f.PROVIDER_ID}static credential(d,p){return fu._fromEmailAndPassword(d,p)}static credentialWithLink(d,p){const _=vs.parseLink(p);return J(_,"argument-error"),fu._fromEmailAndCode(d,_.code,_.tenantId)}}return f.PROVIDER_ID="password",f.EMAIL_PASSWORD_SIGN_IN_METHOD="password",f.EMAIL_LINK_SIGN_IN_METHOD="emailLink",f})();class bs{constructor(l){this.providerId=l,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(l){this.defaultLanguageCode=l}setCustomParameters(l){return this.customParameters=l,this}getCustomParameters(){return this.customParameters}}class Fr extends bs{constructor(){super(...arguments),this.scopes=[]}addScope(l){return this.scopes.includes(l)||this.scopes.push(l),this}getScopes(){return[...this.scopes]}}class Es extends Fr{static credentialFromJSON(l){const d="string"==typeof l?JSON.parse(l):l;return J("providerId"in d&&"signInMethod"in d,"argument-error"),Ki._fromParams(d)}credential(l){return this._credential(Object.assign(Object.assign({},l),{nonce:l.rawNonce}))}_credential(l){return J(l.idToken||l.accessToken,"argument-error"),Ki._fromParams(Object.assign(Object.assign({},l),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(l){return Es.oauthCredentialFromTaggedObject(l)}static credentialFromError(l){return Es.oauthCredentialFromTaggedObject(l.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{oauthIdToken:d,oauthAccessToken:p,oauthTokenSecret:_,pendingToken:v,nonce:T,providerId:P}=l;if(!p&&!_&&!d&&!v||!P)return null;try{return new Es(P)._credential({idToken:d,accessToken:p,nonce:T,pendingToken:v})}catch{return null}}}let Xr=(()=>{class f extends Fr{constructor(){super("facebook.com")}static credential(d){return Ki._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.FACEBOOK_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.FACEBOOK_SIGN_IN_METHOD="facebook.com",f.PROVIDER_ID="facebook.com",f})(),xi=(()=>{class f extends Fr{constructor(){super("google.com"),this.addScope("profile")}static credential(d,p){return Ki._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GOOGLE_SIGN_IN_METHOD,idToken:d,accessToken:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthIdToken:p,oauthAccessToken:_}=d;if(!p&&!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.GOOGLE_SIGN_IN_METHOD="google.com",f.PROVIDER_ID="google.com",f})(),vt=(()=>{class f extends Fr{constructor(){super("github.com")}static credential(d){return Ki._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.GITHUB_SIGN_IN_METHOD,accessToken:d})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d||!("oauthAccessToken"in d)||!d.oauthAccessToken)return null;try{return f.credential(d.oauthAccessToken)}catch{return null}}}return f.GITHUB_SIGN_IN_METHOD="github.com",f.PROVIDER_ID="github.com",f})();class zs extends ys{constructor(l,d){super(l,l),this.pendingToken=d}_getIdTokenResponse(l){return Yr(l,this.buildRequest())}_linkToIdToken(l,d){const p=this.buildRequest();return p.idToken=d,Yr(l,p)}_getReauthenticationResolver(l){const d=this.buildRequest();return d.autoCreate=!1,Yr(l,d)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(l){const d="string"==typeof l?JSON.parse(l):l,{providerId:p,signInMethod:_,pendingToken:v}=d;return p&&_&&v&&p===_?new zs(p,v):null}static _create(l,d){return new zs(l,d)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Uc extends bs{constructor(l){J(l.startsWith("saml."),"argument-error"),super(l)}static credentialFromResult(l){return Uc.samlCredentialFromTaggedObject(l)}static credentialFromError(l){return Uc.samlCredentialFromTaggedObject(l.customData||{})}static credentialFromJSON(l){const d=zs.fromJSON(l);return J(d,"argument-error"),d}static samlCredentialFromTaggedObject({_tokenResponse:l}){if(!l)return null;const{pendingToken:d,providerId:p}=l;if(!d||!p)return null;try{return zs._create(p,d)}catch{return null}}}let Qi=(()=>{class f extends Fr{constructor(){super("twitter.com")}static credential(d,p){return Ki._fromParams({providerId:f.PROVIDER_ID,signInMethod:f.TWITTER_SIGN_IN_METHOD,oauthToken:d,oauthTokenSecret:p})}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{oauthAccessToken:p,oauthTokenSecret:_}=d;if(!p||!_)return null;try{return f.credential(p,_)}catch{return null}}}return f.TWITTER_SIGN_IN_METHOD="twitter.com",f.PROVIDER_ID="twitter.com",f})();function _a(f,l){return yu.apply(this,arguments)}function yu(){return(yu=(0,I.Z)(function*(f,l){return Ae(f,"POST","/v1/accounts:signUp",te(f,l))})).apply(this,arguments)}class Jr{constructor(l){this.user=l.user,this.providerId=l.providerId,this._tokenResponse=l._tokenResponse,this.operationType=l.operationType}static _fromIdTokenResponse(l,d,p,_=!1){return(0,I.Z)(function*(){const v=yield q._fromIdTokenResponse(l,p,_),T=vu(p);return new Jr({user:v,providerId:T,_tokenResponse:p,operationType:d})})()}static _forOperation(l,d,p){return(0,I.Z)(function*(){yield l._updateTokensIfNecessary(p,!0);const _=vu(p);return new Jr({user:l,providerId:_,_tokenResponse:p,operationType:d})})()}}function vu(f){return f.providerId?f.providerId:"phoneNumber"in f?"phone":null}function bu(){return(bu=(0,I.Z)(function*(f){var l;const d=Qt(f);if(yield d._initializationPromise,null!==(l=d.currentUser)&&void 0!==l&&l.isAnonymous)return new Jr({user:d.currentUser,providerId:null,operationType:"signIn"});const p=yield _a(d,{returnSecureToken:!0}),_=yield Jr._fromIdTokenResponse(d,"signIn",p,!0);return yield d._updateCurrentUser(_.user),_})).apply(this,arguments)}class qs extends $.ZR{constructor(l,d,p,_){var v;super(d.code,d.message),this.operationType=p,this.user=_,Object.setPrototypeOf(this,qs.prototype),this.customData={appName:l.name,tenantId:null!==(v=l.tenantId)&&void 0!==v?v:void 0,_serverResponse:d.customData._serverResponse,operationType:p}}static _fromErrorAndOperation(l,d,p,_){return new qs(l,d,p,_)}}function tf(f,l,d,p){return("reauthenticate"===l?d._getReauthenticationResolver(f):d._getIdTokenResponse(f)).catch(v=>{throw"auth/multi-factor-auth-required"===v.code?qs._fromErrorAndOperation(f,v,l,p):v})}function nf(f){return new Set(f.map(({providerId:l})=>l).filter(l=>!!l))}function Eu(){return Eu=(0,I.Z)(function*(f,l){const d=(0,$.m9)(f);yield Lr(!0,d,l);const{providerUserInfo:p}=yield function Sc(f,l){return Nr.apply(this,arguments)}(d.auth,{idToken:yield d.getIdToken(),deleteProvider:[l]}),_=nf(p||[]);return d.providerData=d.providerData.filter(v=>_.has(v.providerId)),_.has("phone")||(d.phoneNumber=null),yield d.auth._persistUserIfCurrent(d),d}),Eu.apply(this,arguments)}function rf(f,l){return sf.apply(this,arguments)}function sf(){return(sf=(0,I.Z)(function*(f,l,d=!1){const p=yield gi(f,l._linkToIdToken(f.auth,yield f.getIdToken()),d);return Jr._forOperation(f,"link",p)})).apply(this,arguments)}function Lr(f,l,d){return af.apply(this,arguments)}function af(){return(af=(0,I.Z)(function*(f,l,d){yield br(l);const _=!1===f?"provider-already-linked":"no-such-provider";J(nf(l.providerData).has(d)===f,l.auth,_)})).apply(this,arguments)}function cf(f,l){return lf.apply(this,arguments)}function lf(){return(lf=(0,I.Z)(function*(f,l,d=!1){const{auth:p}=f,_="reauthenticate";try{const v=yield gi(f,tf(p,_,l,f),d);J(v.idToken,p,"internal-error");const T=da(v.idToken);J(T,p,"internal-error");const{sub:P}=T;return J(f.uid===P,p,"user-mismatch"),Jr._forOperation(f,_,v)}catch(v){throw"auth/user-not-found"===v?.code&&Dt(p,"user-mismatch"),v}})).apply(this,arguments)}function n_(f,l){return uf.apply(this,arguments)}function uf(){return(uf=(0,I.Z)(function*(f,l,d=!1){const p="signIn",_=yield tf(f,p,l),v=yield Jr._fromIdTokenResponse(f,p,_);return d||(yield f._updateCurrentUser(v.user)),v})).apply(this,arguments)}function Iu(f,l){return wu.apply(this,arguments)}function wu(){return(wu=(0,I.Z)(function*(f,l){return n_(Qt(f),l)})).apply(this,arguments)}function r_(f,l){return df.apply(this,arguments)}function df(){return(df=(0,I.Z)(function*(f,l){const d=(0,$.m9)(f);return yield Lr(!1,d,l.providerId),rf(d,l)})).apply(this,arguments)}function i_(f,l){return En.apply(this,arguments)}function En(){return(En=(0,I.Z)(function*(f,l){return cf((0,$.m9)(f),l)})).apply(this,arguments)}function hf(){return(hf=(0,I.Z)(function*(f,l){return Ae(f,"POST","/v1/accounts:signInWithCustomToken",te(f,l))})).apply(this,arguments)}function Xt(){return Xt=(0,I.Z)(function*(f,l){const d=Qt(f),p=yield function IE(f,l){return hf.apply(this,arguments)}(d,{token:l,returnSecureToken:!0}),_=yield Jr._fromIdTokenResponse(d,"signIn",p);return yield d._updateCurrentUser(_.user),_}),Xt.apply(this,arguments)}class Bc{constructor(l,d){this.factorId=l,this.uid=d.mfaEnrollmentId,this.enrollmentTime=new Date(d.enrolledAt).toUTCString(),this.displayName=d.displayName}static _fromServerResponse(l,d){return"phoneInfo"in d?Tu._fromServerResponse(l,d):"totpInfo"in d?Ne._fromServerResponse(l,d):Dt(l,"internal-error")}}class Tu extends Bc{constructor(l){super("phone",l),this.phoneNumber=l.phoneInfo}static _fromServerResponse(l,d){return new Tu(d)}}class Ne extends Bc{constructor(l){super("totp",l)}static _fromServerResponse(l,d){return new Ne(d)}}function er(f,l,d){var p;J((null===(p=d.url)||void 0===p?void 0:p.length)>0,f,"invalid-continue-uri"),J(typeof d.dynamicLinkDomain>"u"||d.dynamicLinkDomain.length>0,f,"invalid-dynamic-link-domain"),l.continueUrl=d.url,l.dynamicLinkDomain=d.dynamicLinkDomain,l.canHandleCodeInApp=d.handleCodeInApp,d.iOS&&(J(d.iOS.bundleId.length>0,f,"missing-ios-bundle-id"),l.iOSBundleId=d.iOS.bundleId),d.android&&(J(d.android.packageName.length>0,f,"missing-android-pkg-name"),l.androidInstallApp=d.android.installApp,l.androidMinimumVersionCode=d.android.minimumVersion,l.androidPackageName=d.android.packageName)}function ht(f){return On.apply(this,arguments)}function On(){return(On=(0,I.Z)(function*(f){const l=Qt(f);l._getPasswordPolicyInternal()&&(yield l._updatePasswordPolicy())})).apply(this,arguments)}function Gs(){return(Gs=(0,I.Z)(function*(f,l,d){const p=Qt(f),_={requestType:"PASSWORD_RESET",email:l,clientType:"CLIENT_TYPE_WEB"};d&&er(p,_,d),yield Oe(p,_,"getOobCode",Qh)})).apply(this,arguments)}function Cu(){return Cu=(0,I.Z)(function*(f,l,d){yield Pc((0,$.m9)(f),{oobCode:l,newPassword:d}).catch(function(){var p=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ht(f),_});return function(_){return p.apply(this,arguments)}}())}),Cu.apply(this,arguments)}function ya(){return ya=(0,I.Z)(function*(f,l){yield function Wg(f,l){return hr.apply(this,arguments)}((0,$.m9)(f),{oobCode:l})}),ya.apply(this,arguments)}function o_(f,l){return ff.apply(this,arguments)}function ff(){return(ff=(0,I.Z)(function*(f,l){const d=(0,$.m9)(f),p=yield Pc(d,{oobCode:l}),_=p.requestType;switch(J(_,d,"internal-error"),_){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":J(p.newEmail,d,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":J(p.mfaInfo,d,"internal-error");default:J(p.email,d,"internal-error")}let v=null;return p.mfaInfo&&(v=Bc._fromServerResponse(Qt(d),p.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.newEmail:p.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===p.requestType?p.email:p.newEmail)||null,multiFactorInfo:v},operation:_}})).apply(this,arguments)}function pe(){return(pe=(0,I.Z)(function*(f,l){const{data:d}=yield o_((0,$.m9)(f),l);return d.email})).apply(this,arguments)}function Ut(){return(Ut=(0,I.Z)(function*(f,l,d){const p=Qt(f),T=yield Oe(p,{returnSecureToken:!0,email:l,password:d,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_a).catch(W=>{throw"auth/password-does-not-meet-requirements"===W.code&&ht(f),W}),P=yield Jr._fromIdTokenResponse(p,"signIn",T);return yield p._updateCurrentUser(P.user),P})).apply(this,arguments)}function zn(){return(zn=(0,I.Z)(function*(f,l,d){const p=Qt(f),_={requestType:"EMAIL_SIGNIN",email:l,clientType:"CLIENT_TYPE_WEB"};(function v(T,P){J(P.handleCodeInApp,p,"argument-error"),P&&er(p,T,P)})(_,d),yield Oe(p,_,"getOobCode",Yg)})).apply(this,arguments)}function Yi(){return(Yi=(0,I.Z)(function*(f,l,d){const p=(0,$.m9)(f),_=Jh.credentialWithLink(l,d||Pn());return J(_._tenantId===(p.tenantId||null),p,"tenant-id-mismatch"),Iu(p,_)})).apply(this,arguments)}function Be(){return(Be=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:createAuthUri",te(f,l))})).apply(this,arguments)}function Au(){return Au=(0,I.Z)(function*(f,l){const p={identifier:l,continueUri:zi()?Pn():"http://localhost"},{signinMethods:_}=yield function ba(f,l){return Be.apply(this,arguments)}((0,$.m9)(f),p);return _||[]}),Au.apply(this,arguments)}function an(){return an=(0,I.Z)(function*(f,l){const d=(0,$.m9)(f),_={requestType:"VERIFY_EMAIL",idToken:yield f.getIdToken()};l&&er(d.auth,_,l);const{email:v}=yield function Mx(f,l){return oe.apply(this,arguments)}(d.auth,_);v!==f.email&&(yield f.reload())}),an.apply(this,arguments)}function Ws(){return Ws=(0,I.Z)(function*(f,l,d){const p=(0,$.m9)(f),v={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield f.getIdToken(),newEmail:l};d&&er(p.auth,v,d);const{email:T}=yield function _E(f,l){return Lc.apply(this,arguments)}(p.auth,v);T!==f.email&&(yield f.reload())}),Ws.apply(this,arguments)}function Mo(){return(Mo=(0,I.Z)(function*(f,l){return H(f,"POST","/v1/accounts:update",l)})).apply(this,arguments)}function Ji(){return Ji=(0,I.Z)(function*(f,{displayName:l,photoURL:d}){if(void 0===l&&void 0===d)return;const p=(0,$.m9)(f),v={idToken:yield p.getIdToken(),displayName:l,photoUrl:d,returnSecureToken:!0},T=yield gi(p,function Xi(f,l){return Mo.apply(this,arguments)}(p.auth,v));p.displayName=T.displayName||null,p.photoURL=T.photoUrl||null;const P=p.providerData.find(({providerId:W})=>"password"===W);P&&(P.displayName=p.displayName,P.photoURL=p.photoURL),yield p._updateTokensIfNecessary(T)}),Ji.apply(this,arguments)}function Ia(f,l,d){return st.apply(this,arguments)}function st(){return st=(0,I.Z)(function*(f,l,d){const{auth:p}=f,v={idToken:yield f.getIdToken(),returnSecureToken:!0};l&&(v.email=l),d&&(v.password=d);const T=yield gi(f,function Gg(f,l){return Zh.apply(this,arguments)}(p,v));yield f._updateTokensIfNecessary(T,!0)}),st.apply(this,arguments)}class Ks{constructor(l,d,p={}){this.isNewUser=l,this.providerId=d,this.profile=p}}class pf extends Ks{constructor(l,d,p,_){super(l,d,p),this.username=_}}class es extends Ks{constructor(l,d){super(l,"facebook.com",d)}}class Du extends pf{constructor(l,d){super(l,"github.com",d,"string"==typeof d?.login?d?.login:null)}}class wa extends Ks{constructor(l,d){super(l,"google.com",d)}}class qc extends pf{constructor(l,d,p){super(l,"twitter.com",d,p)}}function tr(f){const{user:l,_tokenResponse:d}=f;return l.isAnonymous&&!d?{providerId:null,isNewUser:!1,profile:null}:function kx(f){var l,d;if(!f)return null;const{providerId:p}=f,_=f.rawUserInfo?JSON.parse(f.rawUserInfo):{},v=f.isNewUser||"identitytoolkit#SignupNewUserResponse"===f.kind;if(!p&&f?.idToken){const T=null===(d=null===(l=da(f.idToken))||void 0===l?void 0:l.firebase)||void 0===d?void 0:d.sign_in_provider;if(T)return new Ks(v,"anonymous"!==T&&"custom"!==T?T:null)}if(!p)return null;switch(p){case"facebook.com":return new es(v,_);case"github.com":return new Du(v,_);case"google.com":return new wa(v,_);case"twitter.com":return new qc(v,_,f.screenName||null);case"custom":case"anonymous":return new Ks(v,null);default:return new Ks(v,p,_)}}(d)}class Ta{constructor(l,d,p){this.type=l,this.credential=d,this.user=p}static _fromIdtoken(l,d){return new Ta("enroll",l,d)}static _fromMfaPendingCredential(l){return new Ta("signin",l)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(l){var d,p;if(l?.multiFactorSession){if(null!==(d=l.multiFactorSession)&&void 0!==d&&d.pendingCredential)return Ta._fromMfaPendingCredential(l.multiFactorSession.pendingCredential);if(null!==(p=l.multiFactorSession)&&void 0!==p&&p.idToken)return Ta._fromIdtoken(l.multiFactorSession.idToken)}return null}}class l_{constructor(l,d,p){this.session=l,this.hints=d,this.signInResolver=p}static _fromError(l,d){const p=Qt(l),_=d.customData._serverResponse,v=(_.mfaInfo||[]).map(P=>Bc._fromServerResponse(p,P));J(_.mfaPendingCredential,p,"internal-error");const T=Ta._fromMfaPendingCredential(_.mfaPendingCredential);return new l_(T,v,function(){var P=(0,I.Z)(function*(W){const he=yield W._process(p,T);delete _.mfaInfo,delete _.mfaPendingCredential;const ye=Object.assign(Object.assign({},_),{idToken:he.idToken,refreshToken:he.refreshToken});switch(d.operationType){case"signIn":const Ie=yield Jr._fromIdTokenResponse(p,d.operationType,ye);return yield p._updateCurrentUser(Ie.user),Ie;case"reauthenticate":return J(d.user,p,"internal-error"),Jr._forOperation(d.user,d.operationType,ye);default:Dt(p,"internal-error")}});return function(W){return P.apply(this,arguments)}}())}resolveSignIn(l){var d=this;return(0,I.Z)(function*(){return d.signInResolver(l)})()}}class u_{constructor(l){this.user=l,this.enrolledFactors=[],l._onReload(d=>{d.mfaInfo&&(this.enrolledFactors=d.mfaInfo.map(p=>Bc._fromServerResponse(l.auth,p)))})}static _fromUser(l){return new u_(l)}getSession(){var l=this;return(0,I.Z)(function*(){return Ta._fromIdtoken(yield l.user.getIdToken(),l.user)})()}enroll(l,d){var p=this;return(0,I.Z)(function*(){const _=l,v=yield p.getSession(),T=yield gi(p.user,_._process(p.user.auth,v,d));return yield p.user._updateTokensIfNecessary(T),p.user.reload()})()}unenroll(l){var d=this;return(0,I.Z)(function*(){const p="string"==typeof l?l:l.uid,_=yield d.user.getIdToken();try{const v=yield gi(d.user,function $x(f,l){return H(f,"POST","/v2/accounts/mfaEnrollment:withdraw",te(f,l))}(d.user.auth,{idToken:_,mfaEnrollmentId:p}));d.enrolledFactors=d.enrolledFactors.filter(({uid:T})=>T!==p),yield d.user._updateTokensIfNecessary(v),yield d.user.reload()}catch(v){throw v}})()}}const d_=new WeakMap,gf="__sak";class _f{constructor(l,d){this.storageRetriever=l,this.type=d}_isAvailable(){try{return this.storage?(this.storage.setItem(gf,"1"),this.storage.removeItem(gf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(l,d){return this.storage.setItem(l,JSON.stringify(d)),Promise.resolve()}_get(l){const d=this.storage.getItem(l);return Promise.resolve(d?JSON.parse(d):null)}_remove(l){return this.storage.removeItem(l),Promise.resolve()}get storage(){return this.storageRetriever()}}const ns=(()=>{class f extends _f{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(d,p)=>this.onStorageEvent(d,p),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function h_(){const f=(0,$.z$)();return Wi(f)||ze(f)}()&&function lt(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=we(),this._shouldAllowMigration=!0}forAllChangedKeys(d){for(const p of Object.keys(this.listeners)){const _=this.storage.getItem(p),v=this.localCache[p];_!==v&&d(p,v,_)}}onStorageEvent(d,p=!1){if(!d.key)return void this.forAllChangedKeys((P,W,he)=>{this.notifyListeners(P,he)});const _=d.key;if(p?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const P=this.storage.getItem(_);if(d.newValue!==P)null!==d.newValue?this.storage.setItem(_,d.newValue):this.storage.removeItem(_);else if(this.localCache[_]===d.newValue&&!p)return}const v=()=>{const P=this.storage.getItem(_);!p&&this.localCache[_]===P||this.notifyListeners(_,P)},T=this.storage.getItem(_);!function Dn(){return(0,$.w1)()&&10===document.documentMode}()||T===d.newValue||d.newValue===d.oldValue?v():setTimeout(v,10)}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p&&JSON.parse(p))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((d,p,_)=>{this.onStorageEvent(new StorageEvent("storage",{key:d,oldValue:p,newValue:_}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(d,p){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[d]||(this.listeners[d]=new Set,this.localCache[d]=this.storage.getItem(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(d,p){var _=()=>super._set,v=this;return(0,I.Z)(function*(){yield _().call(v,d,p),v.localCache[d]=JSON.stringify(p)})()}_get(d){var p=()=>super._get,_=this;return(0,I.Z)(function*(){const v=yield p().call(_,d);return _.localCache[d]=JSON.stringify(v),v})()}_remove(d){var p=()=>super._remove,_=this;return(0,I.Z)(function*(){yield p().call(_,d),delete _.localCache[d]})()}}return f.type="LOCAL",f})(),Oo=(()=>{class f extends _f{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(d,p){}_removeListener(d,p){}}return f.type="SESSION",f})();let nr=(()=>{class f{constructor(d){this.eventTarget=d,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(d){const p=this.receivers.find(v=>v.isListeningto(d));if(p)return p;const _=new f(d);return this.receivers.push(_),_}isListeningto(d){return this.eventTarget===d}handleEvent(d){var p=this;return(0,I.Z)(function*(){const _=d,{eventId:v,eventType:T,data:P}=_.data,W=p.handlersMap[T];if(!W?.size)return;_.ports[0].postMessage({status:"ack",eventId:v,eventType:T});const he=Array.from(W).map(function(){var Ie=(0,I.Z)(function*(mn){return mn(_.origin,P)});return function(mn){return Ie.apply(this,arguments)}}()),ye=yield function Wx(f){return Promise.all(f.map(function(){var l=(0,I.Z)(function*(d){try{return{fulfilled:!0,value:yield d}}catch(p){return{fulfilled:!1,reason:p}}});return function(d){return l.apply(this,arguments)}}()))}(he);_.ports[0].postMessage({status:"done",eventId:v,eventType:T,response:ye})})()}_subscribe(d,p){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[d]||(this.handlersMap[d]=new Set),this.handlersMap[d].add(p)}_unsubscribe(d,p){this.handlersMap[d]&&p&&this.handlersMap[d].delete(p),(!p||0===this.handlersMap[d].size)&&delete this.handlersMap[d],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return f.receivers=[],f})();function Zs(f="",l=10){let d="";for(let p=0;p<l;p++)d+=Math.floor(10*Math.random());return f+d}class _i{constructor(l){this.target=l,this.handlers=new Set}removeMessageHandler(l){l.messageChannel&&(l.messageChannel.port1.removeEventListener("message",l.onMessage),l.messageChannel.port1.close()),this.handlers.delete(l)}_send(l,d,p=50){var _=this;return(0,I.Z)(function*(){const v=typeof MessageChannel<"u"?new MessageChannel:null;if(!v)throw new Error("connection_unavailable");let T,P;return new Promise((W,he)=>{const ye=Zs("",20);v.port1.start();const Ie=setTimeout(()=>{he(new Error("unsupported_event"))},p);P={messageChannel:v,onMessage(mn){const Mi=mn;if(Mi.data.eventId===ye)switch(Mi.data.status){case"ack":clearTimeout(Ie),T=setTimeout(()=>{he(new Error("timeout"))},3e3);break;case"done":clearTimeout(T),W(Mi.data.response);break;default:clearTimeout(Ie),clearTimeout(T),he(new Error("invalid_response"))}}},_.handlers.add(P),v.port1.addEventListener("message",P.onMessage),_.target.postMessage({eventType:l,eventId:ye,data:d},[v.port2])}).finally(()=>{P&&_.removeMessageHandler(P)})})()}}function wn(){return window}function xu(){return typeof wn().WorkerGlobalScope<"u"&&"function"==typeof wn().importScripts}function Wc(){return(Wc=(0,I.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ru="firebaseLocalStorageDb",Kc="firebaseLocalStorage",vf="fbase_key";class Qs{constructor(l){this.request=l}toPromise(){return new Promise((l,d)=>{this.request.addEventListener("success",()=>{l(this.request.result)}),this.request.addEventListener("error",()=>{d(this.request.error)})})}}function Ys(f,l){return f.transaction([Kc],l?"readwrite":"readonly").objectStore(Kc)}function Mu(){const f=indexedDB.open(Ru,1);return new Promise((l,d)=>{f.addEventListener("error",()=>{d(f.error)}),f.addEventListener("upgradeneeded",()=>{const p=f.result;try{p.createObjectStore(Kc,{keyPath:vf})}catch(_){d(_)}}),f.addEventListener("success",(0,I.Z)(function*(){const p=f.result;p.objectStoreNames.contains(Kc)?l(p):(p.close(),yield function Ca(){const f=indexedDB.deleteDatabase(Ru);return new Qs(f).toPromise()}(),l(yield Mu()))}))})}function TE(f,l,d){return __.apply(this,arguments)}function __(){return(__=(0,I.Z)(function*(f,l,d){const p=Ys(f,!0).put({[vf]:l,value:d});return new Qs(p).toPromise()})).apply(this,arguments)}function bf(){return(bf=(0,I.Z)(function*(f,l){const d=Ys(f,!1).get(l),p=yield new Qs(d).toPromise();return void 0===p?null:p.value})).apply(this,arguments)}function y_(f,l){const d=Ys(f,!0).delete(l);return new Qs(d).toPromise()}const Aa=(()=>{class f{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var d=this;return(0,I.Z)(function*(){return d.db||(d.db=yield Mu()),d.db})()}_withRetries(d){var p=this;return(0,I.Z)(function*(){let _=0;for(;;)try{const v=yield p._openDb();return yield d(v)}catch(v){if(_++>3)throw v;p.db&&(p.db.close(),p.db=void 0)}})()}initializeServiceWorkerMessaging(){var d=this;return(0,I.Z)(function*(){return xu()?d.initializeReceiver():d.initializeSender()})()}initializeReceiver(){var d=this;return(0,I.Z)(function*(){d.receiver=nr._getInstance(function yf(){return xu()?self:null}()),d.receiver._subscribe("keyChanged",function(){var p=(0,I.Z)(function*(_,v){return{keyProcessed:(yield d._poll()).includes(v.key)}});return function(_,v){return p.apply(this,arguments)}}()),d.receiver._subscribe("ping",function(){var p=(0,I.Z)(function*(_,v){return["keyChanged"]});return function(_,v){return p.apply(this,arguments)}}())})()}initializeSender(){var d=this;return(0,I.Z)(function*(){var p,_;if(d.activeServiceWorker=yield function p_(){return Wc.apply(this,arguments)}(),!d.activeServiceWorker)return;d.sender=new _i(d.activeServiceWorker);const v=yield d.sender._send("ping",{},800);v&&null!==(p=v[0])&&void 0!==p&&p.fulfilled&&null!==(_=v[0])&&void 0!==_&&_.value.includes("keyChanged")&&(d.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(d){var p=this;return(0,I.Z)(function*(){if(p.sender&&p.activeServiceWorker&&function m_(){var f;return(null===(f=navigator?.serviceWorker)||void 0===f?void 0:f.controller)||null}()===p.activeServiceWorker)try{yield p.sender._send("keyChanged",{key:d},p.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const d=yield Mu();return yield TE(d,gf,"1"),yield y_(d,gf),!0}catch{}return!1})()}_withPendingWrite(d){var p=this;return(0,I.Z)(function*(){p.pendingWrites++;try{yield d()}finally{p.pendingWrites--}})()}_set(d,p){var _=this;return(0,I.Z)(function*(){return _._withPendingWrite((0,I.Z)(function*(){return yield _._withRetries(v=>TE(v,d,p)),_.localCache[d]=p,_.notifyServiceWorker(d)}))})()}_get(d){var p=this;return(0,I.Z)(function*(){const _=yield p._withRetries(v=>function Kx(f,l){return bf.apply(this,arguments)}(v,d));return p.localCache[d]=_,_})()}_remove(d){var p=this;return(0,I.Z)(function*(){return p._withPendingWrite((0,I.Z)(function*(){return yield p._withRetries(_=>y_(_,d)),delete p.localCache[d],p.notifyServiceWorker(d)}))})()}_poll(){var d=this;return(0,I.Z)(function*(){const p=yield d._withRetries(T=>{const P=Ys(T,!1).getAll();return new Qs(P).toPromise()});if(!p)return[];if(0!==d.pendingWrites)return[];const _=[],v=new Set;for(const{fbase_key:T,value:P}of p)v.add(T),JSON.stringify(d.localCache[T])!==JSON.stringify(P)&&(d.notifyListeners(T,P),_.push(T));for(const T of Object.keys(d.localCache))d.localCache[T]&&!v.has(T)&&(d.notifyListeners(T,null),_.push(T));return _})()}notifyListeners(d,p){this.localCache[d]=p;const _=this.listeners[d];if(_)for(const v of Array.from(_))v(p)}startPolling(){var d=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return d._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(d,p){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[d]||(this.listeners[d]=new Set,this._get(d)),this.listeners[d].add(p)}_removeListener(d,p){this.listeners[d]&&(this.listeners[d].delete(p),0===this.listeners[d].size&&delete this.listeners[d]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return f.type="LOCAL",f})(),Zc=1e12;class AE{constructor(l){this.auth=l,this.counter=Zc,this._widgets=new Map}render(l,d){const p=this.counter;return this._widgets.set(p,new DE(l,this.auth.name,d||{})),this.counter++,p}reset(l){var d;const p=l||Zc;null===(d=this._widgets.get(p))||void 0===d||d.delete(),this._widgets.delete(p)}getResponse(l){var d;return(null===(d=this._widgets.get(l||Zc))||void 0===d?void 0:d.getResponse())||""}execute(l){var d=this;return(0,I.Z)(function*(){var p;return null===(p=d._widgets.get(l||Zc))||void 0===p||p.execute(),""})()}}class DE{constructor(l,d,p){this.params=p,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const _="string"==typeof l?document.getElementById(l):l;J(_,"argument-error",{appName:d}),this.container=_,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function SE(f){const l=[],d="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<f;p++)l.push(d.charAt(Math.floor(62*Math.random())));return l.join("")}(50);const{callback:l,"expired-callback":d}=this.params;if(l)try{l(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,d)try{d()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Pu=hE("rcb"),xE=new Gi(3e4,6e4);class RE{constructor(){var l;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(l=wn().grecaptcha)||void 0===l||!l.render)}load(l,d=""){return J(function Xx(f){return f.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(f)}(d),l,"argument-error"),this.shouldResolveImmediately(d)&&vr(wn().grecaptcha)?Promise.resolve(wn().grecaptcha):new Promise((p,_)=>{const v=wn().setTimeout(()=>{_(Vt(l,"network-request-failed"))},xE.get());wn()[Pu]=()=>{wn().clearTimeout(v),delete wn()[Pu];const P=wn().grecaptcha;if(!P||!vr(P))return void _(Vt(l,"internal-error"));const W=P.render;P.render=(he,ye)=>{const Ie=W(he,ye);return this.counter++,Ie},this.hostLanguage=d,p(P)},Hg(`https://www.google.com/recaptcha/api.js??${(0,$.xO)({onload:Pu,render:"explicit",hl:d})}`).catch(()=>{clearTimeout(v),_(Vt(l,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(l){var d;return!(null===(d=wn().grecaptcha)||void 0===d||!d.render)&&(l===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ME{load(l){return(0,I.Z)(function*(){return new AE(l)})()}clearedOneInstance(){}}const ni="recaptcha",w_={theme:"light",type:"image"};class PE{constructor(l,d,p=Object.assign({},w_)){this.parameters=p,this.type=ni,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Qt(l),this.isInvisible="invisible"===this.parameters.size,J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const _="string"==typeof d?document.getElementById(d):d;J(_,this.auth,"argument-error"),this.container=_,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ME:new RE,this.validateStartingState()}verify(){var l=this;return(0,I.Z)(function*(){l.assertNotDestroyed();const d=yield l.render(),p=l.getAssertedRecaptcha();return p.getResponse(d)||new Promise(v=>{const T=P=>{P&&(l.tokenChangeListeners.delete(T),v(P))};l.tokenChangeListeners.add(T),l.isInvisible&&p.execute(d)})})()}render(){try{this.assertNotDestroyed()}catch(l){return Promise.reject(l)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(l=>{throw this.renderPromise=null,l})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(l=>{this.container.removeChild(l)})}validateStartingState(){J(!this.parameters.sitekey,this.auth,"argument-error"),J(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),J(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(l){return d=>{if(this.tokenChangeListeners.forEach(p=>p(d)),"function"==typeof l)l(d);else if("string"==typeof l){const p=wn()[l];"function"==typeof p&&p(d)}}}assertNotDestroyed(){J(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var l=this;return(0,I.Z)(function*(){if(yield l.init(),!l.widgetId){let d=l.container;if(!l.isInvisible){const p=document.createElement("div");d.appendChild(p),d=p}l.widgetId=l.getAssertedRecaptcha().render(d,l.parameters)}return l.widgetId})()}init(){var l=this;return(0,I.Z)(function*(){J(zi()&&!xu(),l.auth,"internal-error"),yield function NE(){let f=null;return new Promise(l=>{"complete"!==document.readyState?(f=()=>l(),window.addEventListener("load",f)):l()}).catch(l=>{throw f&&window.removeEventListener("load",f),l})}(),l.recaptcha=yield l._recaptchaLoader.load(l.auth,l.auth.languageCode||void 0);const d=yield function Ac(f){return gs.apply(this,arguments)}(l.auth);J(d,l.auth,"internal-error"),l.parameters.sitekey=d})()}getAssertedRecaptcha(){return J(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Nu{constructor(l,d){this.verificationId=l,this.onConfirmation=d}confirm(l){const d=ce._fromVerification(this.verificationId,l);return this.onConfirmation(d)}}function If(){return(If=(0,I.Z)(function*(f,l,d){const p=Qt(f),_=yield Qc(p,l,(0,$.m9)(d));return new Nu(_,v=>Iu(p,v))})).apply(this,arguments)}function Tf(){return(Tf=(0,I.Z)(function*(f,l,d){const p=(0,$.m9)(f);yield Lr(!1,p,"phone");const _=yield Qc(p.auth,l,(0,$.m9)(d));return new Nu(_,v=>r_(p,v))})).apply(this,arguments)}function Ou(){return(Ou=(0,I.Z)(function*(f,l,d){const p=(0,$.m9)(f),_=yield Qc(p.auth,l,(0,$.m9)(d));return new Nu(_,v=>i_(p,v))})).apply(this,arguments)}function Qc(f,l,d){return Nt.apply(this,arguments)}function Nt(){return Nt=(0,I.Z)(function*(f,l,d){var p;const _=yield d.verify();try{let v;if(J("string"==typeof _,f,"argument-error"),J(d.type===ni,f,"argument-error"),v="string"==typeof l?{phoneNumber:l}:l,"session"in v){const T=v.session;if("phoneNumber"in v)return J("enroll"===T.type,f,"internal-error"),(yield function Bx(f,l){return H(f,"POST","/v2/accounts/mfaEnrollment:start",te(f,l))}(f,{idToken:T.credential,phoneEnrollmentInfo:{phoneNumber:v.phoneNumber,recaptchaToken:_}})).phoneSessionInfo.sessionInfo;{J("signin"===T.type,f,"internal-error");const P=(null===(p=v.multiFactorHint)||void 0===p?void 0:p.uid)||v.multiFactorUid;return J(P,f,"missing-multi-factor-info"),(yield function Ef(f,l){return H(f,"POST","/v2/accounts/mfaSignIn:start",te(f,l))}(f,{mfaPendingCredential:T.credential,mfaEnrollmentId:P,phoneSignInInfo:{recaptchaToken:_}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:T}=yield function yE(f,l){return Yh.apply(this,arguments)}(f,{phoneNumber:v.phoneNumber,recaptchaToken:_});return T}}finally{d._reset()}}),Nt.apply(this,arguments)}function Da(){return(Da=(0,I.Z)(function*(f,l){yield rf((0,$.m9)(f),l)})).apply(this,arguments)}let qn=(()=>{class f{constructor(d){this.providerId=f.PROVIDER_ID,this.auth=Qt(d)}verifyPhoneNumber(d,p){return Qc(this.auth,d,(0,$.m9)(p))}static credential(d,p){return ce._fromVerification(d,p)}static credentialFromResult(d){return f.credentialFromTaggedObject(d)}static credentialFromError(d){return f.credentialFromTaggedObject(d.customData||{})}static credentialFromTaggedObject({_tokenResponse:d}){if(!d)return null;const{phoneNumber:p,temporaryProof:_}=d;return p&&_?ce._fromTokenResponse(p,_):null}}return f.PROVIDER_ID="phone",f.PHONE_SIGN_IN_METHOD="phone",f})();function ko(f,l){return l?et(l):(J(f._popupRedirectResolver,f,"argument-error"),f._popupRedirectResolver)}class ku extends ys{constructor(l){super("custom","custom"),this.params=l}_getIdTokenResponse(l){return Yr(l,this._buildIdpRequest())}_linkToIdToken(l,d){return Yr(l,this._buildIdpRequest(d))}_getReauthenticationResolver(l){return Yr(l,this._buildIdpRequest())}_buildIdpRequest(l){const d={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return l&&(d.idToken=l),d}}function Sa(f){return n_(f.auth,new ku(f),f.bypassAuthState)}function ri(f){const{auth:l,user:d}=f;return J(d,l,"internal-error"),cf(d,new ku(f),f.bypassAuthState)}function OE(f){return Af.apply(this,arguments)}function Af(){return(Af=(0,I.Z)(function*(f){const{auth:l,user:d}=f;return J(d,l,"internal-error"),rf(d,new ku(f),f.bypassAuthState)})).apply(this,arguments)}class C_{constructor(l,d,p,_,v=!1){this.auth=l,this.resolver=p,this.user=_,this.bypassAuthState=v,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(d)?d:[d]}execute(){var l=this;return new Promise(function(){var d=(0,I.Z)(function*(p,_){l.pendingPromise={resolve:p,reject:_};try{l.eventManager=yield l.resolver._initialize(l.auth),yield l.onExecution(),l.eventManager.registerConsumer(l)}catch(v){l.reject(v)}});return function(p,_){return d.apply(this,arguments)}}())}onAuthEvent(l){var d=this;return(0,I.Z)(function*(){const{urlResponse:p,sessionId:_,postBody:v,tenantId:T,error:P,type:W}=l;if(P)return void d.reject(P);const he={auth:d.auth,requestUri:p,sessionId:_,tenantId:T||void 0,postBody:v||void 0,user:d.user,bypassAuthState:d.bypassAuthState};try{d.resolve(yield d.getIdpTask(W)(he))}catch(ye){d.reject(ye)}})()}onError(l){this.reject(l)}getIdpTask(l){switch(l){case"signInViaPopup":case"signInViaRedirect":return Sa;case"linkViaPopup":case"linkViaRedirect":return OE;case"reauthViaPopup":case"reauthViaRedirect":return ri;default:Dt(this.auth,"internal-error")}}resolve(l){Wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(l),this.unregisterAndCleanUp()}reject(l){Wt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(l),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xs=new Gi(2e3,1e4);function Df(){return(Df=(0,I.Z)(function*(f,l,d){const p=Qt(f);Je(f,l,bs);const _=ko(p,d);return new Fe(p,"signInViaPopup",l,_).executeNotNull()})).apply(this,arguments)}function Fu(){return(Fu=(0,I.Z)(function*(f,l,d){const p=(0,$.m9)(f);Je(p.auth,l,bs);const _=ko(p.auth,d);return new Fe(p.auth,"reauthViaPopup",l,_,p).executeNotNull()})).apply(this,arguments)}function Sf(){return(Sf=(0,I.Z)(function*(f,l,d){const p=(0,$.m9)(f);Je(p.auth,l,bs);const _=ko(p.auth,d);return new Fe(p.auth,"linkViaPopup",l,_,p).executeNotNull()})).apply(this,arguments)}let Fe=(()=>{class f extends C_{constructor(d,p,_,v,T){super(d,p,v,T),this.provider=_,this.authWindow=null,this.pollId=null,f.currentPopupAction&&f.currentPopupAction.cancel(),f.currentPopupAction=this}executeNotNull(){var d=this;return(0,I.Z)(function*(){const p=yield d.execute();return J(p,d.auth,"internal-error"),p})()}onExecution(){var d=this;return(0,I.Z)(function*(){Wt(1===d.filter.length,"Popup operations only handle one event");const p=Zs();d.authWindow=yield d.resolver._openPopup(d.auth,d.provider,d.filter[0],p),d.authWindow.associatedEvent=p,d.resolver._originValidation(d.auth).catch(_=>{d.reject(_)}),d.resolver._isIframeWebStorageSupported(d.auth,_=>{_||d.reject(Vt(d.auth,"web-storage-unsupported"))}),d.pollUserCancellation()})()}get eventId(){var d;return(null===(d=this.authWindow)||void 0===d?void 0:d.associatedEvent)||null}cancel(){this.reject(Vt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,f.currentPopupAction=null}pollUserCancellation(){const d=()=>{var p,_;this.pollId=null!==(_=null===(p=this.authWindow)||void 0===p?void 0:p.window)&&void 0!==_&&_.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Vt(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(d,Xs.get())};d()}}return f.currentPopupAction=null,f})();const x_="pendingRedirect",Lu=new Map;class kE extends C_{constructor(l,d,p=!1){super(l,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],d,void 0,p),this.eventId=null}execute(){var l=()=>super.execute,d=this;return(0,I.Z)(function*(){let p=Lu.get(d.auth._key());if(!p){try{const v=(yield function FE(f,l){return xf.apply(this,arguments)}(d.resolver,d.auth))?yield l().call(d):null;p=()=>Promise.resolve(v)}catch(_){p=()=>Promise.reject(_)}Lu.set(d.auth._key(),p)}return d.bypassAuthState||Lu.set(d.auth._key(),()=>Promise.resolve(null)),p()})()}onAuthEvent(l){var d=()=>super.onAuthEvent,p=this;return(0,I.Z)(function*(){if("signInViaRedirect"===l.type)return d().call(p,l);if("unknown"!==l.type){if(l.eventId){const _=yield p.auth._redirectUserForId(l.eventId);if(_)return p.user=_,d().call(p,l);p.resolve(null)}}else p.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function xf(){return(xf=(0,I.Z)(function*(f,l){const d=M_(l),p=R_(f);if(!(yield p._isAvailable()))return!1;const _="true"===(yield p._get(d));return yield p._remove(d),_})).apply(this,arguments)}function Vu(f,l){return Js.apply(this,arguments)}function Js(){return(Js=(0,I.Z)(function*(f,l){return R_(f)._set(M_(l),"true")})).apply(this,arguments)}function Rf(f,l){Lu.set(f._key(),l)}function R_(f){return et(f._redirectPersistence)}function M_(f){return $n(x_,f.config.apiKey,f.name)}function VE(f,l,d){return function ne(f,l,d){return ft.apply(this,arguments)}(f,l,d)}function ft(){return(ft=(0,I.Z)(function*(f,l,d){const p=Qt(f);Je(f,l,bs),yield p._initializationPromise;const _=ko(p,d);return yield Vu(_,p),_._openRedirect(p,l,"signInViaRedirect")})).apply(this,arguments)}function ws(f,l,d){return function Ts(f,l,d){return kn.apply(this,arguments)}(f,l,d)}function kn(){return(kn=(0,I.Z)(function*(f,l,d){const p=(0,$.m9)(f);Je(p.auth,l,bs),yield p.auth._initializationPromise;const _=ko(p.auth,d);yield Vu(_,p.auth);const v=yield Pf(p);return _._openRedirect(p.auth,l,"reauthViaRedirect",v)})).apply(this,arguments)}function P_(f,l,d){return function Yc(f,l,d){return yi.apply(this,arguments)}(f,l,d)}function yi(){return(yi=(0,I.Z)(function*(f,l,d){const p=(0,$.m9)(f);Je(p.auth,l,bs),yield p.auth._initializationPromise;const _=ko(p.auth,d);yield Lr(!1,p,l.providerId),yield Vu(_,p.auth);const v=yield Pf(p);return _._openRedirect(p.auth,l,"linkViaRedirect",v)})).apply(this,arguments)}function Xc(){return(Xc=(0,I.Z)(function*(f,l){return yield Qt(f)._initializationPromise,Uu(f,l,!1)})).apply(this,arguments)}function Uu(f,l){return N_.apply(this,arguments)}function N_(){return(N_=(0,I.Z)(function*(f,l,d=!1){const p=Qt(f),_=ko(p,l),T=yield new kE(p,_,d).execute();return T&&!d&&(delete T.user._redirectEventId,yield p._persistUserIfCurrent(T.user),yield p._setRedirectUser(null,l)),T})).apply(this,arguments)}function Pf(f){return rr.apply(this,arguments)}function rr(){return(rr=(0,I.Z)(function*(f){const l=Zs(`${f.uid}:::`);return f._redirectEventId=l,yield f.auth._setRedirectUser(f),yield f.auth._persistUserIfCurrent(f),l})).apply(this,arguments)}class Nf{constructor(l){this.auth=l,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(l){this.consumers.add(l),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,l)&&(this.sendToConsumer(this.queuedRedirectEvent,l),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(l){this.consumers.delete(l)}onEvent(l){if(this.hasEventBeenHandled(l))return!1;let d=!1;return this.consumers.forEach(p=>{this.isEventForConsumer(l,p)&&(d=!0,this.sendToConsumer(l,p),this.saveEventToCache(l))}),this.hasHandledPotentialRedirect||!function UE(f){switch(f.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return is(f);default:return!1}}(l)||(this.hasHandledPotentialRedirect=!0,d||(this.queuedRedirectEvent=l,d=!0)),d}sendToConsumer(l,d){var p;if(l.error&&!is(l)){const _=(null===(p=l.error.code)||void 0===p?void 0:p.split("auth/")[1])||"internal-error";d.onError(Vt(this.auth,_))}else d.onAuthEvent(l)}isEventForConsumer(l,d){const p=null===d.eventId||!!l.eventId&&l.eventId===d.eventId;return d.filter.includes(l.type)&&p}hasEventBeenHandled(l){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fo(l))}saveEventToCache(l){this.cachedEventUids.add(Fo(l)),this.lastProcessedEventTime=Date.now()}}function Fo(f){return[f.type,f.eventId,f.sessionId,f.tenantId].filter(l=>l).join("-")}function is({type:f,error:l}){return"unknown"===f&&"auth/no-auth-event"===l?.code}function Of(f){return kf.apply(this,arguments)}function kf(){return(kf=(0,I.Z)(function*(f,l={}){return H(f,"GET","/v1/projects",l)})).apply(this,arguments)}const BE=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ff=/^https?/;function Bu(){return(Bu=(0,I.Z)(function*(f){if(f.config.emulator)return;const{authorizedDomains:l}=yield Of(f);for(const d of l)try{if(Vf(d))return}catch{}Dt(f,"unauthorized-domain")})).apply(this,arguments)}function Vf(f){const l=Pn(),{protocol:d,hostname:p}=new URL(l);if(f.startsWith("chrome-extension://")){const T=new URL(f);return""===T.hostname&&""===p?"chrome-extension:"===d&&f.replace("chrome-extension://","")===l.replace("chrome-extension://",""):"chrome-extension:"===d&&T.hostname===p}if(!Ff.test(d))return!1;if(BE.test(f))return p===f;const _=f.replace(/\./g,"\\.");return new RegExp("^(.+\\."+_+"|"+_+")$","i").test(p)}const jE=new Gi(3e4,6e4);function Uf(){const f=wn().___jsl;if(f?.H)for(const l of Object.keys(f.H))if(f.H[l].r=f.H[l].r||[],f.H[l].L=f.H[l].L||[],f.H[l].r=[...f.H[l].L],f.CP)for(let d=0;d<f.CP.length;d++)f.CP[d]=null}let Jc=null;const k_=new Gi(5e3,15e3),F_="__/auth/iframe",jf="emulator/auth/iframe",HE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$E=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ir(f){const l=f.config;J(l.authDomain,f,"auth-domain-config-required");const d=l.emulator?V(l,jf):`https://${f.config.authDomain}/${F_}`,p={apiKey:l.apiKey,appName:f.name,v:Ve.SDK_VERSION},_=$E.get(f.config.apiHost);_&&(p.eid=_);const v=f._getFrameworks();return v.length&&(p.fw=v.join(",")),`${d}?${(0,$.xO)(p).slice(1)}`}function $t(){return $t=(0,I.Z)(function*(f){const l=yield function O_(f){return Jc=Jc||function Bf(f){return new Promise((l,d)=>{var p,_,v;function T(){Uf(),gapi.load("gapi.iframes",{callback:()=>{l(gapi.iframes.getContext())},ontimeout:()=>{Uf(),d(Vt(f,"network-request-failed"))},timeout:jE.get()})}if(null!==(_=null===(p=wn().gapi)||void 0===p?void 0:p.iframes)&&void 0!==_&&_.Iframe)l(gapi.iframes.getContext());else{if(null===(v=wn().gapi)||void 0===v||!v.load){const P=hE("iframefcb");return wn()[P]=()=>{gapi.load?T():d(Vt(f,"network-request-failed"))},Hg(`https://apis.google.com/js/api.js?onload=${P}`).catch(W=>d(W))}T()}}).catch(l=>{throw Jc=null,l})}(f),Jc}(f),d=wn().gapi;return J(d,f,"internal-error"),l.open({where:document.body,url:Ir(f),messageHandlersFilter:d.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HE,dontclear:!0},p=>new Promise(function(){var _=(0,I.Z)(function*(v,T){yield p.restyle({setHideOnLeave:!1});const P=Vt(f,"network-request-failed"),W=wn().setTimeout(()=>{T(P)},k_.get());function he(){wn().clearTimeout(W),v(p)}p.ping(he).then(he,()=>{T(P)})});return function(v,T){return _.apply(this,arguments)}}()))}),$t.apply(this,arguments)}const eo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hf{constructor(l){this.window=l,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const GE="__/auth/handler",Hu="emulator/auth/handler",$u=encodeURIComponent("fac");function xa(f,l,d,p,_,v){return el.apply(this,arguments)}function el(){return(el=(0,I.Z)(function*(f,l,d,p,_,v){J(f.config.authDomain,f,"auth-domain-config-required"),J(f.config.apiKey,f,"invalid-api-key");const T={apiKey:f.config.apiKey,appName:f.name,authType:d,redirectUrl:p,v:Ve.SDK_VERSION,eventId:_};if(l instanceof bs){l.setDefaultLanguage(f.languageCode),T.providerId=l.providerId||"",(0,$.xb)(l.getCustomParameters())||(T.customParameters=JSON.stringify(l.getCustomParameters()));for(const[ye,Ie]of Object.entries(v||{}))T[ye]=Ie}if(l instanceof Fr){const ye=l.getScopes().filter(Ie=>""!==Ie);ye.length>0&&(T.scopes=ye.join(","))}f.tenantId&&(T.tid=f.tenantId);const P=T;for(const ye of Object.keys(P))void 0===P[ye]&&delete P[ye];const W=yield f._getAppCheckToken(),he=W?`#${$u}=${encodeURIComponent(W)}`:"";return`${function U_({config:f}){return f.emulator?V(f,Hu):`https://${f.authDomain}/${GE}`}(f)}?${(0,$.xO)(P).slice(1)}${he}`})).apply(this,arguments)}const zu="webStorageSupport",Vo=class WE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Oo,this._completeRedirectFn=Uu,this._overrideRedirectResult=Rf}_openPopup(l,d,p,_){var v=this;return(0,I.Z)(function*(){var T;Wt(null===(T=v.eventManagers[l._key()])||void 0===T?void 0:T.manager,"_initialize() not called before _openPopup()");const P=yield xa(l,d,p,Pn(),_);return function ju(f,l,d,p=500,_=600){const v=Math.max((window.screen.availHeight-_)/2,0).toString(),T=Math.max((window.screen.availWidth-p)/2,0).toString();let P="";const W=Object.assign(Object.assign({},eo),{width:p.toString(),height:_.toString(),top:v,left:T}),he=(0,$.z$)().toLowerCase();d&&(P=hu(he)?"_blank":d),Ot(he)&&(l=l||"http://localhost",W.scrollbars="yes");const ye=Object.entries(W).reduce((mn,[Mi,nd])=>`${mn}${Mi}=${nd},`,"");if(function O(f=(0,$.z$)()){var l;return ze(f)&&!(null===(l=window.navigator)||void 0===l||!l.standalone)}(he)&&"_self"!==P)return function to(f,l){const d=document.createElement("a");d.href=f,d.target=l;const p=document.createEvent("MouseEvent");p.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),d.dispatchEvent(p)}(l||"",P),new Hf(null);const Ie=window.open(l||"",P,ye);J(Ie,f,"popup-blocked");try{Ie.focus()}catch{}return new Hf(Ie)}(l,P,Zs())})()}_openRedirect(l,d,p,_){var v=this;return(0,I.Z)(function*(){return yield v._originValidation(l),function f_(f){wn().location.href=f}(yield xa(l,d,p,Pn(),_)),new Promise(()=>{})})()}_initialize(l){const d=l._key();if(this.eventManagers[d]){const{manager:_,promise:v}=this.eventManagers[d];return _?Promise.resolve(_):(Wt(v,"If manager is not set, promise should be"),v)}const p=this.initAndGetManager(l);return this.eventManagers[d]={promise:p},p.catch(()=>{delete this.eventManagers[d]}),p}initAndGetManager(l){var d=this;return(0,I.Z)(function*(){const p=yield function Lo(f){return $t.apply(this,arguments)}(l),_=new Nf(l);return p.register("authEvent",v=>(J(v?.authEvent,l,"invalid-auth-event"),{status:_.onEvent(v.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),d.eventManagers[l._key()]={manager:_},d.iframes[l._key()]=p,_})()}_isIframeWebStorageSupported(l,d){this.iframes[l._key()].send(zu,{type:zu},_=>{var v;const T=null===(v=_?.[0])||void 0===v?void 0:v[zu];void 0!==T&&d(!!T),Dt(l,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Lf(f){return Bu.apply(this,arguments)}(l)),this.originValidationPromises[d]}get _shouldInitProactively(){return we()||Wi()||ze()}};class tl{constructor(l){this.factorId=l}_process(l,d,p){switch(d.type){case"enroll":return this._finalizeEnroll(l,d.credential,p);case"signin":return this._finalizeSignIn(l,d.credential);default:return sn("unexpected MultiFactorSessionType")}}}class $f extends tl{constructor(l){super("phone"),this.credential=l}static _fromCredential(l){return new $f(l)}_finalizeEnroll(l,d,p){return function jx(f,l){return H(f,"POST","/v2/accounts/mfaEnrollment:finalize",te(f,l))}(l,{idToken:d,displayName:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(l,d){return function Qx(f,l){return H(f,"POST","/v2/accounts/mfaSignIn:finalize",te(f,l))}(l,{mfaPendingCredential:d,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Jx=(()=>{class f{constructor(){}static assertion(d){return $f._fromCredential(d)}}return f.FACTOR_ID="phone",f})();var KE="@firebase/auth";class zf{constructor(l){this.auth=l,this.internalListeners=new Map}getUid(){var l;return this.assertAuthConfigured(),(null===(l=this.auth.currentUser)||void 0===l?void 0:l.uid)||null}getToken(l){var d=this;return(0,I.Z)(function*(){return d.assertAuthConfigured(),yield d.auth._initializationPromise,d.auth.currentUser?{accessToken:yield d.auth.currentUser.getIdToken(l)}:null})()}addAuthTokenListener(l){if(this.assertAuthConfigured(),this.internalListeners.has(l))return;const d=this.auth.onIdTokenChanged(p=>{l(p?.stsTokenManager.accessToken||null)});this.internalListeners.set(l,d),this.updateProactiveRefresh()}removeAuthTokenListener(l){this.assertAuthConfigured();const d=this.internalListeners.get(l);d&&(this.internalListeners.delete(l),d(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function no(){return window}(0,$.Pz)("authIdTokenMaxAge"),function QE(f){(0,Ve._registerComponent)(new hn.wA("auth",(l,{options:d})=>{const p=l.getProvider("app").getImmediate(),_=l.getProvider("heartbeat"),v=l.getProvider("app-check-internal"),{apiKey:T,authDomain:P}=p.options;J(T&&!T.includes(":"),"invalid-api-key",{appName:p.name});const W={apiKey:T,authDomain:P,clientPlatform:f,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ga(f)},he=new dE(p,_,v,W);return function Rx(f,l){const d=l?.persistence||[],p=(Array.isArray(d)?d:[d]).map(et);l?.errorMap&&f._updateErrorMap(l.errorMap),f._initializeWithPersistence(p,l?.popupRedirectResolver)}(he,d),he},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((l,d,p)=>{l.getProvider("auth-internal").initialize()})),(0,Ve._registerComponent)(new hn.wA("auth-internal",l=>{const d=Qt(l.getProvider("auth").getImmediate());return new zf(d)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ve.registerVersion)(KE,"1.4.0",function nl(f){switch(f){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(f)),(0,Ve.registerVersion)(KE,"1.4.0","esm2017")}("Browser");function Gf(){return Gf=(0,I.Z)(function*(f,l,d){var p;const{BuildInfo:_}=no();Wt(l.sessionId,"AuthEvent did not contain a session ID");const v=yield function z_(f){return Ku.apply(this,arguments)}(l.sessionId),T={};return ze()?T.ibi=_.packageName:R()?T.apn=_.packageName:Dt(f,"operation-not-supported-in-this-environment"),_.displayName&&(T.appDisplayName=_.displayName),T.sessionId=v,xa(f,d,l.type,void 0,null!==(p=l.eventId)&&void 0!==p?p:void 0,T)}),Gf.apply(this,arguments)}function sl(){return(sl=(0,I.Z)(function*(f){const{BuildInfo:l}=no(),d={};ze()?d.iosBundleId=l.packageName:R()?d.androidPackageName=l.packageName:Dt(f,"operation-not-supported-in-this-environment"),yield Of(f,d)})).apply(this,arguments)}function ol(){return(ol=(0,I.Z)(function*(f,l,d){const{cordova:p}=no();let _=()=>{};try{yield new Promise((v,T)=>{let P=null;function W(){var Ie;v();const mn=null===(Ie=p.plugins.browsertab)||void 0===Ie?void 0:Ie.close;"function"==typeof mn&&mn(),"function"==typeof d?.close&&d.close()}function he(){P||(P=window.setTimeout(()=>{T(Vt(f,"redirect-cancelled-by-user"))},2e3))}function ye(){"visible"===document?.visibilityState&&he()}l.addPassiveListener(W),document.addEventListener("resume",he,!1),R()&&document.addEventListener("visibilitychange",ye,!1),_=()=>{l.removePassiveListener(W),document.removeEventListener("resume",he,!1),document.removeEventListener("visibilitychange",ye,!1),P&&window.clearTimeout(P)}})}finally{_()}})).apply(this,arguments)}function Ku(){return(Ku=(0,I.Z)(function*(f){const l=function q_(f){if(Wt(/[0-9a-zA-Z]+/.test(f),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(f);const l=new ArrayBuffer(f.length),d=new Uint8Array(l);for(let p=0;p<f.length;p++)d[p]=f.charCodeAt(p);return d}(f),d=yield crypto.subtle.digest("SHA-256",l);return Array.from(new Uint8Array(d)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class eI extends Nf{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(l=>{this.resolveInialized=l})}addPassiveListener(l){this.passiveListeners.add(l)}removePassiveListener(l){this.passiveListeners.delete(l)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(l){return this.resolveInialized(),this.passiveListeners.forEach(d=>d(l)),super.onEvent(l)}initialized(){var l=this;return(0,I.Z)(function*(){yield l.initPromise})()}}function W_(f){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,I.Z)(function*(f){const l=yield Wf()._get(ir(f));return l&&(yield Wf()._remove(ir(f))),l})).apply(this,arguments)}function al(){const f=[];for(let d=0;d<20;d++){const p=Math.floor(62*Math.random());f.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(p))}return f.join("")}function Wf(){return et(ns)}function ir(f){return $n("authEvent",f.config.apiKey,f.name)}function Ra(f){if(!f?.includes("?"))return{};const[l,...d]=f.split("?");return(0,$.zd)(d.join("?"))}const Yu=class Z_{constructor(){this._redirectPersistence=Oo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Uu,this._overrideRedirectResult=Rf}_initialize(l){var d=this;return(0,I.Z)(function*(){const p=l._key();let _=d.eventManagers.get(p);return _||(_=new eI(l),d.eventManagers.set(p,_),d.attachCallbackListeners(l,_)),_})()}_openPopup(l){Dt(l,"operation-not-supported-in-this-environment")}_openRedirect(l,d,p,_){var v=this;return(0,I.Z)(function*(){!function JE(f){var l,d,p,_,v,T,P,W,he,ye;const Ie=no();J("function"==typeof(null===(l=Ie?.universalLinks)||void 0===l?void 0:l.subscribe),f,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),J(typeof(null===(d=Ie?.BuildInfo)||void 0===d?void 0:d.packageName)<"u",f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),J("function"==typeof(null===(v=null===(_=null===(p=Ie?.cordova)||void 0===p?void 0:p.plugins)||void 0===_?void 0:_.browsertab)||void 0===v?void 0:v.openUrl),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(W=null===(P=null===(T=Ie?.cordova)||void 0===T?void 0:T.plugins)||void 0===P?void 0:P.browsertab)||void 0===W?void 0:W.isAvailable),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),J("function"==typeof(null===(ye=null===(he=Ie?.cordova)||void 0===he?void 0:he.InAppBrowser)||void 0===ye?void 0:ye.open),f,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(l);const T=yield v._initialize(l);yield T.initialized(),T.resetRedirect(),function LE(){Lu.clear()}(),yield v._originValidation(l);const P=function Zu(f,l,d=null){return{type:l,eventId:d,urlResponse:null,sessionId:al(),postBody:null,tenantId:f.tenantId,error:Vt(f,"no-auth-event")}}(l,p,_);yield function Uo(f,l){return Wf()._set(ir(f),l)}(l,P);const W=yield function ss(f,l,d){return Gf.apply(this,arguments)}(l,P,d),he=yield function $_(f){const{cordova:l}=no();return new Promise(d=>{l.plugins.browsertab.isAvailable(p=>{let _=null;p?l.plugins.browsertab.openUrl(f):_=l.InAppBrowser.open(f,function it(f=(0,$.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(f)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(f)}()?"_blank":"_system","location=yes"),d(_)})})}(W);return function Wu(f,l,d){return ol.apply(this,arguments)}(l,T,he)})()}_isIframeWebStorageSupported(l,d){throw new Error("Method not implemented.")}_originValidation(l){const d=l._key();return this.originValidationPromises[d]||(this.originValidationPromises[d]=function Gu(f){return sl.apply(this,arguments)}(l)),this.originValidationPromises[d]}attachCallbackListeners(l,d){const{universalLinks:p,handleOpenURL:_,BuildInfo:v}=no(),T=setTimeout((0,I.Z)(function*(){yield W_(l),d.onEvent(Bo())}),500),P=function(){var ye=(0,I.Z)(function*(Ie){clearTimeout(T);const mn=yield W_(l);let Mi=null;mn&&Ie?.url&&(Mi=function K_(f,l){var d,p;const _=function pn(f){const l=Ra(f),d=l.link?decodeURIComponent(l.link):void 0,p=Ra(d).link,_=l.deep_link_id?decodeURIComponent(l.deep_link_id):void 0;return Ra(_).link||_||p||d||f}(l);if(_.includes("/__/auth/callback")){const v=Ra(_),T=v.firebaseError?function tI(f){try{return JSON.parse(f)}catch{return null}}(decodeURIComponent(v.firebaseError)):null,P=null===(p=null===(d=T?.code)||void 0===d?void 0:d.split("auth/"))||void 0===p?void 0:p[1],W=P?Vt(P):null;return W?{type:f.type,eventId:f.eventId,tenantId:f.tenantId,error:W,urlResponse:null,sessionId:null,postBody:null}:{type:f.type,eventId:f.eventId,tenantId:f.tenantId,sessionId:f.sessionId,urlResponse:_,postBody:null}}return null}(mn,Ie.url)),d.onEvent(Mi||Bo())});return function(mn){return ye.apply(this,arguments)}}();typeof p<"u"&&"function"==typeof p.subscribe&&p.subscribe(null,P);const W=_,he=`${v.packageName.toLowerCase()}://`;no().handleOpenURL=function(){var ye=(0,I.Z)(function*(Ie){if(Ie.toLowerCase().startsWith(he)&&P({url:Ie}),"function"==typeof W)try{W(Ie)}catch(mn){console.error(mn)}});return function(Ie){return ye.apply(this,arguments)}}()}};function Bo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Vt("no-auth-event")}}function os(){var f;return(null===(f=self?.location)||void 0===f?void 0:f.protocol)||null}function Y_(f=(0,$.z$)()){return!("file:"!==os()&&"ionic:"!==os()&&"capacitor:"!==os()||!f.toLowerCase().match(/iphone|ipad|ipod|android/))}function rI(){try{const f=self.localStorage,l=Zs();if(f)return f.setItem(l,"1"),f.removeItem(l),!function o1(f=(0,$.z$)()){return function r1(){return(0,$.w1)()&&11===document?.documentMode}()||function s1(f=(0,$.z$)()){return/Edge\/\d+/.test(f)}(f)}()||(0,$.hl)()}catch{return X_()&&(0,$.hl)()}return!1}function X_(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ro(){return(function t1(){return"http:"===os()||"https:"===os()}()||(0,$.ru)()||Y_())&&!function n1(){return(0,$.b$)()||(0,$.UG)()}()&&rI()&&!X_()}function J_(){return Y_()&&typeof document<"u"}function Tn(){return(Tn=(0,I.Z)(function*(){return!!J_()&&new Promise(f=>{const l=setTimeout(()=>{f(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(l),f(!0)})})})).apply(this,arguments)}const sr={LOCAL:"local",NONE:"none",SESSION:"session"},cl=J,ii="persistence";function Xu(f){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,I.Z)(function*(f){yield f._initializationPromise;const l=ey(),d=$n(ii,f.config.apiKey,f.name);l&&l.setItem(d,f._getPersistence())})).apply(this,arguments)}function ey(){var f;try{return(null===(f=function sI(){return typeof window<"u"?window:null}())||void 0===f?void 0:f.sessionStorage)||null}catch{return null}}const a1=J;class io{constructor(){this.browserResolver=et(Vo),this.cordovaResolver=et(Yu),this.underlyingResolver=null,this._redirectPersistence=Oo,this._completeRedirectFn=Uu,this._overrideRedirectResult=Rf}_initialize(l){var d=this;return(0,I.Z)(function*(){return yield d.selectUnderlyingResolver(),d.assertedUnderlyingResolver._initialize(l)})()}_openPopup(l,d,p,_){var v=this;return(0,I.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openPopup(l,d,p,_)})()}_openRedirect(l,d,p,_){var v=this;return(0,I.Z)(function*(){return yield v.selectUnderlyingResolver(),v.assertedUnderlyingResolver._openRedirect(l,d,p,_)})()}_isIframeWebStorageSupported(l,d){this.assertedUnderlyingResolver._isIframeWebStorageSupported(l,d)}_originValidation(l){return this.assertedUnderlyingResolver._originValidation(l)}get _shouldInitProactively(){return J_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return a1(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var l=this;return(0,I.Z)(function*(){if(l.underlyingResolver)return;const d=yield function iI(){return Tn.apply(this,arguments)}();l.underlyingResolver=d?l.cordovaResolver:l.browserResolver})()}}function oI(f){return f.unwrap()}function Zf(f){return aI(f)}function aI(f){const{_tokenResponse:l}=f instanceof $.ZR?f.customData:f;if(!l)return null;if(!(f instanceof $.ZR)&&"temporaryProof"in l&&"phoneNumber"in l)return qn.credentialFromResult(f);const d=l.providerId;if(!d||d===ct.PASSWORD)return null;let p;switch(d){case ct.GOOGLE:p=xi;break;case ct.FACEBOOK:p=Xr;break;case ct.GITHUB:p=vt;break;case ct.TWITTER:p=Qi;break;default:const{oauthIdToken:_,oauthAccessToken:v,oauthTokenSecret:T,pendingToken:P,nonce:W}=l;return v||T||_||P?P?d.startsWith("saml.")?zs._create(d,P):Ki._fromParams({providerId:d,signInMethod:d,pendingToken:P,idToken:_,accessToken:v}):new Es(d).credential({idToken:_,accessToken:v,rawNonce:W}):null}return f instanceof $.ZR?p.credentialFromError(f):p.credentialFromResult(f)}function wr(f,l){return l.catch(d=>{throw d instanceof $.ZR&&function ka(f,l){var d;const p=null===(d=l.customData)||void 0===d?void 0:d._tokenResponse;if("auth/multi-factor-auth-required"===l?.code)l.resolver=new cI(f,function Ux(f,l){var d;const p=(0,$.m9)(f),_=l;return J(l.customData.operationType,p,"argument-error"),J(null===(d=_.customData._serverResponse)||void 0===d?void 0:d.mfaPendingCredential,p,"argument-error"),l_._fromError(p,_)}(f,l));else if(p){const _=aI(l),v=l;_&&(v.credential=_,v.tenantId=p.tenantId||void 0,v.email=p.email||void 0,v.phoneNumber=p.phoneNumber||void 0)}}(f,d),d}).then(d=>{const _=d.user;return{operationType:d.operationType,credential:Zf(d),additionalUserInfo:tr(d),user:As.getOrCreate(_)}})}function Qf(f,l){return Yf.apply(this,arguments)}function Yf(){return(Yf=(0,I.Z)(function*(f,l){const d=yield l;return{verificationId:d.verificationId,confirm:p=>wr(f,d.confirm(p))}})).apply(this,arguments)}class cI{constructor(l,d){this.resolver=d,this.auth=function si(f){return f.wrapped()}(l)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(l){return wr(oI(this.auth),this.resolver.resolveSignIn(l))}}class As{constructor(l){this._delegate=l,this.multiFactor=function zx(f){const l=(0,$.m9)(f);return d_.has(l)||d_.set(l,u_._fromUser(l)),d_.get(l)}(l)}static getOrCreate(l){return As.USER_MAP.has(l)||As.USER_MAP.set(l,new As(l)),As.USER_MAP.get(l)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(l){return this._delegate.getIdTokenResult(l)}getIdToken(l){return this._delegate.getIdToken(l)}linkAndRetrieveDataWithCredential(l){return this.linkWithCredential(l)}linkWithCredential(l){var d=this;return(0,I.Z)(function*(){return wr(d.auth,r_(d._delegate,l))})()}linkWithPhoneNumber(l,d){var p=this;return(0,I.Z)(function*(){return Qf(p.auth,function wf(f,l,d){return Tf.apply(this,arguments)}(p._delegate,l,d))})()}linkWithPopup(l){var d=this;return(0,I.Z)(function*(){return wr(d.auth,function S_(f,l,d){return Sf.apply(this,arguments)}(d._delegate,l,io))})()}linkWithRedirect(l){var d=this;return(0,I.Z)(function*(){return yield Xu(Qt(d.auth)),P_(d._delegate,l,io)})()}reauthenticateAndRetrieveDataWithCredential(l){return this.reauthenticateWithCredential(l)}reauthenticateWithCredential(l){var d=this;return(0,I.Z)(function*(){return wr(d.auth,i_(d._delegate,l))})()}reauthenticateWithPhoneNumber(l,d){return Qf(this.auth,function rs(f,l,d){return Ou.apply(this,arguments)}(this._delegate,l,d))}reauthenticateWithPopup(l){return wr(this.auth,function D_(f,l,d){return Fu.apply(this,arguments)}(this._delegate,l,io))}reauthenticateWithRedirect(l){var d=this;return(0,I.Z)(function*(){return yield Xu(Qt(d.auth)),ws(d._delegate,l,io)})()}sendEmailVerification(l){return function Ea(f,l){return an.apply(this,arguments)}(this._delegate,l)}unlink(l){var d=this;return(0,I.Z)(function*(){return yield function EE(f,l){return Eu.apply(this,arguments)}(d._delegate,l),d})()}updateEmail(l){return function Is(f,l){return Ia((0,$.m9)(f),l,null)}(this._delegate,l)}updatePassword(l){return function zc(f,l){return Ia((0,$.m9)(f),null,l)}(this._delegate,l)}updatePhoneNumber(l){return function Cf(f,l){return Da.apply(this,arguments)}(this._delegate,l)}updateProfile(l){return function a_(f,l){return Ji.apply(this,arguments)}(this._delegate,l)}verifyBeforeUpdateEmail(l,d){return function $c(f,l,d){return Ws.apply(this,arguments)}(this._delegate,l,d)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}As.USER_MAP=new WeakMap;const ul=J;let ty=(()=>{class f{constructor(d,p){if(this.app=d,p.isInitialized())return this._delegate=p.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=d.options;ul(_,"invalid-api-key",{appName:d.name}),ul(_,"invalid-api-key",{appName:d.name});const v=typeof window<"u"?io:void 0;this._delegate=p.initialize({options:{persistence:ed(_,d.name),popupRedirectResolver:v}}),this._delegate._updateErrorMap(Qn),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?As.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(d){this._delegate.languageCode=d}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(d){this._delegate.tenantId=d}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(d,p){!function Yt(f,l,d){const p=Qt(f);J(p._canInitEmulator,p,"emulator-config-failed"),J(/^https?:\/\//.test(l),p,"invalid-emulator-scheme");const _=!!d?.disableWarnings,v=Mc(l),{host:T,port:P}=function mE(f){const l=Mc(f),d=/(\/\/)?([^?#/]+)/.exec(f.substr(l.length));if(!d)return{host:"",port:null};const p=d[2].split("@").pop()||"",_=/^(\[[^\]]+\])(:|$)/.exec(p);if(_){const v=_[1];return{host:v,port:Kh(p.substr(v.length+1))}}{const[v,T]=p.split(":");return{host:v,port:Kh(T)}}}(l);p.config.emulator={url:`${v}//${T}${null===P?"":`:${P}`}/`},p.settings.appVerificationDisabledForTesting=!0,p.emulatorConfig=Object.freeze({host:T,port:P,protocol:v.replace(":",""),options:Object.freeze({disableWarnings:_})}),_||function gE(){function f(){const l=document.createElement("p"),d=l.style;l.innerText="Running in emulator mode. Do not use with production credentials.",d.position="fixed",d.width="100%",d.backgroundColor="#ffffff",d.border=".1em solid #000000",d.color="#b50000",d.bottom="0px",d.left="0px",d.margin="0px",d.zIndex="10000",d.textAlign="center",l.classList.add("firebase-emulator-warning"),document.body.appendChild(l)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",f):f())}()}(this._delegate,d,p)}applyActionCode(d){return function s_(f,l){return ya.apply(this,arguments)}(this._delegate,d)}checkActionCode(d){return o_(this._delegate,d)}confirmPasswordReset(d,p){return function ei(f,l,d){return Cu.apply(this,arguments)}(this._delegate,d,p)}createUserWithEmailAndPassword(d,p){var _=this;return(0,I.Z)(function*(){return wr(_._delegate,function Ke(f,l,d){return Ut.apply(this,arguments)}(_._delegate,d,p))})()}fetchProvidersForEmail(d){return this.fetchSignInMethodsForEmail(d)}fetchSignInMethodsForEmail(d){return function Hc(f,l){return Au.apply(this,arguments)}(this._delegate,d)}isSignInWithEmailLink(d){return function va(f,l){const d=vs.parseLink(l);return"EMAIL_SIGNIN"===d?.operation}(0,d)}getRedirectResult(){var d=this;return(0,I.Z)(function*(){ul(ro(),d._delegate,"operation-not-supported-in-this-environment");const p=yield function Mf(f,l){return Xc.apply(this,arguments)}(d._delegate,io);return p?wr(d._delegate,Promise.resolve(p)):{credential:null,user:null}})()}addFrameworkForLogging(d){!function Ma(f,l){Qt(f)._logFramework(l)}(this._delegate,d)}onAuthStateChanged(d,p,_){const{next:v,error:T,complete:P}=Ju(d,p,_);return this._delegate.onAuthStateChanged(v,T,P)}onIdTokenChanged(d,p,_){const{next:v,error:T,complete:P}=Ju(d,p,_);return this._delegate.onIdTokenChanged(v,T,P)}sendSignInLinkToEmail(d,p){return function jc(f,l,d){return zn.apply(this,arguments)}(this._delegate,d,p)}sendPasswordResetEmail(d,p){return function Er(f,l,d){return Gs.apply(this,arguments)}(this._delegate,d,p||void 0)}setPersistence(d){var p=this;return(0,I.Z)(function*(){let _;switch(function Na(f,l){cl(Object.values(sr).includes(l),f,"invalid-persistence-type"),(0,$.b$)()?cl(l!==sr.SESSION,f,"unsupported-persistence-type"):(0,$.UG)()?cl(l===sr.NONE,f,"unsupported-persistence-type"):X_()?cl(l===sr.NONE||l===sr.LOCAL&&(0,$.hl)(),f,"unsupported-persistence-type"):cl(l===sr.NONE||rI(),f,"unsupported-persistence-type")}(p._delegate,d),d){case sr.SESSION:_=Oo;break;case sr.LOCAL:_=(yield et(Aa)._isAvailable())?Aa:ns;break;case sr.NONE:_=Zt;break;default:return Dt("argument-error",{appName:p._delegate.name})}return p._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(d){return this.signInWithCredential(d)}signInAnonymously(){return wr(this._delegate,function t_(f){return bu.apply(this,arguments)}(this._delegate))}signInWithCredential(d){return wr(this._delegate,Iu(this._delegate,d))}signInWithCustomToken(d){return wr(this._delegate,function wE(f,l){return Xt.apply(this,arguments)}(this._delegate,d))}signInWithEmailAndPassword(d,p){return wr(this._delegate,function Ri(f,l,d){return Iu((0,$.m9)(f),Jh.credential(l,d)).catch(function(){var p=(0,I.Z)(function*(_){throw"auth/password-does-not-meet-requirements"===_.code&&ht(f),_});return function(_){return p.apply(this,arguments)}}())}(this._delegate,d,p))}signInWithEmailLink(d,p){return wr(this._delegate,function In(f,l,d){return Yi.apply(this,arguments)}(this._delegate,d,p))}signInWithPhoneNumber(d,p){return Qf(this._delegate,function T_(f,l,d){return If.apply(this,arguments)}(this._delegate,d,p))}signInWithPopup(d){var p=this;return(0,I.Z)(function*(){return ul(ro(),p._delegate,"operation-not-supported-in-this-environment"),wr(p._delegate,function A_(f,l,d){return Df.apply(this,arguments)}(p._delegate,d,io))})()}signInWithRedirect(d){var p=this;return(0,I.Z)(function*(){return ul(ro(),p._delegate,"operation-not-supported-in-this-environment"),yield Xu(p._delegate),VE(p._delegate,d,io)})()}updateCurrentUser(d){return this._delegate.updateCurrentUser(d)}verifyPasswordResetCode(d){return function fn(f,l){return pe.apply(this,arguments)}(this._delegate,d)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return f.Persistence=sr,f})();function Ju(f,l,d){let p=f;"function"!=typeof f&&({next:p,error:l,complete:d}=f);const _=p;return{next:T=>_(T&&As.getOrCreate(T)),error:l,complete:d}}function ed(f,l){const d=function ll(f,l){const d=ey();if(!d)return[];const p=$n(ii,f,l);switch(d.getItem(p)){case sr.NONE:return[Zt];case sr.LOCAL:return[Aa,Oo];case sr.SESSION:return[Oo];default:return[]}}(f,l);if(typeof self<"u"&&!d.includes(Aa)&&d.push(Aa),typeof window<"u")for(const p of[ns,Oo])d.includes(p)||d.push(p);return d.includes(Zt)||d.push(Zt),d}class Xf{constructor(){this.providerId="phone",this._delegate=new qn(oI(Le.Z.auth()))}static credential(l,d){return qn.credential(l,d)}verifyPhoneNumber(l,d){return this._delegate.verifyPhoneNumber(l,d)}unwrap(){return this._delegate}}Xf.PHONE_SIGN_IN_METHOD=qn.PHONE_SIGN_IN_METHOD,Xf.PROVIDER_ID=qn.PROVIDER_ID;const dl=J;class lI{constructor(l,d,p=Le.Z.app()){var _;dl(null===(_=p.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:p.name}),this._delegate=new PE(p.auth(),l,d),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function uI(f){f.INTERNAL.registerComponent(new hn.wA("auth-compat",l=>{const d=l.getProvider("app-compat").getImmediate(),p=l.getProvider("auth");return new ty(d,p)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Jh,FacebookAuthProvider:Xr,GithubAuthProvider:vt,GoogleAuthProvider:xi,OAuthProvider:Es,SAMLAuthProvider:Uc,PhoneAuthProvider:Xf,PhoneMultiFactorGenerator:Jx,RecaptchaVerifier:lI,TwitterAuthProvider:Qi,Auth:ty,AuthCredential:ys,Error:$.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),f.registerVersion("@firebase/auth-compat","0.4.9")}(Le.Z)},861:(ms,Kn,We)=>{function I($,Ve,bt,rn,hn,Zn,ct){try{var ee=$[Zn](ct),ae=ee.value}catch(Te){return void bt(Te)}ee.done?Ve(ae):Promise.resolve(ae).then(rn,hn)}function Le($){return function(){var Ve=this,bt=arguments;return new Promise(function(rn,hn){var Zn=$.apply(Ve,bt);function ct(ae){I(Zn,rn,hn,ct,ee,"next",ae)}function ee(ae){I(Zn,rn,hn,ct,ee,"throw",ae)}ct(void 0)})}}We.d(Kn,{Z:()=>Le})},582:(ms,Kn,We)=>{function Ve(V,B){var j={};for(var G in V)Object.prototype.hasOwnProperty.call(V,G)&&B.indexOf(G)<0&&(j[G]=V[G]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var te=0;for(G=Object.getOwnPropertySymbols(V);te<G.length;te++)B.indexOf(G[te])<0&&Object.prototype.propertyIsEnumerable.call(V,G[te])&&(j[G[te]]=V[G[te]])}return j}function Te(V,B,j,G){return new(j||(j=Promise))(function(H,ge){function mt(yt){try{Ae(G.next(yt))}catch(on){ge(on)}}function be(yt){try{Ae(G.throw(yt))}catch(on){ge(on)}}function Ae(yt){yt.done?H(yt.value):function te(H){return H instanceof j?H:new j(function(ge){ge(H)})}(yt.value).then(mt,be)}Ae((G=G.apply(V,B||[])).next())})}function Gt(V){return this instanceof Gt?(this.v=V,this):new Gt(V)}function Dt(V,B,j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,G=j.apply(V,B||[]),H=[];return te={},ge("next"),ge("throw"),ge("return"),te[Symbol.asyncIterator]=function(){return this},te;function ge(Ht){G[Ht]&&(te[Ht]=function(ur){return new Promise(function(jn,vr){H.push([Ht,ur,jn,vr])>1||mt(Ht,ur)})})}function mt(Ht,ur){try{!function be(Ht){Ht.value instanceof Gt?Promise.resolve(Ht.value.v).then(Ae,yt):on(H[0][2],Ht)}(G[Ht](ur))}catch(jn){on(H[0][3],jn)}}function Ae(Ht){mt("next",Ht)}function yt(Ht){mt("throw",Ht)}function on(Ht,ur){Ht(ur),H.shift(),H.length&&mt(H[0][0],H[0][1])}}function Mr(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var j,B=V[Symbol.asyncIterator];return B?B.call(V):(V=function At(V){var B="function"==typeof Symbol&&Symbol.iterator,j=B&&V[B],G=0;if(j)return j.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&G>=V.length&&(V=void 0),{value:V&&V[G++],done:!V}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),j={},G("next"),G("throw"),G("return"),j[Symbol.asyncIterator]=function(){return this},j);function G(H){j[H]=V[H]&&function(ge){return new Promise(function(mt,be){!function te(H,ge,mt,be){Promise.resolve(be).then(function(Ae){H({value:Ae,done:mt})},ge)}(mt,be,(ge=V[H](ge)).done,ge.value)})}}}We.d(Kn,{FC:()=>Dt,KL:()=>Mr,_T:()=>Ve,mG:()=>Te,qq:()=>Gt}),"function"==typeof SuppressedError&&SuppressedError}},ms=>{ms(ms.s=113)}]);